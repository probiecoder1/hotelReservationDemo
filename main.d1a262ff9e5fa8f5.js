"use strict";(self.webpackChunkhotel_reservation_system=self.webpackChunkhotel_reservation_system||[]).push([[179],{6304:(An,xt,Q)=>{Q.d(xt,{Dh:()=>Ft,GT:()=>je,cc:()=>Mt,hO:()=>zt,on:()=>ue,pX:()=>We,xv:()=>at});var l=Q(5879),Fe=Q(7142),ee=Q(8186);An=Q.hmd(An);const He=["ngOnDestroy"],We=(Ut,Bn,Mn,$e={})=>new Proxy(Ut,{get:(_t,qe)=>Mn.runOutsideAngular(()=>{var It;if(Ut[qe])return!(null===(It=$e?.spy)||void 0===It)&&It.get&&$e.spy.get(qe,Ut[qe]),Ut[qe];if(He.indexOf(qe)>-1)return()=>{};const Vt=Bn.toPromise().then(tn=>{const nt=tn&&tn[qe];return"function"==typeof nt?nt.bind(tn):nt&&nt.then?nt.then(Hn=>Mn.run(()=>Hn)):Mn.run(()=>nt)});return new Proxy(()=>{},{get:(tn,nt)=>Vt[nt],apply:(tn,nt,Hn)=>Vt.then(pi=>{var As;const xo=pi&&pi(...Hn);return!(null===(As=$e?.spy)||void 0===As)&&As.apply&&$e.spy.apply(qe,Hn,xo),xo})})})}),je=(Ut,Bn)=>{Bn.forEach(Mn=>{Object.getOwnPropertyNames(Mn.prototype||Mn).forEach($e=>{Object.defineProperty(Ut.prototype,$e,Object.getOwnPropertyDescriptor(Mn.prototype||Mn,$e))})})};class pt{constructor(Bn){return Bn}}const Ft=new l.OlP("angularfire2.app.options"),at=new l.OlP("angularfire2.app.name");function ue(Ut,Bn,Mn){const _t="object"==typeof Mn&&Mn||{};_t.name=_t.name||"string"==typeof Mn&&Mn||"[DEFAULT]";const It=Fe.Z.apps.filter(Vt=>Vt&&Vt.name===_t.name)[0]||Bn.runOutsideAngular(()=>Fe.Z.initializeApp(Ut,_t));try{JSON.stringify(Ut)!==JSON.stringify(It.options)&&_e("error",`${It.name} Firebase App already initialized with different options${An.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pt(It)}const _e=(Ut,...Bn)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ut](...Bn)},Be={provide:pt,useFactory:ue,deps:[Ft,l.R0b,[new l.FiY,at]]};let zt=(()=>{class Ut{constructor(Mn){Fe.Z.registerVersion("angularfire",ee.q4.full,"core"),Fe.Z.registerVersion("angularfire",ee.q4.full,"app-compat"),Fe.Z.registerVersion("angular",l.q4F.full,Mn.toString())}static initializeApp(Mn,$e){return{ngModule:Ut,providers:[{provide:Ft,useValue:Mn},{provide:at,useValue:$e}]}}}return Ut.\u0275fac=function(Mn){return new(Mn||Ut)(l.LFG(l.Lbi))},Ut.\u0275mod=l.oAB({type:Ut}),Ut.\u0275inj=l.cJS({providers:[Be]}),Ut})();function Mt(Ut,Bn,Mn,$e,_t){const[,qe,It]=globalThis.\u0275AngularfireInstanceCache.find(Vt=>Vt[0]===Ut)||[];if(qe)return function rn(Ut,Bn){try{return Ut.toString()===Bn.toString()}catch{return Ut===Bn}}(_t,It)||(Qt("error",`${Bn} was already initialized on the ${Mn} Firebase App with different settings.${Ot?" You may need to reload as Firebase is not HMR aware.":""}`),Qt("warn",{is:_t,was:It})),qe;{const Vt=$e();return globalThis.\u0275AngularfireInstanceCache.push([Ut,Vt,_t]),Vt}}const Ot=!!An.hot,Qt=(Ut,...Bn)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ut](...Bn)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(An,xt,Q)=>{Q.d(xt,{q4:()=>od,iC:()=>ld,fc:()=>O_,HU:()=>_u,vb:()=>gu,JM:()=>Lf});var l=Q(5879),Fe=Q(3182),ee=Q(5861),He=Q(534),We=Q(9058),je=Q(4537),pt=Q(7879);const Ft=(A,N)=>N.some(V=>A instanceof V);let at,ue;const zt=new WeakMap,Mt=new WeakMap,rn=new WeakMap,Ot=new WeakMap,Qt=new WeakMap;let Mn={get(A,N,V){if(A instanceof IDBTransaction){if("done"===N)return Mt.get(A);if("objectStoreNames"===N)return A.objectStoreNames||rn.get(A);if("store"===N)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return It(A[N])},set:(A,N,V)=>(A[N]=V,!0),has:(A,N)=>A instanceof IDBTransaction&&("done"===N||"store"===N)||N in A};function qe(A){return"function"==typeof A?function _t(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(A)?function(...N){return A.apply(Vt(this),N),It(zt.get(this))}:function(...N){return It(A.apply(Vt(this),N))}:function(N,...V){const te=A.call(Vt(this),N,...V);return rn.set(te,N.sort?N.sort():[N]),It(te)}}(A):(A instanceof IDBTransaction&&function Bn(A){if(Mt.has(A))return;const N=new Promise((V,te)=>{const ve=()=>{A.removeEventListener("complete",Ne),A.removeEventListener("error",ot),A.removeEventListener("abort",ot)},Ne=()=>{V(),ve()},ot=()=>{te(A.error||new DOMException("AbortError","AbortError")),ve()};A.addEventListener("complete",Ne),A.addEventListener("error",ot),A.addEventListener("abort",ot)});Mt.set(A,N)}(A),Ft(A,function _e(){return at||(at=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(A,Mn):A)}function It(A){if(A instanceof IDBRequest)return function Ut(A){const N=new Promise((V,te)=>{const ve=()=>{A.removeEventListener("success",Ne),A.removeEventListener("error",ot)},Ne=()=>{V(It(A.result)),ve()},ot=()=>{te(A.error),ve()};A.addEventListener("success",Ne),A.addEventListener("error",ot)});return N.then(V=>{V instanceof IDBCursor&&zt.set(V,A)}).catch(()=>{}),Qt.set(N,A),N}(A);if(Ot.has(A))return Ot.get(A);const N=qe(A);return N!==A&&(Ot.set(A,N),Qt.set(N,A)),N}const Vt=A=>Qt.get(A),Hn=["get","getKey","getAll","getAllKeys","count"],pi=["put","add","delete","clear"],As=new Map;function xo(A,N){if(!(A instanceof IDBDatabase)||N in A||"string"!=typeof N)return;if(As.get(N))return As.get(N);const V=N.replace(/FromIndex$/,""),te=N!==V,ve=pi.includes(V);if(!(V in(te?IDBIndex:IDBObjectStore).prototype)||!ve&&!Hn.includes(V))return;const Ne=function(){var ot=(0,ee.Z)(function*(nn,...Zt){const Tn=this.transaction(nn,ve?"readwrite":"readonly");let Qn=Tn.store;return te&&(Qn=Qn.index(Zt.shift())),(yield Promise.all([Qn[V](...Zt),ve&&Tn.done]))[0]});return function(Zt){return ot.apply(this,arguments)}}();return As.set(N,Ne),Ne}!function $e(A){Mn=A(Mn)}(A=>({...A,get:(N,V,te)=>xo(N,V)||A.get(N,V,te),has:(N,V)=>!!xo(N,V)||A.has(N,V)}));const Al="@firebase/installations",Qr="0.6.4",Xc=1e4,Tl=`w:${Qr}`,it="FIS_v2",st="https://firebaseinstallations.googleapis.com/v1",yt=36e5,fn=new We.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xt(A){return A instanceof We.ZR&&A.code.includes("request-failed")}function Rr({projectId:A}){return`${st}/projects/${A}/installations`}function On(A){return{token:A.token,requestStatus:2,expiresIn:Hs(A.expiresIn),creationTime:Date.now()}}function Li(A,N){return ti.apply(this,arguments)}function ti(){return(ti=(0,ee.Z)(function*(A,N){const te=(yield N.json()).error;return fn.create("request-failed",{requestName:A,serverCode:te.code,serverMessage:te.message,serverStatus:te.status})})).apply(this,arguments)}function pr({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function ps(A){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,ee.Z)(function*(A){const N=yield A();return N.status>=500&&N.status<600?A():N})).apply(this,arguments)}function Hs(A){return Number(A.replace("s","000"))}function Zo(){return(Zo=(0,ee.Z)(function*({appConfig:A,heartbeatServiceProvider:N},{fid:V}){const te=Rr(A),ve=pr(A),Ne=N.getImmediate({optional:!0});if(Ne){const Tn=yield Ne.getHeartbeatsHeader();Tn&&ve.append("x-firebase-client",Tn)}const nn={method:"POST",headers:ve,body:JSON.stringify({fid:V,authVersion:it,appId:A.appId,sdkVersion:Tl})},Zt=yield ps(()=>fetch(te,nn));if(Zt.ok){const Tn=yield Zt.json();return{fid:Tn.fid||V,registrationStatus:2,refreshToken:Tn.refreshToken,authToken:On(Tn.authToken)}}throw yield Li("Create Installation",Zt)})).apply(this,arguments)}function Ko(A){return new Promise(N=>{setTimeout(N,A)})}const zd=/^[cdef][\w-]{21}$/,Fn="";function mi(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const V=function Kn(A){return function yc(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return zd.test(V)?V:Fn}catch{return Fn}}function Ji(A){return`${A.appName}!${A.appId}`}const Ir=new Map;function Co(A,N){const V=Ji(A);zu(V,N),function Dn(A,N){const V=function ci(){return!Eo&&"BroadcastChannel"in self&&(Eo=new BroadcastChannel("[Firebase] FID Change"),Eo.onmessage=A=>{zu(A.data.key,A.data.fid)}),Eo}();V&&V.postMessage({key:A,fid:N}),function Ml(){0===Ir.size&&Eo&&(Eo.close(),Eo=null)}()}(V,N)}function zu(A,N){const V=Ir.get(A);if(V)for(const te of V)te(N)}let Eo=null;const tl="firebase-installations-database",qu=1,oo="firebase-installations-store";let bc=null;function ja(){return bc||(bc=function tn(A,N,{blocked:V,upgrade:te,blocking:ve,terminated:Ne}={}){const ot=indexedDB.open(A,N),nn=It(ot);return te&&ot.addEventListener("upgradeneeded",Zt=>{te(It(ot.result),Zt.oldVersion,Zt.newVersion,It(ot.transaction))}),V&&ot.addEventListener("blocked",()=>V()),nn.then(Zt=>{Ne&&Zt.addEventListener("close",()=>Ne()),ve&&Zt.addEventListener("versionchange",()=>ve())}).catch(()=>{}),nn}(tl,qu,{upgrade:(A,N)=>{0===N&&A.createObjectStore(oo)}})),bc}function ms(A,N){return gs.apply(this,arguments)}function gs(){return(gs=(0,ee.Z)(function*(A,N){const V=Ji(A),ve=(yield ja()).transaction(oo,"readwrite"),Ne=ve.objectStore(oo),ot=yield Ne.get(V);return yield Ne.put(N,V),yield ve.done,(!ot||ot.fid!==N.fid)&&Co(A,N.fid),N})).apply(this,arguments)}function kl(A){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,ee.Z)(function*(A){const N=Ji(A),te=(yield ja()).transaction(oo,"readwrite");yield te.objectStore(oo).delete(N),yield te.done})).apply(this,arguments)}function Ha(A,N){return ao.apply(this,arguments)}function ao(){return(ao=(0,ee.Z)(function*(A,N){const V=Ji(A),ve=(yield ja()).transaction(oo,"readwrite"),Ne=ve.objectStore(oo),ot=yield Ne.get(V),nn=N(ot);return void 0===nn?yield Ne.delete(V):yield Ne.put(nn,V),yield ve.done,nn&&(!ot||ot.fid!==nn.fid)&&Co(A,nn.fid),nn})).apply(this,arguments)}function ge(A){return fe.apply(this,arguments)}function fe(){return fe=(0,ee.Z)(function*(A){let N;const V=yield Ha(A.appConfig,te=>{const ve=function Te(A){return Xr(A||{fid:mi(),registrationStatus:0})}(te),Ne=function Et(A,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(fn.create("app-offline"))};const V={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},te=function Ze(A,N){return gn.apply(this,arguments)}(A,V);return{installationEntry:V,registrationPromise:te}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Vn(A)}:{installationEntry:N}}(A,ve);return N=Ne.registrationPromise,Ne.installationEntry});return V.fid===Fn?{installationEntry:yield N}:{installationEntry:V,registrationPromise:N}}),fe.apply(this,arguments)}function gn(){return gn=(0,ee.Z)(function*(A,N){try{const V=yield function vc(A,N){return Zo.apply(this,arguments)}(A,N);return ms(A.appConfig,V)}catch(V){throw Xt(V)&&409===V.customData.serverCode?yield kl(A.appConfig):yield ms(A.appConfig,{fid:N.fid,registrationStatus:0}),V}}),gn.apply(this,arguments)}function Vn(A){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,ee.Z)(function*(A){let N=yield Bi(A.appConfig);for(;1===N.registrationStatus;)yield Ko(100),N=yield Bi(A.appConfig);if(0===N.registrationStatus){const{installationEntry:V,registrationPromise:te}=yield ge(A);return te||V}return N})).apply(this,arguments)}function Bi(A){return Ha(A,N=>{if(!N)throw fn.create("installation-not-found");return Xr(N)})}function Xr(A){return function Jn(A){return 1===A.registrationStatus&&A.registrationTime+Xc<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Ms(){return(Ms=(0,ee.Z)(function*({appConfig:A,heartbeatServiceProvider:N},V){const te=function Io(A,{fid:N}){return`${Rr(A)}/${N}/authTokens:generate`}(A,V),ve=function mr(A,{refreshToken:N}){const V=pr(A);return V.append("Authorization",function Yo(A){return`${it} ${A}`}(N)),V}(A,V),Ne=N.getImmediate({optional:!0});if(Ne){const Tn=yield Ne.getHeartbeatsHeader();Tn&&ve.append("x-firebase-client",Tn)}const nn={method:"POST",headers:ve,body:JSON.stringify({installation:{sdkVersion:Tl,appId:A.appId}})},Zt=yield ps(()=>fetch(te,nn));if(Zt.ok)return On(yield Zt.json());throw yield Li("Generate Auth Token",Zt)})).apply(this,arguments)}function Rl(A){return qd.apply(this,arguments)}function qd(){return qd=(0,ee.Z)(function*(A,N=!1){let V;const te=yield Ha(A.appConfig,Ne=>{if(!dn(Ne))throw fn.create("not-registered");const ot=Ne.authToken;if(!N&&function Ni(A){return 2===A.requestStatus&&!function Jr(A){const N=Date.now();return N<A.creationTime||A.creationTime+A.expiresIn<N+yt}(A)}(ot))return Ne;if(1===ot.requestStatus)return V=function ut(A,N){return Ue.apply(this,arguments)}(A,N),Ne;{if(!navigator.onLine)throw fn.create("app-offline");const nn=function Hr(A){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:N})}(Ne);return V=function bn(A,N){return Rn.apply(this,arguments)}(A,nn),nn}});return V?yield V:te.authToken}),qd.apply(this,arguments)}function Ue(){return(Ue=(0,ee.Z)(function*(A,N){let V=yield Lt(A.appConfig);for(;1===V.authToken.requestStatus;)yield Ko(100),V=yield Lt(A.appConfig);const te=V.authToken;return 0===te.requestStatus?Rl(A,N):te})).apply(this,arguments)}function Lt(A){return Ha(A,N=>{if(!dn(N))throw fn.create("not-registered");return function nl(A){return 1===A.requestStatus&&A.requestTime+Xc<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Rn(){return Rn=(0,ee.Z)(function*(A,N){try{const V=yield function Ci(A,N){return Ms.apply(this,arguments)}(A,N),te=Object.assign(Object.assign({},N),{authToken:V});return yield ms(A.appConfig,te),V}catch(V){if(!Xt(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const te=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield ms(A.appConfig,te)}else yield kl(A.appConfig);throw V}}),Rn.apply(this,arguments)}function dn(A){return void 0!==A&&2===A.registrationStatus}function Nl(){return(Nl=(0,ee.Z)(function*(A){const N=A,{installationEntry:V,registrationPromise:te}=yield ge(N);return te?te.catch(console.error):Rl(N).catch(console.error),V.fid})).apply(this,arguments)}function Jc(){return Jc=(0,ee.Z)(function*(A,N=!1){const V=A;return yield function lf(A){return pa.apply(this,arguments)}(V),(yield Rl(V,N)).token}),Jc.apply(this,arguments)}function pa(){return(pa=(0,ee.Z)(function*(A){const{registrationPromise:N}=yield ge(A);N&&(yield N)})).apply(this,arguments)}function ss(A){return fn.create("missing-app-config-values",{valueName:A})}const Gd="installations",Rw=A=>{const N=A.getProvider("app").getImmediate(),V=function uf(A){if(!A||!A.options)throw ss("App Configuration");if(!A.name)throw ss("App Name");const N=["projectId","apiKey","appId"];for(const V of N)if(!A.options[V])throw ss(V);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(N);return{app:N,appConfig:V,heartbeatServiceProvider:(0,He._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},eu=A=>{const N=A.getProvider("app").getImmediate(),V=(0,He._getProvider)(N,Gd).getImmediate();return{getId:()=>function Do(A){return Nl.apply(this,arguments)}(V),getToken:ve=>function Wp(A){return Jc.apply(this,arguments)}(V,ve)}};(function h_(){(0,He._registerComponent)(new je.wA(Gd,Rw,"PUBLIC")),(0,He._registerComponent)(new je.wA("installations-internal",eu,"PRIVATE"))})(),(0,He.registerVersion)(Al,Qr),(0,He.registerVersion)(Al,Qr,"esm2017");const $d="@firebase/remote-config",ks=new We.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jt{constructor(N,V,te,ve){this.client=N,this.storage=V,this.storageCache=te,this.logger=ve}isCachedDataFresh(N,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const te=Date.now()-V,ve=te<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${te}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${ve}.`),ve}fetch(N){var V=this;return(0,ee.Z)(function*(){const[te,ve]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(ve&&V.isCachedDataFresh(N.cacheMaxAgeMillis,te))return ve;N.eTag=ve&&ve.eTag;const Ne=yield V.client.fetch(N),ot=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ne.status&&ot.push(V.storage.setLastSuccessfulFetchResponse(Ne)),yield Promise.all(ot),Ne})()}}function ei(A=navigator){return A.languages&&A.languages[0]||A.language}class Qi{constructor(N,V,te,ve,Ne,ot){this.firebaseInstallations=N,this.sdkVersion=V,this.namespace=te,this.projectId=ve,this.apiKey=Ne,this.appId=ot}fetch(N){var V=this;return(0,ee.Z)(function*(){const[te,ve]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,nn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Zt={sdk_version:V.sdkVersion,app_instance_id:te,app_instance_id_token:ve,app_id:V.appId,language_code:ei()},Tn={method:"POST",headers:nn,body:JSON.stringify(Zt)},Qn=fetch(ot,Tn),ni=new Promise((xa,ra)=>{N.signal.addEventListener(()=>{const L_=new Error("The operation was aborted.");L_.name="AbortError",ra(L_)})});let ia;try{yield Promise.race([Qn,ni]),ia=yield Qn}catch(xa){let ra="fetch-client-network";throw"AbortError"===xa?.name&&(ra="fetch-timeout"),ks.create(ra,{originalErrorMessage:xa?.message})}let rr=ia.status;const Tc=ia.headers.get("ETag")||void 0;let Fm,dr;if(200===ia.status){let xa;try{xa=yield ia.json()}catch(ra){throw ks.create("fetch-client-parse",{originalErrorMessage:ra?.message})}Fm=xa.entries,dr=xa.state}if("INSTANCE_STATE_UNSPECIFIED"===dr?rr=500:"NO_CHANGE"===dr?rr=304:("NO_TEMPLATE"===dr||"EMPTY_CONFIG"===dr)&&(Fm={}),304!==rr&&200!==rr)throw ks.create("fetch-status",{httpStatus:rr});return{status:rr,eTag:Tc,config:Fm}})()}}class lo{constructor(N,V){this.client=N,this.storage=V}fetch(N){var V=this;return(0,ee.Z)(function*(){const te=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(N,te)})()}attemptFetch(N,{throttleEndTimeMillis:V,backoffCount:te}){var ve=this;return(0,ee.Z)(function*(){yield function Qo(A,N){return new Promise((V,te)=>{const ve=Math.max(N-Date.now(),0),Ne=setTimeout(V,ve);A.addEventListener(()=>{clearTimeout(Ne),te(ks.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,V);try{const Ne=yield ve.client.fetch(N);return yield ve.storage.deleteThrottleMetadata(),Ne}catch(Ne){if(!function $u(A){if(!(A instanceof We.ZR&&A.customData))return!1;const N=Number(A.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ne))throw Ne;const ot={throttleEndTimeMillis:Date.now()+(0,We.$s)(te),backoffCount:te+1};return yield ve.storage.setThrottleMetadata(ot),ve.attemptFetch(N,ot)}})()}}class xc{constructor(N,V,te,ve,Ne){this.app=N,this._client=V,this._storageCache=te,this._storage=ve,this._logger=Ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function za(A,N){const V=A.target.error||void 0;return ks.create(N,{originalErrorMessage:V&&V?.message})}const Nn="app_namespace_store";class os{constructor(N,V,te,ve=function Pl(){return new Promise((A,N)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=te=>{N(za(te,"storage-open"))},V.onsuccess=te=>{A(te.target.result)},V.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(Nn,{keyPath:"compositeKey"})}}catch(V){N(ks.create("storage-open",{originalErrorMessage:V?.message}))}})}()){this.appId=N,this.appName=V,this.namespace=te,this.openDbPromise=ve}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var V=this;return(0,ee.Z)(function*(){const te=yield V.openDbPromise;return new Promise((ve,Ne)=>{const nn=te.transaction([Nn],"readonly").objectStore(Nn),Zt=V.createCompositeKey(N);try{const Tn=nn.get(Zt);Tn.onerror=Qn=>{Ne(za(Qn,"storage-get"))},Tn.onsuccess=Qn=>{const ni=Qn.target.result;ve(ni?ni.value:void 0)}}catch(Tn){Ne(ks.create("storage-get",{originalErrorMessage:Tn?.message}))}})})()}set(N,V){var te=this;return(0,ee.Z)(function*(){const ve=yield te.openDbPromise;return new Promise((Ne,ot)=>{const Zt=ve.transaction([Nn],"readwrite").objectStore(Nn),Tn=te.createCompositeKey(N);try{const Qn=Zt.put({compositeKey:Tn,value:V});Qn.onerror=ni=>{ot(za(ni,"storage-set"))},Qn.onsuccess=()=>{Ne()}}catch(Qn){ot(ks.create("storage-set",{originalErrorMessage:Qn?.message}))}})})()}delete(N){var V=this;return(0,ee.Z)(function*(){const te=yield V.openDbPromise;return new Promise((ve,Ne)=>{const nn=te.transaction([Nn],"readwrite").objectStore(Nn),Zt=V.createCompositeKey(N);try{const Tn=nn.delete(Zt);Tn.onerror=Qn=>{Ne(za(Qn,"storage-delete"))},Tn.onsuccess=()=>{ve()}}catch(Tn){Ne(ks.create("storage-delete",{originalErrorMessage:Tn?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Wu{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,ee.Z)(function*(){const V=N.storage.getLastFetchStatus(),te=N.storage.getLastSuccessfulFetchTimestampMillis(),ve=N.storage.getActiveConfig(),Ne=yield V;Ne&&(N.lastFetchStatus=Ne);const ot=yield te;ot&&(N.lastSuccessfulFetchTimestampMillis=ot);const nn=yield ve;nn&&(N.activeConfig=nn)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function p_(){return qa.apply(this,arguments)}function qa(){return(qa=(0,ee.Z)(function*(){if(!(0,We.hl)())return!1;try{return yield(0,We.eu)()}catch{return!1}})).apply(this,arguments)}!function Ao(){(0,He._registerComponent)(new je.wA("remote-config",function A(N,{instanceIdentifier:V}){const te=N.getProvider("app").getImmediate(),ve=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ks.create("registration-window");if(!(0,We.hl)())throw ks.create("indexed-db-unavailable");const{projectId:Ne,apiKey:ot,appId:nn}=te.options;if(!Ne)throw ks.create("registration-project-id");if(!ot)throw ks.create("registration-api-key");if(!nn)throw ks.create("registration-app-id");const Zt=new os(nn,te.name,V=V||"firebase"),Tn=new Wu(Zt),Qn=new pt.Yd($d);Qn.logLevel=pt.in.ERROR;const ni=new Qi(ve,He.SDK_VERSION,V,Ne,ot,nn),ia=new lo(ni,Zt),rr=new Jt(ia,Zt,Tn,Qn),Tc=new xc(te,rr,Tn,Zt,Qn);return function Rs(A){const N=(0,We.m9)(A);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Tc),Tc},"PUBLIC").setMultipleInstances(!0)),(0,He.registerVersion)($d,"0.4.4"),(0,He.registerVersion)($d,"0.4.4","esm2017")}();const Ol=(A,N)=>N.some(V=>A instanceof V);let Cc,il;const Kd=new WeakMap,rl=new WeakMap,Xo=new WeakMap,Gs=new WeakMap,Fl=new WeakMap;let gf={get(A,N,V){if(A instanceof IDBTransaction){if("done"===N)return rl.get(A);if("objectStoreNames"===N)return A.objectStoreNames||Xo.get(A);if("store"===N)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return Ws(A[N])},set:(A,N,V)=>(A[N]=V,!0),has:(A,N)=>A instanceof IDBTransaction&&("done"===N||"store"===N)||N in A};function nm(A){return"function"==typeof A?function $s(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tm(){return il||(il=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(A)?function(...N){return A.apply(nu(this),N),Ws(Kd.get(this))}:function(...N){return Ws(A.apply(nu(this),N))}:function(N,...V){const te=A.call(nu(this),N,...V);return Xo.set(te,N.sort?N.sort():[N]),Ws(te)}}(A):(A instanceof IDBTransaction&&function vs(A){if(rl.has(A))return;const N=new Promise((V,te)=>{const ve=()=>{A.removeEventListener("complete",Ne),A.removeEventListener("error",ot),A.removeEventListener("abort",ot)},Ne=()=>{V(),ve()},ot=()=>{te(A.error||new DOMException("AbortError","AbortError")),ve()};A.addEventListener("complete",Ne),A.addEventListener("error",ot),A.addEventListener("abort",ot)});rl.set(A,N)}(A),Ol(A,function Ei(){return Cc||(Cc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(A,gf):A)}function Ws(A){if(A instanceof IDBRequest)return function Qd(A){const N=new Promise((V,te)=>{const ve=()=>{A.removeEventListener("success",Ne),A.removeEventListener("error",ot)},Ne=()=>{V(Ws(A.result)),ve()},ot=()=>{te(A.error),ve()};A.addEventListener("success",Ne),A.addEventListener("error",ot)});return N.then(V=>{V instanceof IDBCursor&&Kd.set(V,A)}).catch(()=>{}),Fl.set(N,A),N}(A);if(Gs.has(A))return Gs.get(A);const N=nm(A);return N!==A&&(Gs.set(A,N),Fl.set(N,A)),N}const nu=A=>Fl.get(A);function Mo(A,N,{blocked:V,upgrade:te,blocking:ve,terminated:Ne}={}){const ot=indexedDB.open(A,N),nn=Ws(ot);return te&&ot.addEventListener("upgradeneeded",Zt=>{te(Ws(ot.result),Zt.oldVersion,Zt.newVersion,Ws(ot.transaction))}),V&&ot.addEventListener("blocked",()=>V()),nn.then(Zt=>{Ne&&Zt.addEventListener("close",()=>Ne()),ve&&Zt.addEventListener("versionchange",()=>ve())}).catch(()=>{}),nn}function Ec(A,{blocked:N}={}){const V=indexedDB.deleteDatabase(A);return N&&V.addEventListener("blocked",()=>N()),Ws(V).then(()=>{})}const im=["get","getKey","getAll","getAllKeys","count"],$y=["put","add","delete","clear"],rm=new Map;function sm(A,N){if(!(A instanceof IDBDatabase)||N in A||"string"!=typeof N)return;if(rm.get(N))return rm.get(N);const V=N.replace(/FromIndex$/,""),te=N!==V,ve=$y.includes(V);if(!(V in(te?IDBIndex:IDBObjectStore).prototype)||!ve&&!im.includes(V))return;const Ne=function(){var ot=(0,ee.Z)(function*(nn,...Zt){const Tn=this.transaction(nn,ve?"readwrite":"readonly");let Qn=Tn.store;return te&&(Qn=Qn.index(Zt.shift())),(yield Promise.all([Qn[V](...Zt),ve&&Tn.done]))[0]});return function(Zt){return ot.apply(this,arguments)}}();return rm.set(N,Ne),Ne}!function co(A){gf=A(gf)}(A=>({...A,get:(N,V,te)=>sm(N,V)||A.get(N,V,te),has:(N,V)=>!!sm(N,V)||A.has(N,V)}));const om="/firebase-messaging-sw.js",am="/firebase-cloud-messaging-push-scope",m_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Nw="https://fcmregistrations.googleapis.com/v1",gr="google.c.a.c_id",Pw="google.c.a.c_l",Wy="google.c.a.ts";var g_=function(A){return A.PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",A}(g_||{});function Ll(A){const N=new Uint8Array(A);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lm(A){const V=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),te=atob(V),ve=new Uint8Array(te.length);for(let Ne=0;Ne<te.length;++Ne)ve[Ne]=te.charCodeAt(Ne);return ve}const _f="fcm_token_details_db",cm=5,iu="fcm_token_object_Store";function Xd(){return Xd=(0,ee.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ne=>Ne.name).includes(_f))return null;let N=null;return(yield Mo(_f,cm,{upgrade:(te=(0,ee.Z)(function*(ve,Ne,ot,nn){var Zt;if(Ne<2||!ve.objectStoreNames.contains(iu))return;const Tn=nn.objectStore(iu),Qn=yield Tn.index("fcmSenderId").get(A);if(yield Tn.clear(),Qn)if(2===Ne){const ni=Qn;if(!ni.auth||!ni.p256dh||!ni.endpoint)return;N={token:ni.fcmToken,createTime:null!==(Zt=ni.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:ni.auth,p256dh:ni.p256dh,endpoint:ni.endpoint,swScope:ni.swScope,vapidKey:"string"==typeof ni.vapidKey?ni.vapidKey:Ll(ni.vapidKey)}}}else if(3===Ne){const ni=Qn;N={token:ni.fcmToken,createTime:ni.createTime,subscriptionOptions:{auth:Ll(ni.auth),p256dh:Ll(ni.p256dh),endpoint:ni.endpoint,swScope:ni.swScope,vapidKey:Ll(ni.vapidKey)}}}else if(4===Ne){const ni=Qn;N={token:ni.fcmToken,createTime:ni.createTime,subscriptionOptions:{auth:Ll(ni.auth),p256dh:Ll(ni.p256dh),endpoint:ni.endpoint,swScope:ni.swScope,vapidKey:Ll(ni.vapidKey)}}}}),function(Ne,ot,nn,Zt){return te.apply(this,arguments)})})).close(),yield Ec(_f),yield Ec("fcm_vapid_details_db"),yield Ec("undefined"),function Ow(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:N}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var te}),Xd.apply(this,arguments)}const Bl="firebase-messaging-database",sl=1,ya="firebase-messaging-store";let __=null;function es(){return __||(__=Mo(Bl,sl,{upgrade:(A,N)=>{0===N&&A.createObjectStore(ya)}})),__}function Yu(A){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,ee.Z)(function*(A){const N=Zu(A),te=yield(yield es()).transaction(ya).objectStore(ya).get(N);if(te)return te;{const ve=yield function dI(A){return Xd.apply(this,arguments)}(A.appConfig.senderId);if(ve)return yield um(A,ve),ve}}),Ns.apply(this,arguments)}function um(A,N){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,ee.Z)(function*(A,N){const V=Zu(A),ve=(yield es()).transaction(ya,"readwrite");return yield ve.objectStore(ya).put(N,V),yield ve.done,N})).apply(this,arguments)}function eh(){return(eh=(0,ee.Z)(function*(A){const N=Zu(A),te=(yield es()).transaction(ya,"readwrite");yield te.objectStore(ya).delete(N),yield te.done})).apply(this,arguments)}function Zu({appConfig:A}){return A.appId}const ys=new We.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vf(A,N){return dm.apply(this,arguments)}function dm(){return(dm=(0,ee.Z)(function*(A,N){const V=yield yf(A),te=Fw(N),ve={method:"POST",headers:V,body:JSON.stringify(te)};let Ne;try{Ne=yield(yield fetch(Vl(A.appConfig),ve)).json()}catch(ot){throw ys.create("token-subscribe-failed",{errorInfo:ot?.toString()})}if(Ne.error)throw ys.create("token-subscribe-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw ys.create("token-subscribe-no-token");return Ne.token})).apply(this,arguments)}function fm(){return(fm=(0,ee.Z)(function*(A,N){const V=yield yf(A),te=Fw(N.subscriptionOptions),ve={method:"PATCH",headers:V,body:JSON.stringify(te)};let Ne;try{Ne=yield(yield fetch(`${Vl(A.appConfig)}/${N.token}`,ve)).json()}catch(ot){throw ys.create("token-update-failed",{errorInfo:ot?.toString()})}if(Ne.error)throw ys.create("token-update-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw ys.create("token-update-no-token");return Ne.token})).apply(this,arguments)}function Ku(A,N){return ru.apply(this,arguments)}function ru(){return(ru=(0,ee.Z)(function*(A,N){const te={method:"DELETE",headers:yield yf(A)};try{const Ne=yield(yield fetch(`${Vl(A.appConfig)}/${N}`,te)).json();if(Ne.error)throw ys.create("token-unsubscribe-failed",{errorInfo:Ne.error.message})}catch(ve){throw ys.create("token-unsubscribe-failed",{errorInfo:ve?.toString()})}})).apply(this,arguments)}function Vl({projectId:A}){return`${Nw}/projects/${A}/registrations`}function yf(A){return bf.apply(this,arguments)}function bf(){return(bf=(0,ee.Z)(function*({appConfig:A,installations:N}){const V=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function Fw({p256dh:A,auth:N,endpoint:V,vapidKey:te}){const ve={web:{endpoint:V,auth:N,p256dh:A}};return te!==m_&&(ve.web.applicationPubKey=te),ve}const Ky=6048e5;function wf(){return wf=(0,ee.Z)(function*(A){const N=yield function Cf(A,N){return y_.apply(this,arguments)}(A.swRegistration,A.vapidKey),V={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:N.endpoint,auth:Ll(N.getKey("auth")),p256dh:Ll(N.getKey("p256dh"))},te=yield Yu(A.firebaseDependencies);if(te){if(function b_(A,N){return N.vapidKey===A.vapidKey&&N.endpoint===A.endpoint&&N.auth===A.auth&&N.p256dh===A.p256dh}(te.subscriptionOptions,V))return Date.now()>=te.createTime+Ky?function mm(A,N){return xf.apply(this,arguments)}(A,{token:te.token,createTime:Date.now(),subscriptionOptions:V}):te.token;try{yield Ku(A.firebaseDependencies,te.token)}catch(ve){console.warn(ve)}return gm(A.firebaseDependencies,V)}return gm(A.firebaseDependencies,V)}),wf.apply(this,arguments)}function pm(){return pm=(0,ee.Z)(function*(A){const N=yield Yu(A.firebaseDependencies);N&&(yield Ku(A.firebaseDependencies,N.token),yield function v_(A){return eh.apply(this,arguments)}(A.firebaseDependencies));const V=yield A.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()}),pm.apply(this,arguments)}function xf(){return xf=(0,ee.Z)(function*(A,N){try{const V=yield function hm(A,N){return fm.apply(this,arguments)}(A.firebaseDependencies,N),te=Object.assign(Object.assign({},N),{token:V,createTime:Date.now()});return yield um(A.firebaseDependencies,te),V}catch(V){throw yield function Bw(A){return pm.apply(this,arguments)}(A),V}}),xf.apply(this,arguments)}function gm(A,N){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,ee.Z)(function*(A,N){const te={token:yield vf(A,N),createTime:Date.now(),subscriptionOptions:N};return yield um(A,te),te.token})).apply(this,arguments)}function y_(){return(y_=(0,ee.Z)(function*(A,N){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lm(N)})})).apply(this,arguments)}function th(A){const N={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function nh(A,N){if(!N.notification)return;A.notification={};const V=N.notification.title;V&&(A.notification.title=V);const te=N.notification.body;te&&(A.notification.body=te);const ve=N.notification.image;ve&&(A.notification.image=ve);const Ne=N.notification.icon;Ne&&(A.notification.icon=Ne)}(N,A),function Qy(A,N){N.data&&(A.data=N.data)}(N,A),function _m(A,N){var V,te,ve,Ne,ot;if(!(N.fcmOptions||null!==(V=N.notification)&&void 0!==V&&V.click_action))return;A.fcmOptions={};const nn=null!==(ve=null===(te=N.fcmOptions)||void 0===te?void 0:te.link)&&void 0!==ve?ve:null===(Ne=N.notification)||void 0===Ne?void 0:Ne.click_action;nn&&(A.fcmOptions.link=nn);const Zt=null===(ot=N.fcmOptions)||void 0===ot?void 0:ot.analytics_label;Zt&&(A.fcmOptions.analyticsLabel=Zt)}(N,A),N}function w_(A,N){const V=[];for(let te=0;te<A.length;te++)V.push(A.charAt(te)),te<N.length&&V.push(N.charAt(te));return V.join("")}function Ef(A){return ys.create("missing-app-config-values",{valueName:A})}w_("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),w_("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Uw{constructor(N,V,te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ve=function x_(A){if(!A||!A.options)throw Ef("App Configuration Object");if(!A.name)throw Ef("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:V}=A;for(const te of N)if(!V[te])throw Ef(te);return{appName:A.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:ve,installations:V,analyticsProvider:te}}_delete(){return Promise.resolve()}}function Xu(){return(Xu=(0,ee.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(om,{scope:am}),A.swRegistration.update().catch(()=>{})}catch(N){throw ys.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function su(){return(su=(0,ee.Z)(function*(A,N){if(!N&&!A.swRegistration&&(yield function C_(A){return Xu.apply(this,arguments)}(A)),N||!A.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw ys.create("invalid-sw-registration");A.swRegistration=N}})).apply(this,arguments)}function ou(){return(ou=(0,ee.Z)(function*(A,N){N?A.vapidKey=N:A.vapidKey||(A.vapidKey=m_)})).apply(this,arguments)}function ym(){return ym=(0,ee.Z)(function*(A,N){if(!navigator)throw ys.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ys.create("permission-blocked");return yield function Ul(A,N){return ou.apply(this,arguments)}(A,N?.vapidKey),yield function E_(A,N){return su.apply(this,arguments)}(A,N?.serviceWorkerRegistration),function Lw(A){return wf.apply(this,arguments)}(A)}),ym.apply(this,arguments)}function I_(){return(I_=(0,ee.Z)(function*(A,N,V){const te=function ol(A){switch(A){case g_.NOTIFICATION_CLICKED:return"notification_open";case g_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(te,{message_id:V[gr],message_name:V[Pw],message_time:V[Wy],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function au(){return au=(0,ee.Z)(function*(A,N){const V=N.data;if(!V.isFirebaseMessaging)return;A.onMessageHandler&&V.messageType===g_.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(th(V)):A.onMessageHandler.next(th(V)));const te=V.data;(function Vw(A){return"object"==typeof A&&!!A&&gr in A})(te)&&"1"===te["google.c.a.e"]&&(yield function bm(A,N,V){return I_.apply(this,arguments)}(A,V.messageType,te))}),au.apply(this,arguments)}const ji="@firebase/messaging",lu=A=>{const N=new Uw(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function D_(A,N){return au.apply(this,arguments)}(N,V)),N},ko=A=>{const N=A.getProvider("messaging").getImmediate();return{getToken:te=>function vm(A,N){return ym.apply(this,arguments)}(N,te)}};function wm(){return al.apply(this,arguments)}function al(){return(al=(0,ee.Z)(function*(){try{yield(0,We.eu)()}catch{return!1}return typeof window<"u"&&(0,We.hl)()&&(0,We.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function S_(){(0,He._registerComponent)(new je.wA("messaging",lu,"PUBLIC")),(0,He._registerComponent)(new je.wA("messaging-internal",ko,"PRIVATE")),(0,He.registerVersion)(ji,"0.12.4"),(0,He.registerVersion)(ji,"0.12.4","esm2017")}();const ur="analytics",Jy="firebase_id",Cm="origin",$n=6e4,Df="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Em="https://www.googletagmanager.com/gtag/js",bs=new pt.Yd("@firebase/analytics"),Ys=new We.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function td(A){if(!A.startsWith(Em)){const N=Ys.create("invalid-gtag-resource",{gtagURL:A});return bs.warn(N.message),""}return A}function jl(A){return Promise.all(A.map(N=>N.catch(V=>V)))}function ih(){return(ih=(0,ee.Z)(function*(A,N,V,te,ve,Ne){const ot=te[ve];try{if(ot)yield N[ot];else{const Zt=(yield jl(V)).find(Tn=>Tn.measurementId===ve);Zt&&(yield N[Zt.appId])}}catch(nn){bs.error(nn)}A("config",ve,Ne)})).apply(this,arguments)}function si(){return(si=(0,ee.Z)(function*(A,N,V,te,ve){try{let Ne=[];if(ve&&ve.send_to){let ot=ve.send_to;Array.isArray(ot)||(ot=[ot]);const nn=yield jl(V);for(const Zt of ot){const Tn=nn.find(ni=>ni.measurementId===Zt),Qn=Tn&&N[Tn.appId];if(!Qn){Ne=[];break}Ne.push(Qn)}}0===Ne.length&&(Ne=Object.values(N)),yield Promise.all(Ne),A("event",te,ve||{})}catch(Ne){bs.error(Ne)}})).apply(this,arguments)}const Sm=30,Tm=new class Ro{constructor(N={},V=1e3){this.throttleMetadata=N,this.intervalMillis=V}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,V){this.throttleMetadata[N]=V}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Mm(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function e0(){return(e0=(0,ee.Z)(function*(A){var N;const{appId:V,apiKey:te}=A,ve={method:"GET",headers:Mm(te)},Ne=Df.replace("{app-id}",V),ot=yield fetch(Ne,ve);if(200!==ot.status&&304!==ot.status){let nn="";try{const Zt=yield ot.json();null!==(N=Zt.error)&&void 0!==N&&N.message&&(nn=Zt.error.message)}catch{}throw Ys.create("config-fetch-failed",{httpStatus:ot.status,responseMessage:nn})}return ot.json()})).apply(this,arguments)}function ls(){return(ls=(0,ee.Z)(function*(A,N=Tm,V){const{appId:te,apiKey:ve,measurementId:Ne}=A.options;if(!te)throw Ys.create("no-app-id");if(!ve){if(Ne)return{measurementId:Ne,appId:te};throw Ys.create("no-api-key")}const ot=N.getThrottleMetadata(te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nn=new T_;return setTimeout((0,ee.Z)(function*(){nn.abort()}),void 0!==V?V:$n),Hl({appId:te,apiKey:ve,measurementId:Ne},ot,nn,N)})).apply(this,arguments)}function Hl(A,N,V){return km.apply(this,arguments)}function km(){return km=(0,ee.Z)(function*(A,{throttleEndTimeMillis:N,backoffCount:V},te,ve=Tm){var Ne;const{appId:ot,measurementId:nn}=A;try{yield function Ic(A,N){return new Promise((V,te)=>{const ve=Math.max(N-Date.now(),0),Ne=setTimeout(V,ve);A.addEventListener(()=>{clearTimeout(Ne),te(Ys.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(te,N)}catch(Zt){if(nn)return bs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nn} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:ot,measurementId:nn};throw Zt}try{const Zt=yield function zw(A){return e0.apply(this,arguments)}(A);return ve.deleteThrottleMetadata(ot),Zt}catch(Zt){const Tn=Zt;if(!function Ga(A){if(!(A instanceof We.ZR&&A.customData))return!1;const N=Number(A.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Tn)){if(ve.deleteThrottleMetadata(ot),nn)return bs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nn} provided in the "measurementId" field in the local Firebase config. [${Tn?.message}]`),{appId:ot,measurementId:nn};throw Zt}const Qn=503===Number(null===(Ne=Tn?.customData)||void 0===Ne?void 0:Ne.httpStatus)?(0,We.$s)(V,ve.intervalMillis,Sm):(0,We.$s)(V,ve.intervalMillis),ni={throttleEndTimeMillis:Date.now()+Qn,backoffCount:V+1};return ve.setThrottleMetadata(ot,ni),bs.debug(`Calling attemptFetch again in ${Qn} millis`),Hl(A,ni,te,ve)}}),km.apply(this,arguments)}class T_{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let rh,En;function M_(){return(M_=(0,ee.Z)(function*(A,N,V,te,ve){if(ve&&ve.global)A("event",V,te);else{const Ne=yield N;A("event",V,Object.assign(Object.assign({},te),{send_to:Ne}))}})).apply(this,arguments)}function Ti(){return(Ti=(0,ee.Z)(function*(){if(!(0,We.hl)())return bs.warn(Ys.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,We.eu)()}catch(A){return bs.warn(Ys.create("indexeddb-unavailable",{errorInfo:A?.toString()}).message),!1}return!0})).apply(this,arguments)}function Pi(){return Pi=(0,ee.Z)(function*(A,N,V,te,ve,Ne,ot){var nn;const Zt=function t0(A){return ls.apply(this,arguments)}(A);Zt.then(rr=>{V[rr.measurementId]=rr.appId,A.options.measurementId&&rr.measurementId!==A.options.measurementId&&bs.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rr=>bs.error(rr)),N.push(Zt);const Tn=function ts(){return Ti.apply(this,arguments)}().then(rr=>{if(rr)return te.getId()}),[Qn,ni]=yield Promise.all([Zt,Tn]);(function as(A){const N=window.document.getElementsByTagName("script");for(const V of Object.values(N))if(V.src&&V.src.includes(Em)&&V.src.includes(A))return V;return null})(Ne)||function Af(A,N){const V=function Sf(A,N){let V;return window.trustedTypes&&(V=window.trustedTypes.createPolicy(A,N)),V}("firebase-js-sdk-policy",{createScriptURL:td}),te=document.createElement("script"),ve=`${Em}?l=${A}&id=${N}`;te.src=V?V?.createScriptURL(ve):ve,te.async=!0,document.head.appendChild(te)}(Ne,Qn.measurementId),En&&(ve("consent","default",En),function Dc(A){En=A}(void 0)),ve("js",new Date);const ia=null!==(nn=ot?.config)&&void 0!==nn?nn:{};return ia[Cm]="firebase",ia.update=!0,null!=ni&&(ia[Jy]=ni),ve("config",Qn.measurementId,ia),rh&&(ve("set",rh),function ir(A){rh=A}(void 0)),Qn.measurementId}),Pi.apply(this,arguments)}class $a{constructor(N){this.app=N}_delete(){return delete ws[this.app.options.appId],Promise.resolve()}}let ws={},hu=[];const Rm={};let nd,Yn,ll="dataLayer",R_=!1;function lt(A,N,V){!function No(){const A=[];if((0,We.ru)()&&A.push("This is a browser extension environment."),(0,We.zI)()||A.push("Cookies are not available."),A.length>0){const N=A.map((te,ve)=>`(${ve+1}) ${te}`).join(" "),V=Ys.create("invalid-analytics-context",{errorInfo:N});bs.warn(V.message)}}();const te=A.options.appId;if(!te)throw Ys.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Ys.create("no-api-key");bs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ws[te])throw Ys.create("already-exists",{id:te});if(!R_){!function Hw(A){let N=[];Array.isArray(window[A])?N=window[A]:window[A]=N}(ll);const{wrappedGtag:Ne,gtagCore:ot}=function Dm(A,N,V,te,ve){let Ne=function(...ot){window[te].push(arguments)};return window[ve]&&"function"==typeof window[ve]&&(Ne=window[ve]),window[ve]=function Tf(A,N,V,te){function Ne(){return Ne=(0,ee.Z)(function*(ot,...nn){try{if("event"===ot){const[Zt,Tn]=nn;yield function St(A,N,V,te,ve){return si.apply(this,arguments)}(A,N,V,Zt,Tn)}else if("config"===ot){const[Zt,Tn]=nn;yield function Im(A,N,V,te,ve,Ne){return ih.apply(this,arguments)}(A,N,V,te,Zt,Tn)}else if("consent"===ot){const[Zt]=nn;A("consent","update",Zt)}else if("get"===ot){const[Zt,Tn,Qn]=nn;A("get",Zt,Tn,Qn)}else if("set"===ot){const[Zt]=nn;A("set",Zt)}else A(ot,...nn)}catch(Zt){bs.error(Zt)}}),Ne.apply(this,arguments)}return function ve(ot){return Ne.apply(this,arguments)}}(Ne,A,N,V),{gtagCore:Ne,wrappedGtag:window[ve]}}(ws,hu,Rm,ll,"gtag");Yn=Ne,nd=ot,R_=!0}return ws[te]=function zl(A,N,V,te,ve,Ne,ot){return Pi.apply(this,arguments)}(A,hu,Rm,N,nd,ll,V),new $a(A)}function Po(){return kf.apply(this,arguments)}function kf(){return(kf=(0,ee.Z)(function*(){if((0,We.ru)()||!(0,We.zI)()||!(0,We.hl)())return!1;try{return yield(0,We.eu)()}catch{return!1}})).apply(this,arguments)}const Nm="@firebase/analytics";!function ql(){(0,He._registerComponent)(new je.wA(ur,(N,{options:V})=>lt(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,He._registerComponent)(new je.wA("analytics-internal",function A(N){try{const V=N.getProvider(ur).getImmediate();return{logEvent:(te,ve,Ne)=>function ah(A,N,V,te){A=(0,We.m9)(A),function qw(A,N,V,te,ve){return M_.apply(this,arguments)}(Yn,ws[A.app.options.appId],N,V,te).catch(ve=>bs.error(ve))}(V,te,ve,Ne)}}catch(V){throw Ys.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,He.registerVersion)(Nm,"0.10.0"),(0,He.registerVersion)(Nm,"0.10.0","esm2017")}();var Gl=Q(1954),Pf=Q(2631);const Of=new class Dr extends Pf.v{}(class sd extends Gl.o{constructor(N,V){super(N,V),this.scheduler=N,this.work=V}schedule(N,V=0){return V>0?super.schedule(N,V):(this.delay=V,this.state=N,this.scheduler.flush(this),this)}execute(N,V){return V>0||this.closed?super.execute(N,V):this._execute(N,V)}requestAsyncId(N,V,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(N,V,te):(N.flush(this),0)}});var ea=Q(6321),Ks=Q(9397),ta=Q(3093),pu=Q(5137);const od=new l.GfV("7.5.0"),na="__angularfire_symbol__analyticsIsSupportedValue",Oo="__angularfire_symbol__analyticsIsSupported",ba="__angularfire_symbol__remoteConfigIsSupportedValue",ad="__angularfire_symbol__remoteConfigIsSupported",Sc="__angularfire_symbol__messagingIsSupportedValue",mu="__angularfire_symbol__messagingIsSupported";function Lf(A,N,V){if(N){if(1===N.length)return N[0];const Ne=N.filter(ot=>ot.app===V);if(1===Ne.length)return Ne[0]}return V.container.getProvider(A).getImmediate({optional:!0})}globalThis[Oo]||(globalThis[Oo]=Po().then(A=>globalThis[na]=A).catch(()=>globalThis[na]=!1)),globalThis[mu]||(globalThis[mu]=wm().then(A=>globalThis[Sc]=A).catch(()=>globalThis[Sc]=!1)),globalThis[ad]||(globalThis[ad]=p_().then(A=>globalThis[ba]=A).catch(()=>globalThis[ba]=!1));const gu=(A,N)=>{const V=N?[N]:(0,Fe.C6)(),te=[];return V.forEach(ve=>{ve.container.getProvider(A).instances.forEach(ot=>{te.includes(ot)||te.push(ot)})}),te};function Ac(){}class Om{constructor(N,V=Of){this.zone=N,this.delegate=V}now(){return this.delegate.now()}schedule(N,V,te){const ve=this.zone;return this.delegate.schedule(function(ot){ve.runGuarded(()=>{N.apply(this,[ot])})},V,te)}}class P_{constructor(N){this.zone=N,this.task=null}call(N,V){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ac,{},Ac,Ac)),V.pipe((0,Ks.b)({next:te,complete:te,error:te})).subscribe(N).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _u=(()=>{class A{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new Om(Zone.current)),this.insideAngular=V.run(()=>new Om(Zone.current,ea.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(V){return new(V||A)(l.LFG(l.R0b))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function wa(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function O_(A){return A.pipe((0,ta.Q)(wa().outsideAngular))}function ld(A){return wa(),function dh(A){return function(V){return(V=V.lift(new P_(A.ngZone))).pipe((0,pu.R)(A.outsideAngular),(0,ta.Q)(A.insideAngular))}}(wa())(A)}},9058:(An,xt,Q)=>{Q.d(xt,{$s:()=>kl,BH:()=>qe,DV:()=>Hs,Dv:()=>zu,G6:()=>Tl,GJ:()=>ps,L:()=>at,LL:()=>Dt,Pz:()=>_t,Sg:()=>It,UG:()=>nt,UI:()=>vc,US:()=>je,Wj:()=>ci,Wl:()=>On,Yr:()=>Xc,ZB:()=>Be,ZR:()=>Ct,aH:()=>$e,b$:()=>As,cI:()=>Rr,dS:()=>tl,eu:()=>st,g5:()=>ee,gK:()=>Dn,gQ:()=>Kn,h$:()=>Ft,hl:()=>it,hu:()=>Fe,jU:()=>Hn,lb:()=>Ml,m9:()=>ao,ne:()=>Ji,p$:()=>_e,pd:()=>mi,r3:()=>Ki,ru:()=>pi,tV:()=>ue,uI:()=>tn,ug:()=>qu,vZ:()=>Zo,w1:()=>Al,w9:()=>mr,xO:()=>zd,xb:()=>Yo,z$:()=>Vt,zI:()=>yt,zd:()=>Fn});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Fe=function(ge,fe){if(!ge)throw ee(fe)},ee=function(ge){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ge)},He=function(ge){const fe=[];let Te=0;for(let Et=0;Et<ge.length;Et++){let Ze=ge.charCodeAt(Et);Ze<128?fe[Te++]=Ze:Ze<2048?(fe[Te++]=Ze>>6|192,fe[Te++]=63&Ze|128):55296==(64512&Ze)&&Et+1<ge.length&&56320==(64512&ge.charCodeAt(Et+1))?(Ze=65536+((1023&Ze)<<10)+(1023&ge.charCodeAt(++Et)),fe[Te++]=Ze>>18|240,fe[Te++]=Ze>>12&63|128,fe[Te++]=Ze>>6&63|128,fe[Te++]=63&Ze|128):(fe[Te++]=Ze>>12|224,fe[Te++]=Ze>>6&63|128,fe[Te++]=63&Ze|128)}return fe},je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,fe){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Te=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Et=[];for(let Ze=0;Ze<ge.length;Ze+=3){const gn=ge[Ze],Vn=Ze+1<ge.length,Ai=Vn?ge[Ze+1]:0,Bi=Ze+2<ge.length,Xr=Bi?ge[Ze+2]:0;let Ms=(15&Ai)<<2|Xr>>6,Io=63&Xr;Bi||(Io=64,Vn||(Ms=64)),Et.push(Te[gn>>2],Te[(3&gn)<<4|Ai>>4],Te[Ms],Te[Io])}return Et.join("")},encodeString(ge,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(ge):this.encodeByteArray(He(ge),fe)},decodeString(ge,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(ge):function(ge){const fe=[];let Te=0,Et=0;for(;Te<ge.length;){const Ze=ge[Te++];if(Ze<128)fe[Et++]=String.fromCharCode(Ze);else if(Ze>191&&Ze<224){const gn=ge[Te++];fe[Et++]=String.fromCharCode((31&Ze)<<6|63&gn)}else if(Ze>239&&Ze<365){const Bi=((7&Ze)<<18|(63&ge[Te++])<<12|(63&ge[Te++])<<6|63&ge[Te++])-65536;fe[Et++]=String.fromCharCode(55296+(Bi>>10)),fe[Et++]=String.fromCharCode(56320+(1023&Bi))}else{const gn=ge[Te++],Vn=ge[Te++];fe[Et++]=String.fromCharCode((15&Ze)<<12|(63&gn)<<6|63&Vn)}}return fe.join("")}(this.decodeStringToByteArray(ge,fe))},decodeStringToByteArray(ge,fe){this.init_();const Te=fe?this.charToByteMapWebSafe_:this.charToByteMap_,Et=[];for(let Ze=0;Ze<ge.length;){const gn=Te[ge.charAt(Ze++)],Ai=Ze<ge.length?Te[ge.charAt(Ze)]:0;++Ze;const Xr=Ze<ge.length?Te[ge.charAt(Ze)]:64;++Ze;const Ci=Ze<ge.length?Te[ge.charAt(Ze)]:64;if(++Ze,null==gn||null==Ai||null==Xr||null==Ci)throw new pt;Et.push(gn<<2|Ai>>4),64!==Xr&&(Et.push(Ai<<4&240|Xr>>2),64!==Ci&&Et.push(Xr<<6&192|Ci))}return Et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}};class pt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ft=function(ge){const fe=He(ge);return je.encodeByteArray(fe,!0)},at=function(ge){return Ft(ge).replace(/\./g,"")},ue=function(ge){try{return je.decodeString(ge,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function _e(ge){return Be(void 0,ge)}function Be(ge,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return fe}for(const Te in fe)!fe.hasOwnProperty(Te)||!zt(Te)||(ge[Te]=Be(ge[Te],fe[Te]));return ge}function zt(ge){return"__proto__"!==ge}const Ut=()=>{try{return function Mt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const fe=ge&&ue(ge[1]);return fe&&JSON.parse(fe)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},$e=()=>{var ge;return null===(ge=Ut())||void 0===ge?void 0:ge.config},_t=ge=>{var fe;return null===(fe=Ut())||void 0===fe?void 0:fe[`_${ge}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,Te)=>{this.resolve=fe,this.reject=Te})}wrapCallback(fe){return(Te,Et)=>{Te?this.reject(Te):this.resolve(Et),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(Te):fe(Te,Et))}}}function It(ge,fe){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Et=fe||"demo-project",Ze=ge.iat||0,gn=ge.sub||ge.user_id;if(!gn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vn=Object.assign({iss:`https://securetoken.google.com/${Et}`,aud:Et,iat:Ze,exp:Ze+3600,auth_time:Ze,sub:gn,user_id:gn,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[at(JSON.stringify({alg:"none",type:"JWT"})),at(JSON.stringify(Vn)),""].join(".")}function Vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function nt(){var ge;const fe=null===(ge=Ut())||void 0===ge?void 0:ge.forceEnvironment;if("node"===fe)return!0;if("browser"===fe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Hn(){return"object"==typeof self&&self.self===self}function pi(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function As(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Al(){const ge=Vt();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function Xc(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function Tl(){return!nt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){try{return"object"==typeof indexedDB}catch{return!1}}function st(){return new Promise((ge,fe)=>{try{let Te=!0;const Et="validate-browser-context-for-indexeddb-analytics-module",Ze=self.indexedDB.open(Et);Ze.onsuccess=()=>{Ze.result.close(),Te||self.indexedDB.deleteDatabase(Et),ge(!0)},Ze.onupgradeneeded=()=>{Te=!1},Ze.onerror=()=>{var gn;fe((null===(gn=Ze.error)||void 0===gn?void 0:gn.message)||"")}}catch(Te){fe(Te)}})}function yt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ct extends Error{constructor(fe,Te,Et){super(Te),this.code=fe,this.customData=Et,this.name="FirebaseError",Object.setPrototypeOf(this,Ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(fe,Te,Et){this.service=fe,this.serviceName=Te,this.errors=Et}create(fe,...Te){const Et=Te[0]||{},Ze=`${this.service}/${fe}`,gn=this.errors[fe],Vn=gn?function fn(ge,fe){return ge.replace(Xt,(Te,Et)=>{const Ze=fe[Et];return null!=Ze?String(Ze):`<${Et}?>`})}(gn,Et):"Error";return new Ct(Ze,`${this.serviceName}: ${Vn} (${Ze}).`,Et)}}const Xt=/\{\$([^}]+)}/g;function Rr(ge){return JSON.parse(ge)}function On(ge){return JSON.stringify(ge)}const Li=function(ge){let fe={},Te={},Et={},Ze="";try{const gn=ge.split(".");fe=Rr(ue(gn[0])||""),Te=Rr(ue(gn[1])||""),Ze=gn[2],Et=Te.d||{},delete Te.d}catch{}return{header:fe,claims:Te,data:Et,signature:Ze}},mr=function(ge){const Te=Li(ge).claims;return!!Te&&"object"==typeof Te&&Te.hasOwnProperty("iat")},ps=function(ge){const fe=Li(ge).claims;return"object"==typeof fe&&!0===fe.admin};function Ki(ge,fe){return Object.prototype.hasOwnProperty.call(ge,fe)}function Hs(ge,fe){if(Object.prototype.hasOwnProperty.call(ge,fe))return ge[fe]}function Yo(ge){for(const fe in ge)if(Object.prototype.hasOwnProperty.call(ge,fe))return!1;return!0}function vc(ge,fe,Te){const Et={};for(const Ze in ge)Object.prototype.hasOwnProperty.call(ge,Ze)&&(Et[Ze]=fe.call(Te,ge[Ze],Ze,ge));return Et}function Zo(ge,fe){if(ge===fe)return!0;const Te=Object.keys(ge),Et=Object.keys(fe);for(const Ze of Te){if(!Et.includes(Ze))return!1;const gn=ge[Ze],Vn=fe[Ze];if(Ko(gn)&&Ko(Vn)){if(!Zo(gn,Vn))return!1}else if(gn!==Vn)return!1}for(const Ze of Et)if(!Te.includes(Ze))return!1;return!0}function Ko(ge){return null!==ge&&"object"==typeof ge}function zd(ge){const fe=[];for(const[Te,Et]of Object.entries(ge))Array.isArray(Et)?Et.forEach(Ze=>{fe.push(encodeURIComponent(Te)+"="+encodeURIComponent(Ze))}):fe.push(encodeURIComponent(Te)+"="+encodeURIComponent(Et));return fe.length?"&"+fe.join("&"):""}function Fn(ge){const fe={};return ge.replace(/^\?/,"").split("&").forEach(Et=>{if(Et){const[Ze,gn]=Et.split("=");fe[decodeURIComponent(Ze)]=decodeURIComponent(gn)}}),fe}function mi(ge){const fe=ge.indexOf("?");if(!fe)return"";const Te=ge.indexOf("#",fe);return ge.substring(fe,Te>0?Te:void 0)}class Kn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let fe=1;fe<this.blockSize;++fe)this.pad_[fe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(fe,Te){Te||(Te=0);const Et=this.W_;if("string"==typeof fe)for(let Ci=0;Ci<16;Ci++)Et[Ci]=fe.charCodeAt(Te)<<24|fe.charCodeAt(Te+1)<<16|fe.charCodeAt(Te+2)<<8|fe.charCodeAt(Te+3),Te+=4;else for(let Ci=0;Ci<16;Ci++)Et[Ci]=fe[Te]<<24|fe[Te+1]<<16|fe[Te+2]<<8|fe[Te+3],Te+=4;for(let Ci=16;Ci<80;Ci++){const Ms=Et[Ci-3]^Et[Ci-8]^Et[Ci-14]^Et[Ci-16];Et[Ci]=4294967295&(Ms<<1|Ms>>>31)}let Xr,Jn,Ze=this.chain_[0],gn=this.chain_[1],Vn=this.chain_[2],Ai=this.chain_[3],Bi=this.chain_[4];for(let Ci=0;Ci<80;Ci++){Ci<40?Ci<20?(Xr=Ai^gn&(Vn^Ai),Jn=1518500249):(Xr=gn^Vn^Ai,Jn=1859775393):Ci<60?(Xr=gn&Vn|Ai&(gn|Vn),Jn=2400959708):(Xr=gn^Vn^Ai,Jn=3395469782);const Ms=(Ze<<5|Ze>>>27)+Xr+Bi+Jn+Et[Ci]&4294967295;Bi=Ai,Ai=Vn,Vn=4294967295&(gn<<30|gn>>>2),gn=Ze,Ze=Ms}this.chain_[0]=this.chain_[0]+Ze&4294967295,this.chain_[1]=this.chain_[1]+gn&4294967295,this.chain_[2]=this.chain_[2]+Vn&4294967295,this.chain_[3]=this.chain_[3]+Ai&4294967295,this.chain_[4]=this.chain_[4]+Bi&4294967295}update(fe,Te){if(null==fe)return;void 0===Te&&(Te=fe.length);const Et=Te-this.blockSize;let Ze=0;const gn=this.buf_;let Vn=this.inbuf_;for(;Ze<Te;){if(0===Vn)for(;Ze<=Et;)this.compress_(fe,Ze),Ze+=this.blockSize;if("string"==typeof fe){for(;Ze<Te;)if(gn[Vn]=fe.charCodeAt(Ze),++Vn,++Ze,Vn===this.blockSize){this.compress_(gn),Vn=0;break}}else for(;Ze<Te;)if(gn[Vn]=fe[Ze],++Vn,++Ze,Vn===this.blockSize){this.compress_(gn),Vn=0;break}}this.inbuf_=Vn,this.total_+=Te}digest(){const fe=[];let Te=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ze=this.blockSize-1;Ze>=56;Ze--)this.buf_[Ze]=255&Te,Te/=256;this.compress_(this.buf_);let Et=0;for(let Ze=0;Ze<5;Ze++)for(let gn=24;gn>=0;gn-=8)fe[Et]=this.chain_[Ze]>>gn&255,++Et;return fe}}function Ji(ge,fe){const Te=new Ir(ge,fe);return Te.subscribe.bind(Te)}class Ir{constructor(fe,Te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Te,this.task.then(()=>{fe(this)}).catch(Et=>{this.error(Et)})}next(fe){this.forEachObserver(Te=>{Te.next(fe)})}error(fe){this.forEachObserver(Te=>{Te.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,Te,Et){let Ze;if(void 0===fe&&void 0===Te&&void 0===Et)throw new Error("Missing Observer.");Ze=function $i(ge,fe){if("object"!=typeof ge||null===ge)return!1;for(const Te of fe)if(Te in ge&&"function"==typeof ge[Te])return!0;return!1}(fe,["next","error","complete"])?fe:{next:fe,error:Te,complete:Et},void 0===Ze.next&&(Ze.next=Ts),void 0===Ze.error&&(Ze.error=Ts),void 0===Ze.complete&&(Ze.complete=Ts);const gn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ze.error(this.finalError):Ze.complete()}catch{}}),this.observers.push(Ze),gn}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let Te=0;Te<this.observers.length;Te++)this.sendOne(Te,fe)}sendOne(fe,Te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{Te(this.observers[fe])}catch(Et){typeof console<"u"&&console.error&&console.error(Et)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ts(){}const zu=function(ge,fe,Te,Et){let Ze;if(Et<fe?Ze="at least "+fe:Et>Te&&(Ze=0===Te?"none":"no more than "+Te),Ze)throw new Error(ge+" failed: Was called with "+Et+(1===Et?" argument.":" arguments.")+" Expects "+Ze+".")};function Dn(ge,fe){return`${ge} failed: ${fe} argument `}function ci(ge,fe,Te,Et){if((!Et||Te)&&"function"!=typeof Te)throw new Error(Dn(ge,fe)+"must be a valid function.")}function Ml(ge,fe,Te,Et){if((!Et||Te)&&("object"!=typeof Te||null===Te))throw new Error(Dn(ge,fe)+"must be a valid context object.")}const tl=function(ge){const fe=[];let Te=0;for(let Et=0;Et<ge.length;Et++){let Ze=ge.charCodeAt(Et);if(Ze>=55296&&Ze<=56319){const gn=Ze-55296;Et++,Fe(Et<ge.length,"Surrogate pair missing trail surrogate."),Ze=65536+(gn<<10)+(ge.charCodeAt(Et)-56320)}Ze<128?fe[Te++]=Ze:Ze<2048?(fe[Te++]=Ze>>6|192,fe[Te++]=63&Ze|128):Ze<65536?(fe[Te++]=Ze>>12|224,fe[Te++]=Ze>>6&63|128,fe[Te++]=63&Ze|128):(fe[Te++]=Ze>>18|240,fe[Te++]=Ze>>12&63|128,fe[Te++]=Ze>>6&63|128,fe[Te++]=63&Ze|128)}return fe},qu=function(ge){let fe=0;for(let Te=0;Te<ge.length;Te++){const Et=ge.charCodeAt(Te);Et<128?fe++:Et<2048?fe+=2:Et>=55296&&Et<=56319?(fe+=4,Te++):fe+=3}return fe},bc=1e3,ja=2,ms=144e5,gs=.5;function kl(ge,fe=bc,Te=ja){const Et=fe*Math.pow(Te,ge),Ze=Math.round(gs*Et*(Math.random()-.5)*2);return Math.min(ms,Et+Ze)}function ao(ge){return ge&&ge._delegate?ge._delegate:ge}},4117:(An,xt,Q)=>{var l=Q(5879);let Fe=null;function ee(){return Fe}class We{}const je=new l.OlP("DocumentToken");let pt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(at)},providedIn:"platform"})}return n})();const Ft=new l.OlP("Location Initialized");let at=(()=>{class n extends pt{constructor(){super(),this._doc=(0,l.f3M)(je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(e){const i=ee().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ee().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function ue(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function _e(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let zt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(rn)},providedIn:"root"})}return n})();const Mt=new l.OlP("appBaseHref");let rn=(()=>{class n extends zt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ue(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Be(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+Be(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+Be(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(pt),l.LFG(Mt,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ot=(()=>{class n extends zt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ue(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+Be(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+Be(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(pt),l.LFG(Mt,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),Qt=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function $e(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(_e(Mn(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Be(i))}normalize(e){return n.stripTrailingSlash(function Bn(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Mn(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Be(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Be(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Be;static#t=this.joinWithSlash=ue;static#n=this.stripTrailingSlash=_e;static#i=this.\u0275fac=function(i){return new(i||n)(l.LFG(zt))};static#r=this.\u0275prov=l.Yz7({token:n,factory:function(){return function Ut(){return new Qt((0,l.LFG)(zt))}()},providedIn:"root"})}return n})();function Mn(n){return n.replace(/\/index.html$/,"")}const _t={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var qe=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(qe||{}),Vt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Vt||{}),tn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(tn||{}),nt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(nt||{}),Hn=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Hn||{});function st(n,t){return Ki((0,l.cg1)(n)[l.wAp.DateFormat],t)}function yt(n,t){return Ki((0,l.cg1)(n)[l.wAp.TimeFormat],t)}function bt(n,t){return Ki((0,l.cg1)(n)[l.wAp.DateTimeFormat],t)}function Ct(n,t){const e=(0,l.cg1)(n),i=e[l.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Hn.CurrencyDecimal)return e[l.wAp.NumberSymbols][Hn.Decimal];if(t===Hn.CurrencyGroup)return e[l.wAp.NumberSymbols][Hn.Group]}return i}function ti(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ki(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Hs(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Ko=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yc={},zd=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Fn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Fn||{}),mi=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(mi||{}),Kn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Kn||{});function Ji(n,t,e,i){let r=function fe(n){if(Et(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,a=1]=n.split("-").map(d=>+d);return Ir(r,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Ko))return function Te(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,d=Number(n[5]||0)-i,h=Number(n[6]||0),m=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,d,h,m),t}(i)}const t=new Date(n);if(!Et(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Co(e,t)||t;let d,a=[];for(;t;){if(d=zd.exec(t),!d){a.push(t);break}{a=a.concat(d.slice(1));const b=a.pop();if(!b)break;t=b}}let h=r.getTimezoneOffset();i&&(h=Ha(i,h),r=function ge(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function ao(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Ha(t,r)-r))}(r,i,!0));let m="";return a.forEach(b=>{const x=function Nr(n){if(kl[n])return kl[n];let t;switch(n){case"G":case"GG":case"GGG":t=ci(Kn.Eras,tn.Abbreviated);break;case"GGGG":t=ci(Kn.Eras,tn.Wide);break;case"GGGGG":t=ci(Kn.Eras,tn.Narrow);break;case"y":t=Dn(mi.FullYear,1,0,!1,!0);break;case"yy":t=Dn(mi.FullYear,2,0,!0,!0);break;case"yyy":t=Dn(mi.FullYear,3,0,!1,!0);break;case"yyyy":t=Dn(mi.FullYear,4,0,!1,!0);break;case"Y":t=gs(1);break;case"YY":t=gs(2,!0);break;case"YYY":t=gs(3);break;case"YYYY":t=gs(4);break;case"M":case"L":t=Dn(mi.Month,1,1);break;case"MM":case"LL":t=Dn(mi.Month,2,1);break;case"MMM":t=ci(Kn.Months,tn.Abbreviated);break;case"MMMM":t=ci(Kn.Months,tn.Wide);break;case"MMMMM":t=ci(Kn.Months,tn.Narrow);break;case"LLL":t=ci(Kn.Months,tn.Abbreviated,Vt.Standalone);break;case"LLLL":t=ci(Kn.Months,tn.Wide,Vt.Standalone);break;case"LLLLL":t=ci(Kn.Months,tn.Narrow,Vt.Standalone);break;case"w":t=ms(1);break;case"ww":t=ms(2);break;case"W":t=ms(1,!0);break;case"d":t=Dn(mi.Date,1);break;case"dd":t=Dn(mi.Date,2);break;case"c":case"cc":t=Dn(mi.Day,1);break;case"ccc":t=ci(Kn.Days,tn.Abbreviated,Vt.Standalone);break;case"cccc":t=ci(Kn.Days,tn.Wide,Vt.Standalone);break;case"ccccc":t=ci(Kn.Days,tn.Narrow,Vt.Standalone);break;case"cccccc":t=ci(Kn.Days,tn.Short,Vt.Standalone);break;case"E":case"EE":case"EEE":t=ci(Kn.Days,tn.Abbreviated);break;case"EEEE":t=ci(Kn.Days,tn.Wide);break;case"EEEEE":t=ci(Kn.Days,tn.Narrow);break;case"EEEEEE":t=ci(Kn.Days,tn.Short);break;case"a":case"aa":case"aaa":t=ci(Kn.DayPeriods,tn.Abbreviated);break;case"aaaa":t=ci(Kn.DayPeriods,tn.Wide);break;case"aaaaa":t=ci(Kn.DayPeriods,tn.Narrow);break;case"b":case"bb":case"bbb":t=ci(Kn.DayPeriods,tn.Abbreviated,Vt.Standalone,!0);break;case"bbbb":t=ci(Kn.DayPeriods,tn.Wide,Vt.Standalone,!0);break;case"bbbbb":t=ci(Kn.DayPeriods,tn.Narrow,Vt.Standalone,!0);break;case"B":case"BB":case"BBB":t=ci(Kn.DayPeriods,tn.Abbreviated,Vt.Format,!0);break;case"BBBB":t=ci(Kn.DayPeriods,tn.Wide,Vt.Format,!0);break;case"BBBBB":t=ci(Kn.DayPeriods,tn.Narrow,Vt.Format,!0);break;case"h":t=Dn(mi.Hours,1,-12);break;case"hh":t=Dn(mi.Hours,2,-12);break;case"H":t=Dn(mi.Hours,1);break;case"HH":t=Dn(mi.Hours,2);break;case"m":t=Dn(mi.Minutes,1);break;case"mm":t=Dn(mi.Minutes,2);break;case"s":t=Dn(mi.Seconds,1);break;case"ss":t=Dn(mi.Seconds,2);break;case"S":t=Dn(mi.FractionalSeconds,1);break;case"SS":t=Dn(mi.FractionalSeconds,2);break;case"SSS":t=Dn(mi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=tl(Fn.Short);break;case"ZZZZZ":t=tl(Fn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=tl(Fn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=tl(Fn.Long);break;default:return null}return kl[n]=t,t}(b);m+=x?x(r,e,h):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Ir(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Co(n,t){const e=function As(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(yc[e]=yc[e]||{},yc[e][t])return yc[e][t];let i="";switch(t){case"shortDate":i=st(n,nt.Short);break;case"mediumDate":i=st(n,nt.Medium);break;case"longDate":i=st(n,nt.Long);break;case"fullDate":i=st(n,nt.Full);break;case"shortTime":i=yt(n,nt.Short);break;case"mediumTime":i=yt(n,nt.Medium);break;case"longTime":i=yt(n,nt.Long);break;case"fullTime":i=yt(n,nt.Full);break;case"short":const r=Co(n,"shortTime"),s=Co(n,"shortDate");i=$i(bt(n,nt.Short),[r,s]);break;case"medium":const a=Co(n,"mediumTime"),d=Co(n,"mediumDate");i=$i(bt(n,nt.Medium),[a,d]);break;case"long":const h=Co(n,"longTime"),m=Co(n,"longDate");i=$i(bt(n,nt.Long),[h,m]);break;case"full":const b=Co(n,"fullTime"),x=Co(n,"fullDate");i=$i(bt(n,nt.Full),[b,x])}return i&&(yc[e][t]=i),i}function $i(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ts(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),s+a}function Dn(n,t,e=0,i=!1,r=!1){return function(s,a){let d=function Eo(n,t){switch(n){case mi.FullYear:return t.getFullYear();case mi.Month:return t.getMonth();case mi.Date:return t.getDate();case mi.Hours:return t.getHours();case mi.Minutes:return t.getMinutes();case mi.Seconds:return t.getSeconds();case mi.FractionalSeconds:return t.getMilliseconds();case mi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||d>-e)&&(d+=e),n===mi.Hours)0===d&&-12===e&&(d=12);else if(n===mi.FractionalSeconds)return function zu(n,t){return Ts(n,3).substring(0,t)}(d,t);const h=Ct(a,Hn.MinusSign);return Ts(d,t,h,i,r)}}function ci(n,t,e=Vt.Format,i=!1){return function(r,s){return function Ml(n,t,e,i,r,s){switch(e){case Kn.Months:return function Qr(n,t,e){const i=(0,l.cg1)(n),s=Ki([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],t);return Ki(s,e)}(t,r,i)[n.getMonth()];case Kn.Days:return function Al(n,t,e){const i=(0,l.cg1)(n),s=Ki([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],t);return Ki(s,e)}(t,r,i)[n.getDay()];case Kn.DayPeriods:const a=n.getHours(),d=n.getMinutes();if(s){const m=function pr(n){const t=(0,l.cg1)(n);return ti(t),(t[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Hs(i):[Hs(i[0]),Hs(i[1])])}(t),b=function mr(n,t,e){const i=(0,l.cg1)(n);ti(i);const s=Ki([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],t)||[];return Ki(s,e)||[]}(t,r,i),x=m.findIndex(M=>{if(Array.isArray(M)){const[D,P]=M,F=a>=D.hours&&d>=D.minutes,U=a<P.hours||a===P.hours&&d<P.minutes;if(D.hours<P.hours){if(F&&U)return!0}else if(F||U)return!0}else if(M.hours===a&&M.minutes===d)return!0;return!1});if(-1!==x)return b[x]}return function xo(n,t,e){const i=(0,l.cg1)(n),s=Ki([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],t);return Ki(s,e)}(t,r,i)[a<12?0:1];case Kn.Eras:return function Xc(n,t){return Ki((0,l.cg1)(n)[l.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function tl(n){return function(t,e,i){const r=-1*i,s=Ct(e,Hn.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Fn.Short:return(r>=0?"+":"")+Ts(a,2,s)+Ts(Math.abs(r%60),2,s);case Fn.ShortGMT:return"GMT"+(r>=0?"+":"")+Ts(a,1,s);case Fn.Long:return"GMT"+(r>=0?"+":"")+Ts(a,2,s)+":"+Ts(Math.abs(r%60),2,s);case Fn.Extended:return 0===i?"Z":(r>=0?"+":"")+Ts(a,2,s)+":"+Ts(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const qu=0,oo=4;function ja(n){return Ir(n.getFullYear(),n.getMonth(),n.getDate()+(oo-n.getDay()))}function ms(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+s)/7)}else{const s=ja(e),a=function bc(n){const t=Ir(n,qu,1).getDay();return Ir(n,0,1+(t<=oo?oo:oo+7)-t)}(s.getFullYear()),d=s.getTime()-a.getTime();r=1+Math.round(d/6048e5)}return Ts(r,n,Ct(i,Hn.MinusSign))}}function gs(n,t=!1){return function(e,i){return Ts(ja(e).getFullYear(),n,Ct(i,Hn.MinusSign),t)}}const kl={};function Ha(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Et(n){return n instanceof Date&&!isNaN(n.valueOf())}const Ze=/^(\d+)?\.((\d+)(-(\d+))?)?$/,gn=22,Vn=".",Ai="0",Bi=";",Xr=",",Jn="#";function Rl(n,t,e,i,r){const a=function Ue(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(Bi),r=i[0],s=i[1],a=-1!==r.indexOf(Vn)?r.split(Vn):[r.substring(0,r.lastIndexOf(Ai)+1),r.substring(r.lastIndexOf(Ai)+1)],d=a[0],h=a[1]||"";e.posPre=d.substring(0,d.indexOf(Jn));for(let b=0;b<h.length;b++){const x=h.charAt(b);x===Ai?e.minFrac=e.maxFrac=b+1:x===Jn?e.maxFrac=b+1:e.posSuf+=x}const m=d.split(Xr);if(e.gSize=m[1]?m[1].length:0,e.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,s){const b=r.length-e.posPre.length-e.posSuf.length,x=s.indexOf(Jn);e.negPre=s.substring(0,x).replace(/'/g,""),e.negSuf=s.slice(x+b).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Dt(n,t){return(0,l.cg1)(n)[l.wAp.NumberFormats][t]}(t,qe.Currency),Ct(t,Hn.MinusSign));return a.minFrac=function Zo(n){let t;const e=_t[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),a.maxFrac=a.minFrac,function Io(n,t,e,i,r,s,a=!1){let d="",h=!1;if(isFinite(n)){let m=function bn(n){let i,r,s,a,d,t=Math.abs(n)+"",e=0;for((r=t.indexOf(Vn))>-1&&(t=t.replace(Vn,"")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charAt(s)===Ai;s++);if(s===(d=t.length))i=[0],r=1;else{for(d--;t.charAt(d)===Ai;)d--;for(r-=s,i=[],a=0;s<=d;s++,a++)i[a]=Number(t.charAt(s))}return r>gn&&(i=i.splice(0,gn-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(m=function Lt(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(m));let b=t.minInt,x=t.minFrac,M=t.maxFrac;if(s){const Z=s.match(Ze);if(null===Z)throw new Error(`${s} is not a valid digit info`);const ne=Z[1],de=Z[3],ke=Z[5];null!=ne&&(b=dn(ne)),null!=de&&(x=dn(de)),null!=ke?M=dn(ke):null!=de&&x>M&&(M=x)}!function Rn(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let a=s+n.integerLen,d=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let x=a;x<i.length;x++)i[x]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=s+1),i[0]=0;for(let x=1;x<a;x++)i[x]=0}if(d>=5)if(a-1<0){for(let x=0;x>a;x--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,s);r++)i.push(0);let h=0!==s;const m=t+n.integerLen,b=i.reduceRight(function(x,M,D,P){return P[D]=(M+=x)<10?M:M-10,h&&(0===P[D]&&D>=m?P.pop():h=!1),M>=10?1:0},0);b&&(i.unshift(b),n.integerLen++)}(m,x,M);let D=m.digits,P=m.integerLen;const F=m.exponent;let U=[];for(h=D.every(Z=>!Z);P<b;P++)D.unshift(0);for(;P<0;P++)D.unshift(0);P>0?U=D.splice(P,D.length):(U=D,D=[0]);const j=[];for(D.length>=t.lgSize&&j.unshift(D.splice(-t.lgSize,D.length).join(""));D.length>t.gSize;)j.unshift(D.splice(-t.gSize,D.length).join(""));D.length&&j.unshift(D.join("")),d=j.join(Ct(e,i)),U.length&&(d+=Ct(e,r)+U.join("")),F&&(d+=Ct(e,Hn.Exponential)+"+"+F)}else d=Ct(e,Hn.Infinity);return d=n<0&&!h?t.negPre+d+t.negSuf:t.posPre+d+t.posSuf,d}(n,a,t,Hn.CurrencyGroup,Hn.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function dn(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}const Nl=/\s+/,Wp=[];let Jc=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=Wp,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Nl):Wp}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Nl):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Nl).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class cf{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zs=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new cf(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,a),Yp(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Yp(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Yp(n,t){n.context.$implicit=t.item}let ma=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new zy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){qy("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){qy("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class zy{constructor(){this.$implicit=null,this.ngIf=null}}function qy(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class uf{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ss=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),Gd=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new uf(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ss,9))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),df=(()=>{class n{constructor(e,i,r){r._addDefault(new uf(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ss,9))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),Wd=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]})}return n})();function ga(n,t){return new l.vHH(2100,!1)}class Zp{createSubscription(t,e){return(0,l.rg0)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,l.rg0)(()=>t.unsubscribe())}}class ks{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Kp=new ks,hf=new Zp;let ff=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,l.QGY)(e))return Kp;if((0,l.F4k)(e))return hf;throw ga()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.sBO,16))};static#t=this.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const vi=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Rs=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let _s=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return Ji(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw ga()}}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.soG,16),l.Y36(vi,24),l.Y36(Rs,24))};static#t=this.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),ei=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",s,a){if(!function Qi(n){return!(null==n||""===n||n!=n)}(e))return null;a=a||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let d=i||this._defaultCurrencyCode;"code"!==r&&(d="symbol"===r||"symbol-narrow"===r?function Yo(n,t,e="en"){const i=function On(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(e)[n]||_t[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(d,"symbol"===r?"wide":"narrow",a):r);try{return Rl(function Qo(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),a,d,i,s)}catch(h){throw ga()}}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))};static#t=this.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0,standalone:!0})}return n})();let qs=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const Or="browser";function Zd(n){return"server"===n}let Ao=(()=>{class n{static#e=this.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new To((0,l.LFG)(je),window)})}return n})();class To{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function va(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class b_ extends We{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class th extends b_{static makeCurrent(){!function He(n){Fe||(Fe=n)}(new th)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Qy(){return nh=nh||document.querySelector("base"),nh?nh.getAttribute("href"):null}();return null==e?null:function Vw(n){_m=_m||document.createElement("a"),_m.setAttribute("href",n);const t=_m.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){nh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Do(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let _m,nh=null,x_=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ef=new l.OlP("EventManagerPlugins");let Uw=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ef),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class C_{constructor(t){this._doc=t}}const Xu="ng-app-id";let E_=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zd(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Xu}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Xu),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Xu,this.appId),a}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(je),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const su={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ul=/%COMP%/g,I_=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function au(n,t){return t.map(e=>e.replace(Ul,n))}let ji=(()=>{class n{constructor(e,i,r,s,a,d,h,m=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=d,this.ngZone=h,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Zd(d),this.defaultRenderer=new Ju(e,a,h,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===l.ifc.ShadowDom&&(i={...i,encapsulation:l.ifc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Jo?r.applyToHost(e):r instanceof al&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const a=this.doc,d=this.ngZone,h=this.eventManager,m=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(i.encapsulation){case l.ifc.Emulated:s=new Jo(h,m,i,this.appId,b,a,d,x);break;case l.ifc.ShadowDom:return new wm(h,m,e,i,a,d,this.nonce,x);default:s=new al(h,m,i,b,a,d,x)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Uw),l.LFG(E_),l.LFG(l.AFp),l.LFG(I_),l.LFG(je),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class Ju{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(su[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(S_(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(S_(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new l.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=su[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=su[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=ee().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function S_(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wm extends Ju{constructor(t,e,i,r,s,a,d,h){super(t,s,a,h),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=au(r.id,r.styles);for(const b of m){const x=document.createElement("style");d&&x.setAttribute("nonce",d),x.textContent=b,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class al extends Ju{constructor(t,e,i,r,s,a,d,h){super(t,s,a,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=h?au(h,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jo extends al{constructor(t,e,i,r,s,a,d,h){const m=r+"-"+i.id;super(t,e,i,s,a,d,h,m),this.contentAttr=function ol(n){return"_ngcontent-%COMP%".replace(Ul,n)}(m),this.hostAttr=function D_(n){return"_nghost-%COMP%".replace(Ul,n)}(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let ed=(()=>{class n extends C_{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(je))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const Xy=["alt","control","meta","shift"],cu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let If=(()=>{class n extends C_{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ee().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),a="code."),Xy.forEach(m=>{const b=i.indexOf(m);b>-1&&(i.splice(b,1),a+=m+".")}),a+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=a,h}static matchEventFullKeyCode(e,i){let r=cu[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Xy.forEach(a=>{a!==r&&(0,uu[a])(e)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(je))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const bs=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Or},{provide:l.g9A,useValue:function Cm(){th.makeCurrent()},multi:!0},{provide:je,useFactory:function Df(){return(0,l.RDi)(document),document},deps:[]}]),A_=new l.OlP(""),Ys=[{provide:l.rWj,useClass:class w_{addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new l.vHH(5103,!1);return s},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const d=function(h){a=a||h,s--,0==s&&i(a)};r.forEach(h=>{h.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?ee().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],td=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function $n(){return new l.qLn},deps:[]},{provide:Ef,useClass:ed,multi:!0,deps:[je,l.R0b,l.Lbi]},{provide:Ef,useClass:If,multi:!0,deps:[je]},ji,E_,Uw,{provide:l.FYo,useExisting:ji},{provide:class qa{},useClass:x_,deps:[]},[]];let jl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(A_,12))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[...td,...Ys],imports:[qs,l.hGG]})}return n})(),ih=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(je))};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Im(){return new ih((0,l.LFG)(je))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;var _r=Q(6304),du=Q(6321),qr=Q(5592),_n=Q(2096),Ps=Q(3019),En=Q(7398),Dc=Q(3020),ir=Q(4664),ts=Q(9360),Ti=Q(8251);function Pi(n,t){return(0,ts.e)(function zl(n,t,e,i,r){return(s,a)=>{let d=e,h=t,m=0;s.subscribe((0,Ti.x)(a,b=>{const x=m++;h=d?n(h,b,x):(d=!0,b),i&&a.next(h)},r&&(()=>{d&&a.next(h),a.complete()})))}}(n,t,arguments.length>=2,!0))}var $a=Q(3997),ws=Q(4829),hu=Q(2737),Rm=Q(2420),ll=Q(9940),Yn=Q(8186),fu=(Q(5967),Q(3106)),No=Q(4537),lt=Q(5861),Zs=Q(534),J=Q(9058),Po=Q(7879);const kf="@firebase/database";let id="";function Rf(n){id=n}class r0{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,J.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,J.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Nf{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,J.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const N_=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new r0(t)}}catch{}return new Nf},rd=N_("localStorage"),ah=N_("sessionStorage"),lh=new Po.Yd("@firebase/database"),Nm=function(){let n=1;return function(){return n++}}(),ch=function(n){const t=(0,J.dS)(n),e=new J.gQ;e.update(t);const i=e.digest();return J.US.encodeByteArray(i)},ql=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ql.apply(null,i):t+="object"==typeof i?(0,J.Wl)(i):i,t+=" "}return t};let Gl=null,sd=!0;const Pf=function(n,t){(0,J.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(lh.logLevel=Po.in.VERBOSE,Gl=lh.log.bind(lh),t&&ah.set("logging_enabled",!0)):"function"==typeof n?Gl=n:(Gl=null,ah.remove("logging_enabled"))},Dr=function(...n){if(!0===sd&&(sd=!1,null===Gl&&!0===ah.get("logging_enabled")&&Pf(!0)),Gl){const t=ql.apply(null,n);Gl(t)}},Of=function(n){return function(...t){Dr(n,...t)}},Pm=function(...n){const t="FIREBASE INTERNAL ERROR: "+ql(...n);lh.error(t)},ea=function(...n){const t=`FIREBASE FATAL ERROR: ${ql(...n)}`;throw lh.error(t),new Error(t)},Ks=function(...n){const t="FIREBASE WARNING: "+ql(...n);lh.warn(t)},pu=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},na="[MIN_NAME]",Oo="[MAX_NAME]",ba=function(n,t){if(n===t)return 0;if(n===na||t===Oo)return-1;if(t===na||n===Oo)return 1;{const e=_u(n),i=_u(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},ad=function(n,t){return n===t?0:n<t?-1:1},Sc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,J.Wl)(t))},mu=function(n){if("object"!=typeof n||null===n)return(0,J.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,J.Wl)(t[i]),e+=":",e+=mu(n[t[i]]);return e+="}",e},uh=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function cs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Ff=function(n){(0,J.hu)(!pu(n),"Invalid JSON number");const i=1023;let r,s,a,d,h;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,a=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const m=[];for(h=52;h;h-=1)m.push(a%2?1:0),a=Math.floor(a/2);for(h=11;h;h-=1)m.push(s%2?1:0),s=Math.floor(s/2);m.push(r?1:0),m.reverse();const b=m.join("");let x="";for(h=0;h<64;h+=8){let M=parseInt(b.substr(h,8),2).toString(16);1===M.length&&(M="0"+M),x+=M}return x.toLowerCase()},Ac=new RegExp("^-?(0*)\\d{1,10}$"),_u=function(n){if(Ac.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},wa=function(n){try{n()}catch(t){setTimeout(()=>{throw Ks("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Wa=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class O_{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ks(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class F_{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ks(t)}}let ld=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const V=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ot="websocket",nn="long_polling";class Zt{constructor(t,e,i,r,s=!1,a="",d=!1,h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rd.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&rd.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Qn(n,t,e){let i;if((0,J.hu)("string"==typeof t,"typeof type must == string"),(0,J.hu)("object"==typeof e,"typeof params must == object"),t===ot)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==nn)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Tn(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return cs(e,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class ni{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,J.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,J.p$)(this.counters_)}}const ia={},rr={};function Tc(n){const t=n.toString();return ia[t]||(ia[t]=new ni),ia[t]}class dr{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&wa(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ud{constructor(t,e,i,r,s,a,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Of(t),this.stats_=Tc(e),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),Qn(e,nn,h))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new dr(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,J.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zw((...s)=>{const[a,d,h,m,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=d,this.password=h;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&V.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ud.forceAllow_=!0}static forceDisallow(){ud.forceDisallow_=!0}static isAvailable(){return!((0,J.Yr)()||!ud.forceAllow_&&(ud.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,J.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,J.h$)(e),r=uh(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,J.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,J.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Zw{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,J.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Nm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Zw.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(d){Dr("frame writing exception"),d.stack&&Dr(d.stack),Dr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Dr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,J.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Dr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let U_=null;typeof MozWebSocket<"u"?U_=MozWebSocket:typeof WebSocket<"u"&&(U_=WebSocket);let dd=(()=>{class n{constructor(e,i,r,s,a,d,h){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Of(this.connId),this.stats_=Tc(i),this.connURL=n.connectionURL_(i,d,h,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,a){const d={v:"5"};return!(0,J.Yr)()&&typeof location<"u"&&location.hostname&&V.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),a&&(d.p=a),Qn(e,ot,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rd.set("previous_websocket_failure",!0);try{let r;if((0,J.Yr)()){r={headers:{"User-Agent":`Firebase/5/${id}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,d=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new U_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==U_&&!n.forceDisallow_}static previouslyFailed(){return rd.isInMemoryStorage||!0===rd.get("previous_websocket_failure")}markConnectionHealthy(){rd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,J.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,J.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,J.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=uh(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),j_=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ud,dd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=dd&&dd.isAvailable();let r=i&&!dd.previouslyFailed();if(e.webSocketOnly&&(i||Ks("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[dd];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Jw{constructor(t,e,i,r,s,a,d,h,m,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=d,this.onDisconnect_=h,this.onKill_=m,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Of("c:"+this.id+":"),this.transportManager_=new j_(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Wa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Sc("t",t),i=Sc("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Sc("t",t),i=Sc("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Sc("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Pm("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pm("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ks("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Wa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class mI{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Lm{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,J.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,J.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class zf extends Lm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,J.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new zf}getInitialEvent(t){return(0,J.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Hi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wi(){return new Hi("")}function hi(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function vu(n){return n.pieces_.length-n.pieceNum_}function sr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Hi(n.pieces_,t)}function $_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qf(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function _I(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Hi(t,0)}function or(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Hi)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Hi(e,0)}function Ii(n){return n.pieceNum_>=n.pieces_.length}function Qs(n,t){const e=hi(n),i=hi(t);if(null===e)return t;if(e===i)return Qs(sr(n),sr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function RT(n,t){const e=qf(n,0),i=qf(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=ba(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function t1(n,t){if(vu(n)!==vu(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ia(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(vu(n)>vu(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class NT{constructor(t,e){this.errorPrefix_=e,this.parts_=qf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,J.ug)(this.parts_[i]);l0(this)}}function l0(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gh(n))}function gh(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class c0 extends Lm{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new c0}getInitialEvent(t){return(0,J.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Mc=1e3;let _h,kc=(()=>{class n extends mI{constructor(e,i,r,s,a,d,h,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=n.nextPersistentConnectionId_++,this.log_=Of("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!(0,J.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");c0.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&zf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,a={r:s,a:e,b:i};this.log_((0,J.Wl)(a)),(0,J.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new J.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;"ok"===d.s?i.resolve(h):i.reject(h)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const a=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+a),this.listens.has(d)||this.listens.set(d,new Map),(0,J.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,J.hu)(!this.listens.get(d).has(a),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,h=>{const m=h.d,b=h.s;n.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",h),"ok"!==b&&this.removeListen_(r,s),e.onComplete&&e.onComplete(b,m))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,J.r3)(e,"w")){const r=(0,J.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();Ks(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,J.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,J.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,d=s.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,J.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const a={p:e};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,a){this.initConnection_();const d={p:i,d:r};void 0!==a&&(d.h=a),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,J.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Pm("Unrecognized action received from server: "+(0,J.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,J.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Mc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,lt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let h=!1,m=null;const b=function(){m?m.close():(h=!0,s())};e.realtime_={close:b,sendRequest:function(D){(0,J.hu)(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(D)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[D,P]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);h?Dr("getToken() completed but was canceled"):(Dr("getToken() completed. Creating connection."),e.authToken_=D&&D.accessToken,e.appCheckToken_=P&&P.token,m=new Jw(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,F=>{Ks(F+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(D){e.log_("Failed to get token: "+D),h||(e.repoInfo_.nodeAdmin&&Ks(D),b())}}})()}interrupt(e){Dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,J.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>mu(a)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Hi(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Dr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Dr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,J.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+id.replace(/\./g,"-")]=1,(0,J.uI)()?e["framework.cordova"]=1:(0,J.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zf.getInstance().currentlyOnline();return(0,J.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class gi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new gi(t,e)}}class fd{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new gi(na,t),r=new gi(na,e);return 0!==this.compare(i,r)}minPost(){return gi.MIN}}class yu extends fd{static get __EMPTY_NODE(){return _h}static set __EMPTY_NODE(t){_h=t}compare(t,e){return ba(t.name,e.name)}isDefinedOn(t){throw(0,J.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return gi.MIN}maxPost(){return new gi(Oo,_h)}makePost(t,e){return(0,J.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new gi(t,_h)}toString(){return".key"}}const $l=new yu;class Y_{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Wf,ul=(()=>{class n{constructor(e,i,r,s,a){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??oa.EMPTY_NODE,this.right=a??oa.EMPTY_NODE}copy(e,i,r,s,a){return new n(e??this.key,i??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return oa.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return oa.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class oa{constructor(t,e=oa.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new oa(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ul.BLACK,null,null))}remove(t){return new oa(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ul.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Y_(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Y_(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Y_(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Y_(this.root_,null,this.comparator_,!0,t)}}function Da(n,t){return ba(n.name,t.name)}function Vm(n,t){return ba(n,t)}oa.EMPTY_NODE=new class d0{copy(t,e,i,r,s){return this}insert(t,e,i){return new ul(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Rc=function(n){return"number"==typeof n?"number:"+Ff(n):"string:"+n},Os=function(n){if(n.isLeafNode()){const t=n.val();(0,J.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,J.r3)(t,".sv"),"Priority must be a string or number.")}else(0,J.hu)(n===Wf||n.isEmpty(),"priority of unexpected type.");(0,J.hu)(n===Wf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Um,Z_,Fs,pd=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,J.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Os(this.priorityNode_)}static set __childrenNodeConstructor(e){Um=e}static get __childrenNodeConstructor(){return Um}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ii(e)?this:".priority"===hi(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=hi(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,J.hu)(".priority"!==r||1===vu(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(sr(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Rc(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Ff(this.value_):this.value_,this.lazyHash_=ch(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,J.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,J.hu)(s>=0,"Unknown leaf type: "+i),(0,J.hu)(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const vr=new class s1 extends fd{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?ba(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return gi.MIN}maxPost(){return new gi(Oo,new pd("[PRIORITY-POST]",Fs))}makePost(t,e){const i=Z_(t);return new gi(e,new pd("[PRIORITY-POST]",i))}toString(){return".priority"}},C=Math.log(2);class g{constructor(t){this.count=parseInt(Math.log(t+1)/C,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const v=function(n,t,e,i){n.sort(t);const r=function(h,m){const b=m-h;let x,M;if(0===b)return null;if(1===b)return x=n[h],M=e?e(x):x,new ul(M,x.node,ul.BLACK,null,null);{const D=parseInt(b/2,10)+h,P=r(h,D),F=r(D+1,m);return x=n[D],M=e?e(x):x,new ul(M,x.node,ul.BLACK,P,F)}},d=function(h){let m=null,b=null,x=n.length;const M=function(P,F){const U=x-P,j=x;x-=P;const Z=r(U+1,j),ne=n[U],de=e?e(ne):ne;D(new ul(de,ne.node,F,null,Z))},D=function(P){m?(m.left=P,m=P):(b=P,m=P)};for(let P=0;P<h.count;++P){const F=h.nextBitIsOne(),U=Math.pow(2,h.count-(P+1));F?M(U,ul.BLACK):(M(U,ul.BLACK),M(U,ul.RED))}return b}(new g(n.length));return new oa(i||t,d)};let I;const L={};class G{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,J.hu)(L&&vr,"ChildrenNode.ts has not been loaded"),I=I||new G({".priority":L},{".priority":vr}),I}get(t){const e=(0,J.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof oa?e:null}hasIndex(t){return(0,J.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,J.hu)(t!==$l,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(gi.Wrap);let d,a=s.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=s.getNext();d=r?v(i,t.getCompare()):L;const h=t.toString(),m=Object.assign({},this.indexSet_);m[h]=t;const b=Object.assign({},this.indexes_);return b[h]=d,new G(b,m)}addToIndexes(t,e){const i=(0,J.UI)(this.indexes_,(r,s)=>{const a=(0,J.DV)(this.indexSet_,s);if((0,J.hu)(a,"Missing index implementation for "+s),r===L){if(a.isDefinedOn(t.node)){const d=[],h=e.getIterator(gi.Wrap);let m=h.getNext();for(;m;)m.name!==t.name&&d.push(m),m=h.getNext();return d.push(t),v(d,a.getCompare())}return L}{const d=e.get(t.name);let h=r;return d&&(h=h.remove(new gi(t.name,d))),h.insert(t,t.node)}});return new G(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,J.UI)(this.indexes_,r=>{if(r===L)return r;{const s=e.get(t.name);return s?r.remove(new gi(t.name,s)):r}});return new G(i,this.indexSet_)}}let me,be=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Os(this.priorityNode_),this.children_.isEmpty()&&(0,J.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return me||(me=new n(new oa(Vm),null,G.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||me}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?me:i}}getChild(e){const i=hi(e);return null===i?this:this.getImmediateChild(i).getChild(sr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,J.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new gi(e,i);let s,a;i.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?me:this.priorityNode_;return new n(s,d,a)}}updateChild(e,i){const r=hi(e);if(null===r)return i;{(0,J.hu)(".priority"!==hi(e)||1===vu(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(sr(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(vr,(d,h)=>{i[d]=h.val(e),r++,a&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):a=!1}),!e&&a&&s<2*r){const d=[];for(const h in i)d[h]=i[h];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Rc(this.getPriority().val())+":"),this.forEachChild(vr,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":ch(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new gi(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new gi(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new gi(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,gi.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,gi.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Gt?-1:0}withIndex(e){if(e===$l||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===$l||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(vr),s=i.getIterator(vr);let a=r.getNext(),d=s.getNext();for(;a&&d;){if(a.name!==d.name||!a.node.equals(d.node))return!1;a=r.getNext(),d=s.getNext()}return null===a&&null===d}return!1}return!1}}resolveIndex_(e){return e===$l?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Gt=new class Pt extends be{constructor(){super(new oa(Vm),be.EMPTY_NODE,G.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return be.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(gi,{MIN:{value:new gi(na,be.EMPTY_NODE)},MAX:{value:new gi(Oo,Gt)}}),yu.__EMPTY_NODE=be.EMPTY_NODE,pd.__childrenNodeConstructor=be,function yI(n){Wf=n}(Gt),function r1(n){Fs=n}(Gt);const hn=!0;function $t(n,t=null){if(null===n)return be.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,J.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new pd(n,$t(t));if(n instanceof Array||!hn){let e=be.EMPTY_NODE;return cs(n,(i,r)=>{if((0,J.r3)(n,i)&&"."!==i.substring(0,1)){const s=$t(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority($t(t))}{const e=[];let i=!1;if(cs(n,(a,d)=>{if("."!==a.substring(0,1)){const h=$t(d);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),e.push(new gi(a,h)))}}),0===e.length)return be.EMPTY_NODE;const s=v(e,Da,a=>a.name,Vm);if(i){const a=v(e,vr.getCompare());return new be(s,$t(t),new G({".priority":a},{".priority":vr}))}return new be(s,$t(t),G.Default)}}!function jm(n){Z_=n}($t);class Sr extends fd{constructor(t){super(),this.indexPath_=t,(0,J.hu)(!Ii(t)&&".priority"!==hi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?ba(t.name,e.name):s}makePost(t,e){const i=$t(t),r=be.EMPTY_NODE.updateChild(this.indexPath_,i);return new gi(e,r)}maxPost(){const t=be.EMPTY_NODE.updateChild(this.indexPath_,Gt);return new gi(Oo,t)}toString(){return qf(this.indexPath_,0).join("/")}}const vh=new class dl extends fd{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?ba(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return gi.MIN}maxPost(){return gi.MAX}makePost(t,e){const i=$t(t);return new gi(e,i)}toString(){return".value"}};function K_(n){return{type:"value",snapshotNode:n}}function Ya(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function bu(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function yh(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class bh{constructor(t){this.index_=t}updateChild(t,e,i,r,s,a){(0,J.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(bu(e,d)):(0,J.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?a.trackChildChange(Ya(e,i)):a.trackChildChange(yh(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(vr,(r,s)=>{e.hasChild(r)||i.trackChildChange(bu(r,s))}),e.isLeafNode()||e.forEachChild(vr,(r,s)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(s)||i.trackChildChange(yh(r,s,a))}else i.trackChildChange(Ya(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?be.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Yf{constructor(t){this.indexedFilter_=new bh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Yf.getStartPost_(t),this.endPost_=Yf.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,a){return this.matches(new gi(e,i))||(i=be.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=be.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(be.EMPTY_NODE);const s=this;return e.forEachChild(vr,(a,d)=>{s.matches(new gi(a,d))||(r=r.updateImmediateChild(a,be.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class h0{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Yf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,a){return this.rangedFilter_.matches(new gi(e,i))||(i=be.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,a):this.fullLimitUpdateChild_(t,e,i,s,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=be.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=be.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const d=s.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;r=r.updateImmediateChild(d.name,d.node),a++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(be.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let a=0;for(;s.hasNext();){const d=s.getNext();a<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?a++:r=r.updateImmediateChild(d.name,be.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let a;if(this.reverse_){const x=this.index_.getCompare();a=(M,D)=>x(D,M)}else a=this.index_.getCompare();const d=t;(0,J.hu)(d.numChildren()===this.limit_,"");const h=new gi(e,i),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(h);if(d.hasChild(e)){const x=d.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,m,this.reverse_);for(;null!=M&&(M.name===e||d.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const D=null==M?1:a(M,h);if(b&&!i.isEmpty()&&D>=0)return s?.trackChildChange(yh(e,i,x)),d.updateImmediateChild(e,i);{s?.trackChildChange(bu(e,x));const F=d.updateImmediateChild(e,be.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(s?.trackChildChange(Ya(M.name,M.node)),F.updateImmediateChild(M.name,M.node)):F}}return i.isEmpty()?t:b&&a(m,h)>=0?(null!=s&&(s.trackChildChange(bu(m.name,m.node)),s.trackChildChange(Ya(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(m.name,be.EMPTY_NODE)):t}}class zm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,J.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,J.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:na}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,J.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,J.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,J.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vr}copy(){const t=new zm;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function o1(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function p0(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function l1(n,t){const e=n.copy();return e.index_=t,e}function PT(n){const t={};if(n.isDefault())return t;let e;if(n.index_===vr?e="$priority":n.index_===vh?e="$value":n.index_===$l?e="$key":((0,J.hu)(n.index_ instanceof Sr,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,J.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,J.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,J.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,J.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,J.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function c1(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==vr&&(t.i=n.index_.toString()),t}class m0 extends mI{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Of("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,J.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=m0.getListenId_(t,i),d={};this.listens_[a]=d;const h=PT(t._queryParams);this.restRequest_(s+".json",h,(m,b)=>{let x=b;if(404===m&&(x=null,m=null),null===m&&this.onDataUpdate_(s,x,!1,i),(0,J.DV)(this.listens_,a)===d){let M;M=m?401===m?"permission_denied":"rest_error:"+m:"ok",r(M,null)}})}unlisten(t,e){const i=m0.getListenId_(t,e);delete this.listens_[i]}get(t){const e=PT(t._queryParams),i=t._path.toString(),r=new J.BH;return this.restRequest_(i+".json",e,(s,a)=>{let d=a;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,J.xO)(e);this.log_("Sending REST request for "+a);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+a+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=(0,J.cI)(d.responseText)}catch{Ks("Failed to parse JSON response for "+a+": "+d.responseText)}i(null,h)}else 401!==d.status&&404!==d.status&&Ks("Got unsuccessful REST response for "+a+" Status: "+d.status),i(d.status);i=null}},d.open("GET",a,!0),d.send()})}}class qm{constructor(){this.rootNode_=be.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function g0(){return{value:null,children:new Map}}function Gm(n,t,e){if(Ii(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=hi(t);n.children.has(i)||n.children.set(i,g0()),Gm(n.children.get(i),t=sr(t),e)}}function CI(n,t){if(Ii(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(vr,(i,r)=>{Gm(n,new Hi(i),r)}),CI(n,t)}}if(n.children.size>0){const e=hi(t);return t=sr(t),n.children.has(e)&&CI(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function OT(n,t,e){null!==n.value?e(t,n.value):function u1(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{OT(r,new Hi(t.toString()+"/"+i),e)})}class WO{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&cs(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class II{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new WO(t);const i=1e4+2e4*Math.random();Wa(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;cs(t,(r,s)=>{s>0&&(0,J.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),Wa(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var wu=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(wu||{});function d1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class X_{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=wu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Ii(this.path)){if(null!=this.affectedTree.value)return(0,J.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Hi(t));return new X_(Wi(),e,this.revert)}}return(0,J.hu)(hi(this.path)===t,"operationForChild called for unrelated child."),new X_(sr(this.path),this.affectedTree,this.revert)}}class Zf{constructor(t,e){this.source=t,this.path=e,this.type=wu.LISTEN_COMPLETE}operationForChild(t){return Ii(this.path)?new Zf(this.source,Wi()):new Zf(this.source,sr(this.path))}}class Kf{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=wu.OVERWRITE}operationForChild(t){return Ii(this.path)?new Kf(this.source,Wi(),this.snap.getImmediateChild(t)):new Kf(this.source,sr(this.path),this.snap)}}class Qf{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=wu.MERGE}operationForChild(t){if(Ii(this.path)){const e=this.children.subtree(new Hi(t));return e.isEmpty()?null:e.value?new Kf(this.source,Wi(),e.value):new Qf(this.source,Wi(),e)}return(0,J.hu)(hi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Qf(this.source,sr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Nc{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ii(t))return this.isFullyInitialized()&&!this.filtered_;const e=hi(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class YO{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function _0(n,t,e,i,r,s){const a=i.filter(d=>d.type===e);a.sort((d,h)=>function KO(n,t,e){if(null==t.childName||null==e.childName)throw(0,J.g5)("Should only compare child_ events.");const i=new gi(t.childName,t.snapshotNode),r=new gi(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,h)),a.forEach(d=>{const h=function ZO(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(m=>{m.respondsTo(d.type)&&t.push(m.createEvent(h,n.query_))})})}function v0(n,t){return{eventCache:n,serverCache:t}}function J_(n,t,e,i){return v0(new Nc(t,e,i),n.serverCache)}function y0(n,t,e,i){return v0(n.eventCache,new Nc(t,e,i))}function ev(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Pc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let DI;class Gr{constructor(t,e=(()=>(DI||(DI=new oa(ad)),DI))()){this.value=t,this.children=e}static fromObject(t){let e=new Gr(null);return cs(t,(i,r)=>{e=e.set(new Hi(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wi(),value:this.value};if(Ii(t))return null;{const i=hi(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(sr(t),e);return null!=s?{path:or(new Hi(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ii(t))return this;{const e=hi(t),i=this.children.get(e);return null!==i?i.subtree(sr(t)):new Gr(null)}}set(t,e){if(Ii(t))return new Gr(e,this.children);{const i=hi(t),s=(this.children.get(i)||new Gr(null)).set(sr(t),e),a=this.children.insert(i,s);return new Gr(this.value,a)}}remove(t){if(Ii(t))return this.children.isEmpty()?new Gr(null):new Gr(null,this.children);{const e=hi(t),i=this.children.get(e);if(i){const r=i.remove(sr(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Gr(null):new Gr(this.value,s)}return this}}get(t){if(Ii(t))return this.value;{const e=hi(t),i=this.children.get(e);return i?i.get(sr(t)):null}}setTree(t,e){if(Ii(t))return e;{const i=hi(t),s=(this.children.get(i)||new Gr(null)).setTree(sr(t),e);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Gr(this.value,a)}}fold(t){return this.fold_(Wi(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(or(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Wi(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Ii(t))return null;{const s=hi(t),a=this.children.get(s);return a?a.findOnPath_(sr(t),or(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wi(),e)}foreachOnPath_(t,e,i){if(Ii(t))return this;{this.value&&i(e,this.value);const r=hi(t),s=this.children.get(r);return s?s.foreachOnPath_(sr(t),or(e,r),i):new Gr(null)}}foreach(t){this.foreach_(Wi(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(or(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class xu{constructor(t){this.writeTree_=t}static empty(){return new xu(new Gr(null))}}function Wm(n,t,e){if(Ii(t))return new xu(new Gr(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const a=Qs(r,t);return s=s.updateChild(a,e),new xu(n.writeTree_.set(r,s))}{const r=new Gr(e),s=n.writeTree_.setTree(t,r);return new xu(s)}}}function SI(n,t,e){let i=n;return cs(e,(r,s)=>{i=Wm(i,or(t,r),s)}),i}function Ym(n,t){if(Ii(t))return xu.empty();{const e=n.writeTree_.setTree(t,new Gr(null));return new xu(e)}}function tv(n,t){return null!=wh(n,t)}function wh(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Qs(e.path,t)):null}function AI(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(vr,(i,r)=>{t.push(new gi(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new gi(i,r.value))}),t}function xh(n,t){if(Ii(t))return n;{const e=wh(n,t);return new xu(null!=e?new Gr(e):n.writeTree_.subtree(t))}}function h1(n){return n.writeTree_.isEmpty()}function Oc(n,t){return VT(Wi(),n.writeTree_,t)}function VT(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,J.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=VT(or(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(or(n,".priority"),i)),e}}function f1(n,t){return lF(t,n)}function nv(n,t){if(n.snap)return Ia(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ia(or(n.path,e),t))return!0;return!1}function nF(n){return n.visible}function UT(n,t,e){let i=xu.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const a=s.path;let d;if(s.snap)Ia(e,a)?(d=Qs(e,a),i=Wm(i,d,s.snap)):Ia(a,e)&&(d=Qs(a,e),i=Wm(i,Wi(),s.snap.getChild(d)));else{if(!s.children)throw(0,J.g5)("WriteRecord should have .snap or .children");if(Ia(e,a))d=Qs(e,a),i=SI(i,d,s.children);else if(Ia(a,e))if(d=Qs(a,e),Ii(d))i=SI(i,Wi(),s.children);else{const h=(0,J.DV)(s.children,hi(d));if(h){const m=h.getChild(sr(d));i=Wm(i,Wi(),m)}}}}}return i}function jT(n,t,e,i,r){if(i||r){const s=xh(n.visibleWrites,t);return!r&&h1(s)?e:r||null!=e||tv(s,Wi())?Oc(UT(n.allWrites,function(m){return(m.visible||r)&&(!i||!~i.indexOf(m.writeId))&&(Ia(m.path,t)||Ia(t,m.path))},t),e||be.EMPTY_NODE):null}{const s=wh(n.visibleWrites,t);if(null!=s)return s;{const a=xh(n.visibleWrites,t);return h1(a)?e:null!=e||tv(a,Wi())?Oc(a,e||be.EMPTY_NODE):null}}}function p1(n,t,e,i){return jT(n.writeTree,n.treePath,t,e,i)}function iv(n,t){return function iF(n,t,e){let i=be.EMPTY_NODE;const r=wh(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(vr,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(e){const s=xh(n.visibleWrites,t);return e.forEachChild(vr,(a,d)=>{const h=Oc(xh(s,new Hi(a)),d);i=i.updateImmediateChild(a,h)}),AI(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return AI(xh(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function md(n,t,e,i){return function rF(n,t,e,i,r){(0,J.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=or(t,e);if(tv(n.visibleWrites,s))return null;{const a=xh(n.visibleWrites,s);return h1(a)?r.getChild(e):Oc(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Xf(n,t){return function sF(n,t){return wh(n.visibleWrites,t)}(n.writeTree,or(n.treePath,t))}function m1(n,t,e){return function HT(n,t,e,i){const r=or(t,e),s=wh(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Oc(xh(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function TI(n,t){return lF(or(n.treePath,t),n.writeTree)}function lF(n,t){return{treePath:n,writeTree:t}}class S8{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,J.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,J.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,yh(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,bu(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Ya(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,J.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,yh(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const g1=new class A8{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class b0{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Nc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return m1(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Pc(this.viewCache_),s=function zT(n,t,e,i,r,s){return function oF(n,t,e,i,r,s,a){let d;const h=xh(n.visibleWrites,t),m=wh(h,Wi());if(null!=m)d=m;else{if(null==e)return[];d=Oc(h,e)}if(d=d.withIndex(a),d.isEmpty()||d.isLeafNode())return[];{const b=[],x=a.getCompare(),M=s?d.getReverseIteratorFrom(i,a):d.getIteratorFrom(i,a);let D=M.getNext();for(;D&&b.length<r;)0!==x(D,i)&&b.push(D),D=M.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function GT(n,t,e,i,r,s){const a=t.eventCache;if(null!=Xf(i,e))return t;{let d,h;if(Ii(e))if((0,J.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=Pc(t),x=iv(i,m instanceof be?m:be.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),x,s)}else{const m=p1(i,Pc(t));d=n.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{const m=hi(e);if(".priority"===m){(0,J.hu)(1===vu(e),"Can't have a priority with additional path components");const b=a.getNode();h=t.serverCache.getNode();const x=md(i,e,b,h);d=null!=x?n.filter.updatePriority(b,x):a.getNode()}else{const b=sr(e);let x;if(a.isCompleteForChild(m)){h=t.serverCache.getNode();const M=md(i,e,a.getNode(),h);x=null!=M?a.getNode().getImmediateChild(m).updateChild(b,M):a.getNode().getImmediateChild(m)}else x=m1(i,m,t.serverCache);d=null!=x?n.filter.updateChild(a.getNode(),m,x,b,r,s):a.getNode()}}return J_(t,d,a.isFullyInitialized()||Ii(e),n.filter.filtersNodes())}}function _1(n,t,e,i,r,s,a,d){const h=t.serverCache;let m;const b=a?n.filter:n.filter.getIndexedFilter();if(Ii(e))m=b.updateFullNode(h.getNode(),i,null);else if(b.filtersNodes()&&!h.isFiltered()){const D=h.getNode().updateChild(e,i);m=b.updateFullNode(h.getNode(),D,null)}else{const D=hi(e);if(!h.isCompleteForPath(e)&&vu(e)>1)return t;const P=sr(e),U=h.getNode().getImmediateChild(D).updateChild(P,i);m=".priority"===D?b.updatePriority(h.getNode(),U):b.updateChild(h.getNode(),D,U,P,g1,null)}const x=y0(t,m,h.isFullyInitialized()||Ii(e),b.filtersNodes());return GT(n,x,e,r,new b0(r,x,s),d)}function MI(n,t,e,i,r,s,a){const d=t.eventCache;let h,m;const b=new b0(r,t,s);if(Ii(e))m=n.filter.updateFullNode(t.eventCache.getNode(),i,a),h=J_(t,m,!0,n.filter.filtersNodes());else{const x=hi(e);if(".priority"===x)m=n.filter.updatePriority(t.eventCache.getNode(),i),h=J_(t,m,d.isFullyInitialized(),d.isFiltered());else{const M=sr(e),D=d.getNode().getImmediateChild(x);let P;if(Ii(M))P=i;else{const F=b.getCompleteChild(x);P=null!=F?".priority"===$_(M)&&F.getChild(_I(M)).isEmpty()?F:F.updateChild(M,i):be.EMPTY_NODE}h=D.equals(P)?t:J_(t,n.filter.updateChild(d.getNode(),x,P,M,b,a),d.isFullyInitialized(),n.filter.filtersNodes())}}return h}function kI(n,t){return n.eventCache.isCompleteForChild(t)}function RI(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function w0(n,t,e,i,r,s,a,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m,h=t;m=Ii(e)?i:new Gr(null).setTree(e,i);const b=t.serverCache.getNode();return m.children.inorderTraversal((x,M)=>{if(b.hasChild(x)){const P=RI(0,t.serverCache.getNode().getImmediateChild(x),M);h=_1(n,h,new Hi(x),P,r,s,a,d)}}),m.children.inorderTraversal((x,M)=>{const D=!t.serverCache.isCompleteForChild(x)&&null===M.value;if(!b.hasChild(x)&&!D){const F=RI(0,t.serverCache.getNode().getImmediateChild(x),M);h=_1(n,h,new Hi(x),F,r,s,a,d)}}),h}class hF{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new bh(i.getIndex()),s=function bI(n){return n.loadsAllData()?new bh(n.getIndex()):n.hasLimit()?new h0(n):new Yf(n)}(i);this.processor_=function T8(n){return{filter:n}}(s);const a=e.serverCache,d=e.eventCache,h=r.updateFullNode(be.EMPTY_NODE,a.getNode(),null),m=s.updateFullNode(be.EMPTY_NODE,d.getNode(),null),b=new Nc(h,a.isFullyInitialized(),r.filtersNodes()),x=new Nc(m,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=v0(x,b),this.eventGenerator_=new YO(this.query_)}get query(){return this.query_}}function fF(n,t){const e=Pc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Ii(t)&&!e.getImmediateChild(hi(t)).isEmpty())?e.getChild(t):null}function WT(n){return 0===n.eventRegistrations_.length}function YT(n,t,e){const i=[];if(e){(0,J.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function PI(n,t,e,i){t.type===wu.MERGE&&null!==t.source.queryId&&((0,J.hu)(Pc(n.viewCache_),"We should always have a full cache before handling merges"),(0,J.hu)(ev(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function qT(n,t,e,i,r){const s=new S8;let a,d;if(e.type===wu.OVERWRITE){const m=e;m.source.fromUser?a=MI(n,t,m.path,m.snap,i,r,s):((0,J.hu)(m.source.fromServer,"Unknown source."),d=m.source.tagged||t.serverCache.isFiltered()&&!Ii(m.path),a=_1(n,t,m.path,m.snap,i,r,d,s))}else if(e.type===wu.MERGE){const m=e;m.source.fromUser?a=function v1(n,t,e,i,r,s,a){let d=t;return i.foreach((h,m)=>{const b=or(e,h);kI(t,hi(b))&&(d=MI(n,d,b,m,r,s,a))}),i.foreach((h,m)=>{const b=or(e,h);kI(t,hi(b))||(d=MI(n,d,b,m,r,s,a))}),d}(n,t,m.path,m.children,i,r,s):((0,J.hu)(m.source.fromServer,"Unknown source."),d=m.source.tagged||t.serverCache.isFiltered(),a=w0(n,t,m.path,m.children,i,r,d,s))}else if(e.type===wu.ACK_USER_WRITE){const m=e;a=m.revert?function dF(n,t,e,i,r,s){let a;if(null!=Xf(i,e))return t;{const d=new b0(i,t,r),h=t.eventCache.getNode();let m;if(Ii(e)||".priority"===hi(e)){let b;if(t.serverCache.isFullyInitialized())b=p1(i,Pc(t));else{const x=t.serverCache.getNode();(0,J.hu)(x instanceof be,"serverChildren would be complete if leaf node"),b=iv(i,x)}m=n.filter.updateFullNode(h,b,s)}else{const b=hi(e);let x=m1(i,b,t.serverCache);null==x&&t.serverCache.isCompleteForChild(b)&&(x=h.getImmediateChild(b)),m=null!=x?n.filter.updateChild(h,b,x,sr(e),d,s):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(h,b,be.EMPTY_NODE,sr(e),d,s):h,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=p1(i,Pc(t)),a.isLeafNode()&&(m=n.filter.updateFullNode(m,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=Xf(i,Wi()),J_(t,m,a,n.filter.filtersNodes())}}(n,t,m.path,i,r,s):function uF(n,t,e,i,r,s,a){if(null!=Xf(r,e))return t;const d=t.serverCache.isFiltered(),h=t.serverCache;if(null!=i.value){if(Ii(e)&&h.isFullyInitialized()||h.isCompleteForPath(e))return _1(n,t,e,h.getNode().getChild(e),r,s,d,a);if(Ii(e)){let m=new Gr(null);return h.getNode().forEachChild($l,(b,x)=>{m=m.set(new Hi(b),x)}),w0(n,t,e,m,r,s,d,a)}return t}{let m=new Gr(null);return i.foreach((b,x)=>{const M=or(e,b);h.isCompleteForPath(M)&&(m=m.set(b,h.getNode().getChild(M)))}),w0(n,t,e,m,r,s,d,a)}}(n,t,m.path,m.affectedTree,i,r,s)}else{if(e.type!==wu.LISTEN_COMPLETE)throw(0,J.g5)("Unknown operation type: "+e.type);a=function Zm(n,t,e,i,r){const s=t.serverCache;return GT(n,y0(t,s.getNode(),s.isFullyInitialized()||Ii(e),s.isFiltered()),e,i,g1,r)}(n,t,e.path,i,s)}const h=s.getChanges();return function cF(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=ev(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(K_(ev(t)))}}(t,a,h),{viewCache:a,changes:h}}(n.processor_,r,t,e,i);return function M8(n,t){(0,J.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,J.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,J.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,mF(n,s.changes,s.viewCache.eventCache.getNode(),null)}function mF(n,t,e,i){return function BT(n,t,e,i){const r=[],s=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function Hm(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),_0(n,r,"child_removed",t,i,e),_0(n,r,"child_added",t,i,e),_0(n,r,"child_moved",s,i,e),_0(n,r,"child_changed",t,i,e),_0(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Jf,E0;class rv{constructor(){this.views=new Map}}function y1(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,J.hu)(null!=s,"SyncTree gave us an op for an invalid query."),PI(s,t,e,i)}{let s=[];for(const a of n.views.values())s=s.concat(PI(a,t,e,i));return s}}function QT(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let d=p1(e,r?i:null),h=!1;d?h=!0:i instanceof be?(d=iv(e,i),h=!1):(d=be.EMPTY_NODE,h=!1);const m=v0(new Nc(d,h,!1),new Nc(i,r,!1));return new hF(t,m)}return a}function x0(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Km(n,t){let e=null;for(const i of n.views.values())e=e||fF(i,t);return e}function b1(n,t){return t._queryParams.loadsAllData()?C0(n):n.views.get(t._queryIdentifier)}function eM(n,t){return null!=b1(n,t)}function gd(n){return null!=C0(n)}function C0(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let FI=1;class I0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Gr(null),this.pendingWriteTree_=function aF(){return{visibleWrites:xu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LI(n,t,e,i,r){return function XO(n,t,e,i,r){(0,J.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Wm(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?ep(n,new Kf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Cu(n,t,e=!1){const i=function eF(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Ch(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,J.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const d=n.allWrites[a];d.visible&&(a>=e&&nv(d,i.path)?r=!1:Ia(i.path,d.path)&&(s=!0)),a--}return!!r&&(s?(function tF(n){n.visibleWrites=UT(n.allWrites,nF,Wi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Ym(n.visibleWrites,i.path):cs(i.children,h=>{n.visibleWrites=Ym(n.visibleWrites,or(i.path,h))}),!0))}(n.pendingWriteTree_,t)){let s=new Gr(null);return null!=i.snap?s=s.set(Wi(),!0):cs(i.children,a=>{s=s.set(new Hi(a),!0)}),ep(n,new X_(i.path,s,e))}return[]}function hl(n,t,e){return ep(n,new Kf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function w1(n,t,e,i,r=!1){const s=t._path,a=n.syncPointTree_.get(s);let d=[];if(a&&("default"===t._queryIdentifier||eM(a,t))){const h=function JT(n,t,e,i){const r=t._queryIdentifier,s=[];let a=[];const d=gd(n);if("default"===r)for(const[h,m]of n.views.entries())a=a.concat(YT(m,e,i)),WT(m)&&(n.views.delete(h),m.query._queryParams.loadsAllData()||s.push(m.query));else{const h=n.views.get(r);h&&(a=a.concat(YT(h,e,i)),WT(h)&&(n.views.delete(r),h.query._queryParams.loadsAllData()||s.push(h.query)))}return d&&!gd(n)&&s.push(new(function KT(){return(0,J.hu)(Jf,"Reference.ts has not been loaded"),Jf}())(t._repo,t._path)),{removed:s,events:a}}(a,t,e,i);(function OI(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const m=h.removed;if(d=h.events,!r){const b=-1!==m.findIndex(M=>M._queryParams.loadsAllData()),x=n.syncPointTree_.findOnPath(s,(M,D)=>gd(D));if(b&&!x){const M=n.syncPointTree_.subtree(s);if(!M.isEmpty()){const D=function R8(n){return n.fold((t,e,i)=>{if(e&&gd(e))return[C0(e)];{let r=[];return e&&(r=x0(e)),cs(i,(s,a)=>{r=r.concat(a)}),r}})}(M);for(let P=0;P<D.length;++P){const F=D[P],U=F.query,j=zI(n,F);n.listenProvider_.startListening(C1(U),Xm(n,U),j.hashFn,j.onComplete)}}}!x&&m.length>0&&!i&&(b?n.listenProvider_.stopListening(C1(t),null):m.forEach(M=>{const D=n.queryToTagMap.get(qI(M));n.listenProvider_.stopListening(C1(M),D)}))}!function E1(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=qI(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,m)}return d}function UI(n,t,e,i){const r=GI(n,i);if(null!=r){const s=$I(r),a=s.path,d=s.queryId,h=Qs(a,t);return WI(n,a,new Kf(d1(d),h,e))}return[]}function jI(n,t,e,i=!1){const r=t._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(r,(M,D)=>{const P=Qs(M,r);s=s||Km(D,P),a=a||gd(D)});let h,d=n.syncPointTree_.get(r);d?(a=a||gd(d),s=s||Km(d,Wi())):(d=new rv,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?h=!0:(h=!1,s=be.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((D,P)=>{const F=Km(P,Wi());F&&(s=s.updateImmediateChild(D,F))}));const m=eM(d,t);if(!m&&!t._queryParams.loadsAllData()){const M=qI(t);(0,J.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const D=function yF(){return FI++}();n.queryToTagMap.set(M,D),n.tagToQueryMap.set(D,M)}let x=function XT(n,t,e,i,r,s){const a=QT(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function pF(n,t){n.eventRegistrations_.push(t)}(a,e),function k8(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(vr,(s,a)=>{i.push(Ya(s,a))}),e.isFullyInitialized()&&i.push(K_(e.getNode())),mF(n,i,e.getNode(),t)}(a,e)}(d,t,e,f1(n.pendingWriteTree_,r),s,h);if(!m&&!a&&!i){const M=b1(d,t);x=x.concat(function YI(n,t,e){const i=t._path,r=Xm(n,t),s=zI(n,e),a=n.listenProvider_.startListening(C1(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,J.hu)(!gd(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((m,b,x)=>{if(!Ii(m)&&b&&gd(b))return[C0(b).query];{let M=[];return b&&(M=M.concat(x0(b).map(D=>D.query))),cs(x,(D,P)=>{M=M.concat(P)}),M}});for(let m=0;m<h.length;++m){const b=h[m];n.listenProvider_.stopListening(C1(b),Xm(n,b))}}return a}(n,t,M))}return x}function x1(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(a,d)=>{const m=Km(d,Qs(a,t));if(m)return m});return jT(r,t,s,e,!0)}function ep(n,t){return HI(t,n.syncPointTree_,null,f1(n.pendingWriteTree_,Wi()))}function HI(n,t,e,i){if(Ii(n.path))return tM(n,t,e,i);{const r=t.get(Wi());null==e&&null!=r&&(e=Km(r,Wi()));let s=[];const a=hi(n.path),d=n.operationForChild(a),h=t.children.get(a);if(h&&d){const m=e?e.getImmediateChild(a):null,b=TI(i,a);s=s.concat(HI(d,h,m,b))}return r&&(s=s.concat(y1(r,n,i,e))),s}}function tM(n,t,e,i){const r=t.get(Wi());null==e&&null!=r&&(e=Km(r,Wi()));let s=[];return t.children.inorderTraversal((a,d)=>{const h=e?e.getImmediateChild(a):null,m=TI(i,a),b=n.operationForChild(a);b&&(s=s.concat(tM(b,d,h,m)))}),r&&(s=s.concat(y1(r,n,i,e))),s}function zI(n,t){const e=t.query,i=Xm(n,e);return{hashFn:()=>(function NI(n){return n.viewCache_.serverCache.getNode()}(t)||be.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function _F(n,t,e){const i=GI(n,e);if(i){const r=$I(i),s=r.path,a=r.queryId,d=Qs(s,t);return WI(n,s,new Zf(d1(a),d))}return[]}(n,e._path,i):function VI(n,t){return ep(n,new Zf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function gu(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return w1(n,e,null,s)}}}}function Xm(n,t){const e=qI(t);return n.queryToTagMap.get(e)}function qI(n){return n._path.toString()+"$"+n._queryIdentifier}function GI(n,t){return n.tagToQueryMap.get(t)}function $I(n){const t=n.indexOf("$");return(0,J.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Hi(n.substr(0,t))}}function WI(n,t,e){const i=n.syncPointTree_.get(t);return(0,J.hu)(i,"Missing sync point for query tag that we're tracking"),y1(i,e,f1(n.pendingWriteTree_,t),null)}function C1(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function gF(){return(0,J.hu)(E0,"Reference.ts has not been loaded"),E0}())(n._repo,n._path):n}class D0{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new D0(e)}node(){return this.node_}}class tp{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=or(this.path_,t);return new tp(this.syncTree_,e)}node(){return x1(this.syncTree_,this.path_)}}const ZI=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},I1=function(n,t,e){return n&&"object"==typeof n?((0,J.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?S0(n[".sv"],t,e):"object"==typeof n[".sv"]?D1(n[".sv"],t):void(0,J.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},S0=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,J.hu)(!1,"Unexpected server value: "+n)},D1=function(n,t,e){n.hasOwnProperty("increment")||(0,J.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,J.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,J.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},Jm=function(n,t,e,i){return T0(t,new tp(e,n),i)},A0=function(n,t,e){return T0(n,new D0(t),e)};function T0(n,t,e){const i=n.getPriority().val(),r=I1(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const a=n,d=I1(a.getValue(),t,e);return d!==a.getValue()||r!==a.getPriority().val()?new pd(d,$t(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new pd(r))),a.forEachChild(vr,(d,h)=>{const m=T0(h,t.getImmediateChild(d),e);m!==h&&(s=s.updateImmediateChild(d,m))}),s}}class av{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function KI(n,t){let e=t instanceof Hi?t:new Hi(t),i=n,r=hi(e);for(;null!==r;){const s=(0,J.DV)(i.node.children,r)||{children:{},childCount:0};i=new av(r,i,s),e=sr(e),r=hi(e)}return i}function Eh(n){return n.node.value}function eg(n,t){n.node.value=t,XI(n)}function nM(n){return n.node.childCount>0}function S1(n,t){cs(n.node.children,(e,i)=>{t(new av(e,n,i))})}function rM(n,t,e,i){e&&!i&&t(n),S1(n,r=>{rM(r,t,!0,i)}),e&&i&&t(n)}function lv(n){return new Hi(null===n.parent?n.name:lv(n.parent)+"/"+n.name)}function XI(n){null!==n.parent&&function bF(n,t,e){const i=function iM(n){return void 0===Eh(n)&&!nM(n)}(e),r=(0,J.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,XI(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,XI(n))}(n.parent,n.name,n)}const N8=/[\[\].#$\/\u0000-\u001F\u007F]/,wF=/[\[\].#$\u0000-\u001F\u007F]/,cv=10485760,uv=function(n){return"string"==typeof n&&0!==n.length&&!N8.test(n)},sM=function(n){return"string"==typeof n&&0!==n.length&&!wF.test(n)},tg=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!pu(n)||n&&"object"==typeof n&&(0,J.r3)(n,".sv")},Wl=function(n,t,e,i){i&&void 0===t||M0((0,J.gK)(n,"value"),t,e)},M0=function(n,t,e){const i=e instanceof Hi?new NT(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+gh(i));if("function"==typeof t)throw new Error(n+"contains a function "+gh(i)+" with contents = "+t.toString());if(pu(t))throw new Error(n+"contains "+t.toString()+" "+gh(i));if("string"==typeof t&&t.length>cv/3&&(0,J.ug)(t)>cv)throw new Error(n+"contains a string greater than "+cv+" utf8 bytes "+gh(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(cs(t,(a,d)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!uv(a)))throw new Error(n+" contains an invalid key ("+a+") "+gh(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function vI(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,J.ug)(t),l0(n)})(i,a),M0(n,d,i),function n1(n){const t=n.parts_.pop();n.byteLength_-=(0,J.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+gh(i)+" in addition to actual children.")}},lM=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,J.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];cs(t,(a,d)=>{const h=new Hi(a);if(M0(r,d,or(e,h)),".priority"===$_(h)&&!tg(d))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(h)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=qf(i);for(let a=0;a<s.length;a++)if((".priority"!==s[a]||a!==s.length-1)&&!uv(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(RT);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ia(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},A1=function(n,t,e){if(!e||void 0!==t){if(pu(t))throw new Error((0,J.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!tg(t))throw new Error((0,J.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},T1=function(n,t,e,i){if(!(i&&void 0===e||uv(e)))throw new Error((0,J.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},k0=function(n,t,e,i){if(!(i&&void 0===e||sM(e)))throw new Error((0,J.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},R0=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),k0(n,t,e,i)},Fc=function(n,t){if(".info"===hi(t))throw new Error(n+" failed = Can't modify data under /.info/")},ng=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!uv(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sM(n)}(e))throw new Error((0,J.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class N0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function M1(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!t1(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function JI(n,t,e){M1(n,e),cM(n,i=>t1(i,t))}function Yl(n,t,e){M1(n,e),cM(n,i=>Ia(i,t)||Ia(t,i))}function cM(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(xF(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function xF(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Gl&&Dr("event: "+e.toString()),wa(i)}}}const eD="repo_interrupt",uM=25;class tD{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new N0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=g0(),this.transactionQueueTree_=new av,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function k1(n){const e=n.infoData_.getNode(new Hi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function dv(n){return ZI({timestamp:k1(n)})}function dM(n,t,e,i,r){n.dataUpdateCount++;const s=new Hi(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const h=(0,J.UI)(e,m=>$t(m));a=function ov(n,t,e,i){const r=GI(n,i);if(r){const s=$I(r),a=s.path,d=s.queryId,h=Qs(a,t),m=Gr.fromObject(e);return WI(n,a,new Qf(d1(d),h,m))}return[]}(n.serverSyncTree_,s,h,r)}else{const h=$t(e);a=UI(n.serverSyncTree_,s,h,r)}else if(i){const h=(0,J.UI)(e,m=>$t(m));a=function sv(n,t,e){const i=Gr.fromObject(e);return ep(n,new Qf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,h)}else{const h=$t(e);a=hl(n.serverSyncTree_,s,h)}let d=s;a.length>0&&(d=L0(n,s)),Yl(n.eventQueue_,d,a)}function hM(n,t){nD(n,"connected",t),!1===t&&function pM(n){O0(n,"onDisconnectEvents");const t=dv(n),e=g0();OT(n.onDisconnect_,Wi(),(r,s)=>{const a=Jm(r,s,n.serverSyncTree_,t);Gm(e,r,a)});let i=[];OT(e,Wi(),(r,s)=>{i=i.concat(hl(n.serverSyncTree_,r,s));const a=B0(n,r);L0(n,a)}),n.onDisconnect_=g0(),Yl(n.eventQueue_,Wi(),i)}(n)}function nD(n,t,e){const i=new Hi("/.info/"+t),r=$t(e);n.infoData_.updateSnapshot(i,r);const s=hl(n.infoSyncTree_,i,r);Yl(n.eventQueue_,i,s)}function P0(n){return n.nextWriteId_++}function iD(n,t,e,i,r){O0(n,"set",{path:t.toString(),value:e,priority:i});const s=dv(n),a=$t(e,i),d=x1(n.serverSyncTree_,t),h=A0(a,d,s),m=P0(n),b=LI(n.serverSyncTree_,t,h,m,!0);M1(n.eventQueue_,b),n.server_.put(t.toString(),a.val(!0),(M,D)=>{const P="ok"===M;P||Ks("set at "+t+" failed: "+M);const F=Cu(n.serverSyncTree_,m,!P);Yl(n.eventQueue_,t,F),np(0,r,M,D)});const x=B0(n,t);L0(n,x),Yl(n.eventQueue_,x,[])}function mM(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&CI(n.onDisconnect_,t),np(0,e,i,r)})}function Lc(n,t,e,i){const r=$t(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,a)=>{"ok"===s&&Gm(n.onDisconnect_,t,r),np(0,i,s,a)})}function _d(n,t,e){let i;i=".info"===hi(t._path)?w1(n.infoSyncTree_,t,e):w1(n.serverSyncTree_,t,e),JI(n.eventQueue_,t._path,i)}function R1(n){n.persistentConnection_&&n.persistentConnection_.interrupt(eD)}function O0(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Dr(e,...t)}function np(n,t,e,i){t&&wa(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,t(a)}})}function Bc(n,t,e){return x1(n.serverSyncTree_,t,e)||be.EMPTY_NODE}function F0(n,t=n.transactionQueueTree_){if(t||P1(n,t),Eh(t)){const e=N1(n,t);(0,J.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function IF(n,t,e){const i=e.map(m=>m.currentWriteId),r=Bc(n,t,i);let s=r;const a=r.hash();for(let m=0;m<e.length;m++){const b=e[m];(0,J.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const x=Qs(t,b.path);s=s.updateChild(x,b.currentOutputSnapshotRaw)}const d=s.val(!0),h=t;n.server_.put(h.toString(),d,m=>{O0(n,"transaction put response",{path:h.toString(),status:m});let b=[];if("ok"===m){const x=[];for(let M=0;M<e.length;M++)e[M].status=2,b=b.concat(Cu(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&x.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();P1(n,KI(n.transactionQueueTree_,t)),F0(n,n.transactionQueueTree_),Yl(n.eventQueue_,t,b);for(let M=0;M<x.length;M++)wa(x[M])}else{if("datastale"===m)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{Ks("transaction at "+h.toString()+" failed: "+m);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=m}L0(n,t)}},a)}(n,lv(t),e)}else nM(t)&&S1(t,e=>{F0(n,e)})}function L0(n,t){const e=_M(n,t),i=lv(e);return function Fo(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const h=t[d],m=Qs(e,h.path);let x,b=!1;if((0,J.hu)(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)b=!0,x=h.abortReason,r=r.concat(Cu(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=uM)b=!0,x="maxretry",r=r.concat(Cu(n.serverSyncTree_,h.currentWriteId,!0));else{const M=Bc(n,h.path,a);h.currentInputSnapshot=M;const D=t[d].update(M.val());if(void 0!==D){M0("transaction failed: Data returned ",D,h.path);let P=$t(D);"object"==typeof D&&null!=D&&(0,J.r3)(D,".priority")||(P=P.updatePriority(M.getPriority()));const U=h.currentWriteId,j=dv(n),Z=A0(P,M,j);h.currentOutputSnapshotRaw=P,h.currentOutputSnapshotResolved=Z,h.currentWriteId=P0(n),a.splice(a.indexOf(U),1),r=r.concat(LI(n.serverSyncTree_,h.path,Z,h.currentWriteId,h.applyLocally)),r=r.concat(Cu(n.serverSyncTree_,U,!0))}else b=!0,x="nodata",r=r.concat(Cu(n.serverSyncTree_,h.currentWriteId,!0))}Yl(n.eventQueue_,e,r),r=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===x?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(x),!1,null)))}P1(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)wa(i[d]);F0(n,n.transactionQueueTree_)}(n,N1(n,e),i),i}function _M(n,t){let e,i=n.transactionQueueTree_;for(e=hi(t);null!==e&&void 0===Eh(i);)i=KI(i,e),e=hi(t=sr(t));return i}function N1(n,t){const e=[];return vM(n,t,e),e.sort((i,r)=>i.order-r.order),e}function vM(n,t,e){const i=Eh(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);S1(t,r=>{vM(n,r,e)})}function P1(n,t){const e=Eh(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,eg(t,e.length>0?e:void 0)}S1(t,i=>{P1(n,i)})}function B0(n,t){const e=lv(_M(n,t)),i=KI(n.transactionQueueTree_,t);return function QI(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{O1(n,r)}),O1(n,i),rM(i,r=>{O1(n,r)}),e}function O1(n,t){const e=Eh(t);if(e){const i=[];let r=[],s=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,J.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,e[a].status=3,e[a].abortReason="set"):((0,J.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(Cu(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?eg(t,void 0):e.length=s+1,Yl(n.eventQueue_,lv(t),r);for(let a=0;a<i.length;a++)wa(i[a])}}const F1=function(n,t){const e=bM(n),i=e.namespace;return"firebase.com"===e.domain&&ea(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ea("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ks("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Zt(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Hi(e.pathString)}},bM=function(n){let t="",e="",i="",r="",s="",a=!0,d="https",h=443;if("string"==typeof n){let m=n.indexOf("//");m>=0&&(d=n.substring(0,m-1),n=n.substring(m+2));let b=n.indexOf("/");-1===b&&(b=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),t=n.substring(0,Math.min(b,x)),b<x&&(r=function yM(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,x)));const M=function DF(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ks(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,x)));m=t.indexOf(":"),m>=0?(a="https"===d||"wss"===d,h=parseInt(t.substring(m+1),10)):m=t.length;const D=t.slice(0,m);if("localhost"===D.toLowerCase())e="localhost";else if(D.split(".").length<=2)e=D;else{const P=t.indexOf(".");i=t.substring(0,P).toLowerCase(),e=t.substring(P+1),s=i}"ns"in M&&(s=M.ns)}return{host:t,port:h,domain:e,subdomain:i,secure:a,scheme:d,pathString:r,namespace:s}},wM="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",SF=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=wM.charAt(e%64),e=Math.floor(e/64);(0,J.hu)(0===e,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=wM.charAt(t[r]);return(0,J.hu)(20===a.length,"nextPushId: Length should be 20."),a}}();class xM{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,J.Wl)(this.snapshot.exportVal())}}class oD{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ip{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,J.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class vd{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new J.BH;return mM(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Fc("OnDisconnect.remove",this._path);const t=new J.BH;return Lc(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Fc("OnDisconnect.set",this._path),Wl("OnDisconnect.set",t,this._path,!1);const e=new J.BH;return Lc(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Fc("OnDisconnect.setWithPriority",this._path),Wl("OnDisconnect.setWithPriority",t,this._path,!1),A1("OnDisconnect.setWithPriority",e,!1);const i=new J.BH;return function gM(n,t,e,i,r){const s=$t(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(a,d)=>{"ok"===a&&Gm(n.onDisconnect_,t,s),np(0,r,a,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Fc("OnDisconnect.update",this._path),lM("OnDisconnect.update",t,this._path,!1);const e=new J.BH;return function F8(n,t,e,i){if((0,J.xb)(e))return Dr("onDisconnect().update() called with empty data.  Don't do anything."),void np(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&cs(e,(a,d)=>{const h=$t(d);Gm(n.onDisconnect_,or(t,a),h)}),np(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class uo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Ii(this._path)?null:$_(this._path)}get ref(){return new Zl(this._repo,this._path)}get _queryIdentifier(){const t=c1(this._queryParams),e=mu(t);return"{}"===e?"default":e}get _queryObject(){return c1(this._queryParams)}isEqual(t){if(!((t=(0,J.m9)(t))instanceof uo))return!1;const e=this._repo===t._repo,i=t1(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function kT(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function L1(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function rp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===$l){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==na)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Oo)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===vr){if(null!=t&&!tg(t)||null!=e&&!tg(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,J.hu)(n.getIndex()instanceof Sr||n.getIndex()===vh,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function V0(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zl extends uo{constructor(t,e){super(t,e,new zm,!1)}get parent(){const t=_I(this._path);return null===t?null:new Zl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ih{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Hi(t),i=sp(this.ref,t);return new Ih(this._node.getChild(e),i,vr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Ih(r,sp(this.ref,i),vr)))}hasChild(t){const e=new Hi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hv(n,t){return(n=(0,J.m9)(n))._checkNotDeleted("ref"),void 0!==t?sp(n._root,t):n._root}function U0(n,t){(n=(0,J.m9)(n))._checkNotDeleted("refFromURL");const e=F1(t,n._repo.repoInfo_.nodeAdmin);ng("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ea("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),hv(n,e.path.toString())}function sp(n,t){return null===hi((n=(0,J.m9)(n))._path)?R0("child","path",t,!1):k0("child","path",t,!1),new Zl(n._repo,or(n._path,t))}function aD(n,t){n=(0,J.m9)(n),Fc("set",n._path),Wl("set",t,n._path,!1);const e=new J.BH;return iD(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function L8(n,t){lM("update",t,n._path,!1);const e=new J.BH;return function O8(n,t,e,i){O0(n,"update",{path:t.toString(),value:e});let r=!0;const s=dv(n),a={};if(cs(e,(d,h)=>{r=!1,a[d]=Jm(or(t,d),$t(h),n.serverSyncTree_,s)}),r)Dr("update() called with empty data.  Don't do anything."),np(0,i,"ok",void 0);else{const d=P0(n),h=function BI(n,t,e,i){!function JO(n,t,e,i){(0,J.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=SI(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Gr.fromObject(e);return ep(n,new Qf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,d);M1(n.eventQueue_,h),n.server_.merge(t.toString(),e,(m,b)=>{const x="ok"===m;x||Ks("update at "+t+" failed: "+m);const M=Cu(n.serverSyncTree_,d,!x),D=M.length>0?L0(n,t):t;Yl(n.eventQueue_,D,M),np(0,i,m,b)}),cs(e,m=>{const b=B0(n,or(t,m));L0(n,b)}),Yl(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function RF(n){n=(0,J.m9)(n);const t=new ip(()=>{}),e=new B1(t);return function CF(n,t,e){const i=function vF(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(m,b)=>{const x=Qs(m,e);i=i||Km(b,x)});let r=n.syncPointTree_.get(e);r?i=i||Km(r,Wi()):(r=new rv,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,a=s?new Nc(i,!0,!1):null;return function $T(n){return ev(n.viewCache_)}(QT(r,t,f1(n.pendingWriteTree_,t._path),s?a.getNode():be.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=$t(r).withIndex(t._queryParams.getIndex());let a;if(jI(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=hl(n.serverSyncTree_,t._path,s);else{const d=Xm(n.serverSyncTree_,t);a=UI(n.serverSyncTree_,t._path,s,d)}return Yl(n.eventQueue_,t._path,a),w1(n.serverSyncTree_,t,e,null,!0),s},r=>(O0(n,"get for query "+(0,J.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Ih(i,new Zl(n._repo,n._path),n._queryParams.getIndex()))}class B1{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new xM("value",this,new Ih(t.snapshotNode,new Zl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new oD(this,t,e):null}matches(t){return t instanceof B1&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class lD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new oD(this,t,e):null}createEvent(t,e){(0,J.hu)(null!=t.childName,"Child events should have a childName.");const i=sp(new Zl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new xM(t.type,this,new Ih(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof lD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function fv(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const h=e,m=(b,x)=>{_d(n._repo,n,d),h(b,x)};m.userCallback=e.userCallback,m.context=e.context,e=m}const a=new ip(e,s||void 0),d="value"===t?new B1(a):new lD(t,a);return function rD(n,t,e){let i;i=".info"===hi(t._path)?jI(n.infoSyncTree_,t,e):jI(n.serverSyncTree_,t,e),JI(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>_d(n._repo,n,d)}function V1(n,t,e,i){return fv(n,"value",t,e,i)}function NF(n,t,e,i){return fv(n,"child_added",t,e,i)}function j0(n,t,e,i){return fv(n,"child_changed",t,e,i)}function cD(n,t,e,i){return fv(n,"child_moved",t,e,i)}function uD(n,t,e,i){return fv(n,"child_removed",t,e,i)}function EM(n,t,e){let i=null;const r=e?new ip(e):null;"value"===t?i=new B1(r):t&&(i=new lD(t,r)),_d(n._repo,n,i)}class Vc{}class dD extends Vc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wl("endAt",this._value,t._path,!0);const e=p0(t._queryParams,this._value,this._key);if(V0(e),rp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new uo(t._repo,t._path,e,t._orderByCalled)}}class IM extends Vc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wl("endBefore",this._value,t._path,!1);const e=function xI(n,t,e){let i;return i=p0(n,t,n.index_===$l||e?e:na),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(V0(e),rp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new uo(t._repo,t._path,e,t._orderByCalled)}}class ig extends Vc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wl("startAt",this._value,t._path,!0);const e=o1(t._queryParams,this._value,this._key);if(V0(e),rp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new uo(t._repo,t._path,e,t._orderByCalled)}}class PF extends Vc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wl("startAfter",this._value,t._path,!1);const e=function a1(n,t,e){let i;return i=o1(n,t,n.index_===$l||e?e:Oo),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(V0(e),rp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new uo(t._repo,t._path,e,t._orderByCalled)}}class pv extends Vc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new uo(t._repo,t._path,function f0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class H0 extends Vc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new uo(t._repo,t._path,function wI(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class fD extends Vc{constructor(t){super(),this._path=t}_apply(t){L1(t,"orderByChild");const e=new Hi(this._path);if(Ii(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Sr(e),r=l1(t._queryParams,i);return rp(r),new uo(t._repo,t._path,r,!0)}}class mD extends Vc{_apply(t){L1(t,"orderByKey");const e=l1(t._queryParams,$l);return rp(e),new uo(t._repo,t._path,e,!0)}}class gD extends Vc{_apply(t){L1(t,"orderByPriority");const e=l1(t._queryParams,vr);return rp(e),new uo(t._repo,t._path,e,!0)}}class FF extends Vc{_apply(t){L1(t,"orderByValue");const e=l1(t._queryParams,vh);return rp(e),new uo(t._repo,t._path,e,!0)}}class MM extends Vc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Wl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new dD(this._value,this._key)._apply(new ig(this._value,this._key)._apply(t))}}function Eu(n,...t){let e=(0,J.m9)(n);for(const i of t)e=i._apply(e);return e}(function ZT(n){(0,J.hu)(!Jf,"__referenceConstructor has already been defined"),Jf=n})(Zl),function Qm(n){(0,J.hu)(!E0,"__referenceConstructor has already been defined"),E0=n}(Zl);const _D={};function RM(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||ea("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,m,a=F1(s,r),d=a.repoInfo;typeof process<"u"&&process.env&&(m=process.env.FIREBASE_DATABASE_EMULATOR_HOST),m?(h=!0,s=`http://${m}?ns=${d.namespace}`,a=F1(s,r),d=a.repoInfo):h=!a.repoInfo.secure;const b=r&&h?new ld(ld.OWNER):new F_(n.name,n.options,t);ng("Invalid Firebase Database URL",a),Ii(a.path)||ea("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function Kl(n,t,e,i){let r=_D[t.name];r||(r={},_D[t.name]=r);let s=r[n.toURLString()];return s&&ea("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new tD(n,false,e,i),r[n.toURLString()]=s,s}(d,n,b,new O_(n.name,e));return new HF(x,n)}class HF{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function P8(n,t,e){if(n.stats_=Tc(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new m0(n.repoInfo_,(i,r,s,a)=>{dM(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>hM(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,J.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new kc(n.repoInfo_,t,(i,r,s,a)=>{dM(n,i,r,s,a)},i=>{hM(n,i)},i=>{!function fM(n,t){cs(t,(e,i)=>{nD(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Fm(n,t){const e=n.toString();return rr[e]||(rr[e]=t()),rr[e]}(n.repoInfo_,()=>new II(n.stats_,n.server_)),n.infoData_=new qm,n.infoSyncTree_=new I0({startListening:(i,r,s,a)=>{let d=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(d=hl(n.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),d},stopListening:()=>{}}),nD(n,"connected",!1),n.serverSyncTree_=new I0({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(d,h)=>{const m=a(d,h);Yl(n.eventQueue_,i._path,m)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zl(this._repo,Wi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function UF(n,t){const e=_D[t];(!e||e[n.key]!==n)&&ea(`Database ${t}(${n.repoInfo_}) has already been deleted.`),R1(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ea("Cannot call "+t+" on a deleted database.")}}function zF(){j_.IS_TRANSPORT_INITIALIZED&&Ks("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function yD(){zF(),ud.forceDisallow()}function NM(){zF(),dd.forceDisallow(),ud.forceAllow()}function GF(n,t){Pf(n,t)}const bD={".sv":"timestamp"};class ZF{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}kc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},kc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function $F(n){Rf(Zs.SDK_VERSION),(0,Zs._registerComponent)(new No.wA("database",(t,{instanceIdentifier:e})=>RM(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Zs.registerVersion)(kf,"0.14.4",n),(0,Zs.registerVersion)(kf,"0.14.4","esm2017")}();const FM=new Po.Yd("@firebase/database-compat"),LM=function(n){FM.warn("FIREBASE WARNING: "+n)};class j1{constructor(t){this._delegate=t}cancel(t){(0,J.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,J.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,J.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,J.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,J.Dv)("OnDisconnect.set",1,2,arguments.length),(0,J.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,J.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,J.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,J.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,LM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,J.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class xD{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,J.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class rg{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,J.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,J.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,J.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,J.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,J.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),k0("DataSnapshot.child","path",t,!1),new rg(this._database,this._delegate.child(t))}hasChild(t){return(0,J.Dv)("DataSnapshot.hasChild",1,1,arguments.length),k0("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,J.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,J.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,J.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new rg(this._database,e)))}hasChildren(){return(0,J.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,J.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,J.Dv)("DataSnapshot.ref",0,0,arguments.length),new fl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Lo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,J.Dv)("Query.on",2,4,arguments.length),(0,J.Wj)("Query.on","callback",e,!1);const a=Lo.getCancelAndContextArgs_("Query.on",i,r),d=(m,b)=>{e.call(a.context,new rg(this.database,m),b)};d.userCallback=e,d.context=a.context;const h=null===(s=a.cancel)||void 0===s?void 0:s.bind(a.context);switch(t){case"value":return V1(this._delegate,d,h),e;case"child_added":return NF(this._delegate,d,h),e;case"child_removed":return uD(this._delegate,d,h),e;case"child_changed":return j0(this._delegate,d,h),e;case"child_moved":return cD(this._delegate,d,h),e;default:throw new Error((0,J.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,J.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,J.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,J.Wj)("Query.off","callback",e,!0),(0,J.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,EM(this._delegate,t,r)}else EM(this._delegate,t)}get(){return RF(this._delegate).then(t=>new rg(this.database,t))}once(t,e,i,r){(0,J.Dv)("Query.once",1,4,arguments.length),(0,J.Wj)("Query.once","callback",e,!0);const s=Lo.getCancelAndContextArgs_("Query.once",i,r),a=new J.BH,d=(m,b)=>{const x=new rg(this.database,m);e&&e.call(s.context,x,b),a.resolve(x)};d.userCallback=e,d.context=s.context;const h=m=>{s.cancel&&s.cancel.call(s.context,m),a.reject(m)};switch(t){case"value":V1(this._delegate,d,h,{onlyOnce:!0});break;case"child_added":NF(this._delegate,d,h,{onlyOnce:!0});break;case"child_removed":uD(this._delegate,d,h,{onlyOnce:!0});break;case"child_changed":j0(this._delegate,d,h,{onlyOnce:!0});break;case"child_moved":cD(this._delegate,d,h,{onlyOnce:!0});break;default:throw new Error((0,J.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,J.Dv)("Query.limitToFirst",1,1,arguments.length),new Lo(this.database,Eu(this._delegate,function hD(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new pv(n)}(t)))}limitToLast(t){return(0,J.Dv)("Query.limitToLast",1,1,arguments.length),new Lo(this.database,Eu(this._delegate,function AM(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new H0(n)}(t)))}orderByChild(t){return(0,J.Dv)("Query.orderByChild",1,1,arguments.length),new Lo(this.database,Eu(this._delegate,function pD(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return k0("orderByChild","path",n,!1),new fD(n)}(t)))}orderByKey(){return(0,J.Dv)("Query.orderByKey",0,0,arguments.length),new Lo(this.database,Eu(this._delegate,function TM(){return new mD}()))}orderByPriority(){return(0,J.Dv)("Query.orderByPriority",0,0,arguments.length),new Lo(this.database,Eu(this._delegate,function OF(){return new gD}()))}orderByValue(){return(0,J.Dv)("Query.orderByValue",0,0,arguments.length),new Lo(this.database,Eu(this._delegate,function LF(){return new FF}()))}startAt(t=null,e){return(0,J.Dv)("Query.startAt",0,2,arguments.length),new Lo(this.database,Eu(this._delegate,function SM(n=null,t){return T1("startAt","key",t,!0),new ig(n,t)}(t,e)))}startAfter(t=null,e){return(0,J.Dv)("Query.startAfter",0,2,arguments.length),new Lo(this.database,Eu(this._delegate,function U1(n,t){return T1("startAfter","key",t,!0),new PF(n,t)}(t,e)))}endAt(t=null,e){return(0,J.Dv)("Query.endAt",0,2,arguments.length),new Lo(this.database,Eu(this._delegate,function fi(n,t){return T1("endAt","key",t,!0),new dD(n,t)}(t,e)))}endBefore(t=null,e){return(0,J.Dv)("Query.endBefore",0,2,arguments.length),new Lo(this.database,Eu(this._delegate,function DM(n,t){return T1("endBefore","key",t,!0),new IM(n,t)}(t,e)))}equalTo(t,e){return(0,J.Dv)("Query.equalTo",1,2,arguments.length),new Lo(this.database,Eu(this._delegate,function BF(n,t){return T1("equalTo","key",t,!0),new MM(n,t)}(t,e)))}toString(){return(0,J.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,J.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,J.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Lo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,J.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,J.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,J.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new fl(this.database,new Zl(this._delegate._repo,this._delegate._path))}}class fl extends Lo{constructor(t,e){super(t,new uo(e._repo,e._path,new zm,!1)),this.database=t,this._delegate=e}getKey(){return(0,J.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,J.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new fl(this.database,sp(this._delegate,t))}getParent(){(0,J.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new fl(this.database,t):null}getRoot(){return(0,J.Dv)("Reference.root",0,0,arguments.length),new fl(this.database,this._delegate.root)}set(t,e){(0,J.Dv)("Reference.set",1,2,arguments.length),(0,J.Wj)("Reference.set","onComplete",e,!0);const i=aD(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,J.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,LM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fc("Reference.update",this._delegate._path),(0,J.Wj)("Reference.update","onComplete",e,!0);const i=L8(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,J.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,J.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function CM(n,t,e){if(Fc("setWithPriority",n._path),Wl("setWithPriority",t,n._path,!1),A1("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new J.BH;return iD(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,J.Dv)("Reference.remove",0,1,arguments.length),(0,J.Wj)("Reference.remove","onComplete",t,!0);const e=function MF(n){return Fc("remove",n._path),aD(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,J.Dv)("Reference.transaction",1,3,arguments.length),(0,J.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,J.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,J.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function KF(n,t,e){var i;if(n=(0,J.m9)(n),Fc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new J.BH,d=V1(n,()=>{});return function sD(n,t,e,i,r,s){O0(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:Nm(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=Bc(n,t,void 0);a.currentInputSnapshot=d;const h=a.update(d.val());if(void 0===h)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{M0("transaction failed: Data returned ",h,a.path),a.status=0;const m=KI(n.transactionQueueTree_,t),b=Eh(m)||[];let x;b.push(a),eg(m,b),"object"==typeof h&&null!==h&&(0,J.r3)(h,".priority")?(x=(0,J.DV)(h,".priority"),(0,J.hu)(tg(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(x1(n.serverSyncTree_,t)||be.EMPTY_NODE).getPriority().val();const M=dv(n),D=$t(h,x),P=A0(D,d,M);a.currentOutputSnapshotRaw=D,a.currentOutputSnapshotResolved=P,a.currentWriteId=P0(n);const F=LI(n.serverSyncTree_,t,P,a.currentWriteId,a.applyLocally);Yl(n.eventQueue_,t,F),F0(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(h,m,b)=>{let x=null;h?s.reject(h):(x=new Ih(b,new Zl(n._repo,n._path),vr),s.resolve(new ZF(m,x)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new xD(s.committed,new rg(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,J.Dv)("Reference.setPriority",1,2,arguments.length),(0,J.Wj)("Reference.setPriority","onComplete",e,!0);const i=function kF(n,t){n=(0,J.m9)(n),Fc("setPriority",n._path),A1("setPriority",t,!1);const e=new J.BH;return iD(n._repo,or(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,J.Dv)("Reference.push",0,2,arguments.length),(0,J.Wj)("Reference.push","onComplete",e,!0);const i=function TF(n,t){n=(0,J.m9)(n),Fc("push",n._path),Wl("push",t,n._path,!0);const e=k1(n._repo),i=SF(e),r=sp(n,i),s=sp(n,i);let a;return a=null!=t?aD(s,t).then(()=>s):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new fl(this.database,a));e&&r.then(()=>e(null),a=>e(a));const s=new fl(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Fc("Reference.onDisconnect",this._delegate._path),new j1(new vd(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mv{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:yD,forceLongPolling:NM}}useEmulator(t,e,i={}){!function PM(n,t,e,i={}){(n=(0,J.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ea("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ea('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ld(ld.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,J.Sg)(i.mockUserToken,n.app.options.projectId);s=new ld(a)}!function kM(n,t,e,i){n.repoInfo_=new Zt(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,J.Dv)("database.ref",0,1,arguments.length),t instanceof fl){const e=U0(this._delegate,t.toString());return new fl(this,e)}{const e=hv(this._delegate,t);return new fl(this,e)}}refFromURL(t){(0,J.Dv)("database.refFromURL",1,1,arguments.length);const i=U0(this._delegate,t);return new fl(this,i)}goOffline(){return(0,J.Dv)("database.goOffline",0,0,arguments.length),function qF(n){(n=(0,J.m9)(n))._checkNotDeleted("goOffline"),R1(n._repo)}(this._delegate)}goOnline(){return(0,J.Dv)("database.goOnline",0,0,arguments.length),function OM(n){(n=(0,J.m9)(n))._checkNotDeleted("goOnline"),function EF(n){n.persistentConnection_&&n.persistentConnection_.resume(eD)}(n._repo)}(this._delegate)}}mv.ServerValue={TIMESTAMP:function WF(){return bD}(),increment:n=>function YF(n){return{".sv":{increment:n}}}(n)};var CD=Object.freeze({__proto__:null,initStandalone:function UM({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Rf(e);const a=new No.zt("auth-internal",new No.H0("database-standalone"));return a.setComponent(new No.wA("auth-internal",()=>i,"PRIVATE")),{instance:new mv(RM(n,a,void 0,t,s),n),namespace:r}}});const Sh=mv.ServerValue;!function XF(n){n.INTERNAL.registerComponent(new No.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new mv(r,i)},"PUBLIC").setServiceProps({Reference:fl,Query:Lo,Database:mv,DataSnapshot:rg,enableLogging:GF,INTERNAL:CD,ServerValue:Sh}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(fu.Z);var zn=Q(8645),yr=Q(2459),H1=Q(3093),jM=Q(4552);class JF extends zn.x{constructor(t=1/0,e=1/0,i=jM.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let d=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)d=h;d&&i.splice(0,d+1)}}}function gv(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,Dc.B)({connector:()=>new JF(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const q0=(0,Q(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ar(n,t){return(0,ts.e)((e,i)=>{let r=0;e.subscribe((0,Ti.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var op=Q(6232);function Bo(n){return n<=0?()=>op.E:(0,ts.e)((t,e)=>{let i=0;t.subscribe((0,Ti.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function G0(n){return(0,ts.e)((t,e)=>{let i=!1;t.subscribe((0,Ti.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ED(n=eL){return(0,ts.e)((t,e)=>{let i=!1;t.subscribe((0,Ti.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function eL(){return new q0}function Ah(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ar((r,s)=>n(r,s,i)):hu.y,Bo(1),e?G0(t):ED(()=>new q0))}var Ql=Q(4674);function ID(n,t){return(0,Ql.m)(t)?(0,ir.w)(()=>n,t):(0,ir.w)(()=>n)}var sg=Q(5137);Q(3182);const SD=new Map,GM={activated:!1,tokenObservers:[]},sL={initialized:!1,enabled:!1};function Cs(n){return SD.get(n)||Object.assign({},GM)}function z1(){return sL}const AD="https://content-firebaseappcheck.googleapis.com/v1",aL="exchangeDebugToken",lL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ZM{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,lt.Z)(function*(){e.stop();try{e.pending=new J.BH,yield function Y8(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new J.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const aa=new J.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function W0(n){if(!Cs(n).activated)throw aa.create("use-before-activation",{appName:n.name})}function ap(n,t){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,lt.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const x=yield r.getHeartbeatsHeader();x&&(i["X-Firebase-Client"]=x)}const s={method:"POST",body:JSON.stringify(t),headers:i};let a,d;try{a=yield fetch(n,s)}catch(x){throw aa.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==a.status)throw aa.create("fetch-status-error",{httpStatus:a.status});try{d=yield a.json()}catch(x){throw aa.create("fetch-parse-error",{originalErrorMessage:x?.message})}const h=d.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw aa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const m=1e3*Number(h[1]),b=Date.now();return{token:d.token,expireTimeMillis:b+m,issuedAtTimeMillis:b}})).apply(this,arguments)}function Jl(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${AD}/projects/${e}/apps/${i}:${aL}?key=${r}`,body:{debug_token:t}}}const MD="firebase-app-check-database",_v=1,yd="firebase-app-check-store";let Th=null;function W1(){return(W1=(0,lt.Z)(function*(n,t){const i=(yield function cg(){return Th||(Th=new Promise((n,t)=>{try{const e=indexedDB.open(MD,_v);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(aa.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(yd,{keyPath:"compositeKey"})}}catch(e){t(aa.create("storage-open",{originalErrorMessage:e?.message}))}}),Th)}()).transaction(yd,"readwrite"),s=i.objectStore(yd).put({compositeKey:n,value:t});return new Promise((a,d)=>{s.onsuccess=h=>{a()},i.onerror=h=>{var m;d(aa.create("storage-set",{originalErrorMessage:null===(m=h.target.error)||void 0===m?void 0:m.message}))}})})).apply(this,arguments)}const xv=new Po.Yd("@firebase/app-check");function K1(n,t){return(0,J.hl)()?function yv(n,t){return function kD(n,t){return W1.apply(this,arguments)}(function ND(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{xv.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function QM(){return z1().enabled}function XM(){return FD.apply(this,arguments)}function FD(){return(FD=(0,lt.Z)(function*(){const n=z1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Z8={error:"UNKNOWN_ERROR"};function uL(n){return J.US.encodeString(JSON.stringify(n),!1)}function LD(n){return BD.apply(this,arguments)}function BD(){return(BD=(0,lt.Z)(function*(n,t=!1){const e=n.app;W0(e);const i=Cs(e);let s,r=i.token;if(r&&!bd(r)&&(i.token=void 0,r=void 0),!r){const h=yield i.cachedTokenPromise;h&&(bd(h)?r=h:yield K1(e,void 0))}if(!t&&r&&bd(r))return{token:r.token};let d,a=!1;if(QM()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ap(Jl(e,yield XM()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const h=yield i.exchangeTokenPromise;return yield K1(e,h),i.token=h,{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield Cs(e).exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?xv.warn(h.message):xv.error(h),s=h}return r?s?d=bd(r)?{token:r.token,internalError:s}:jD(s):(d={token:r.token},i.token=r,yield K1(e,r)):d=jD(s),a&&function UD(n,t){const e=Cs(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,d),d})).apply(this,arguments)}function JM(n){return VD.apply(this,arguments)}function VD(){return(VD=(0,lt.Z)(function*(n){const t=n.app;W0(t);const{provider:e}=Cs(t);if(QM()){const i=yield XM(),{token:r}=yield ap(Jl(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function ug(n,t){const e=Cs(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Q1(n){const{app:t}=n,e=Cs(t);let i=e.tokenRefresher;i||(i=function X1(n){const{app:t}=n;return new ZM((0,lt.Z)(function*(){let i;if(i=Cs(t).token?yield LD(n,!0):yield LD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Cs(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},lL.RETRIAL_MIN_WAIT,lL.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function bd(n){return n.expireTimeMillis-Date.now()>0}function jD(n){return{token:uL(Z8),error:n}}class dL{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Cs(this.app);for(const e of t)ug(this.app,e.next);return Promise.resolve()}}const nx="app-check-internal";!function ok(){(0,Zs._registerComponent)(new No.wA("app-check",n=>function Z0(n,t){return new dL(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(nx).initialize()})),(0,Zs._registerComponent)(new No.wA(nx,n=>function hL(n){return{getToken:t=>LD(n,t),getLimitedUseToken:()=>JM(n),addTokenListener:t=>function Y0(n,t,e,i){const{app:r}=n,s=Cs(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&bd(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),Q1(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Q1(n))}(n,"INTERNAL",t),removeTokenListener:t=>ug(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zs.registerVersion)("@firebase/app-check","0.8.0")}();class X0{constructor(){return(0,Yn.vb)("app-check")}}typeof window<"u"&&window;var ix=Q(7142);const rx=new l.OlP("angularfire2.auth.use-emulator"),sx=new l.OlP("angularfire2.auth.settings"),ox=new l.OlP("angularfire2.auth.tenant-id"),J0=new l.OlP("angularfire2.auth.langugage-code"),ax=new l.OlP("angularfire2.auth.use-device-language"),lx=new l.OlP("angularfire.auth.persistence"),cx=(n,t,e,i,r,s,a,d)=>(0,_r.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),i&&(h.tenantId=i),h.languageCode=r,s&&h.useDeviceLanguage(),a)for(const[m,b]of Object.entries(a))h.settings[m]=b;return d&&h.setPersistence(d),h},[e,i,r,s,a,d]);let eb=(()=>{class n{constructor(e,i,r,s,a,d,h,m,b,x,M,D){const P=new zn.x,F=(0,_n.of)(void 0).pipe((0,H1.Q)(a.outsideAngular),(0,ir.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(Q.bind(Q,5967)))),(0,En.U)(()=>(0,_r.on)(e,s,i)),(0,En.U)(U=>cx(U,s,d,m,b,x,h,M)),gv({bufferSize:1,refCount:!1}));if(Zd(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_n.of)(null);else{F.pipe(Ah()).subscribe();const j=F.pipe((0,ir.w)(de=>de.getRedirectResult().then(ke=>ke,()=>null)),Yn.iC,gv({bufferSize:1,refCount:!1})),Z=F.pipe((0,ir.w)(de=>new qr.y(ke=>({unsubscribe:s.runOutsideAngular(()=>de.onAuthStateChanged(Ye=>ke.next(Ye),Ye=>ke.error(Ye),()=>ke.complete()))})))),ne=F.pipe((0,ir.w)(de=>new qr.y(ke=>({unsubscribe:s.runOutsideAngular(()=>de.onIdTokenChanged(Ye=>ke.next(Ye),Ye=>ke.error(Ye),()=>ke.complete()))}))));this.authState=j.pipe(ID(Z),(0,sg.R)(a.outsideAngular),(0,H1.Q)(a.insideAngular)),this.user=j.pipe(ID(ne),(0,sg.R)(a.outsideAngular),(0,H1.Q)(a.insideAngular)),this.idToken=this.user.pipe((0,ir.w)(de=>de?(0,yr.D)(de.getIdToken()):(0,_n.of)(null))),this.idTokenResult=this.user.pipe((0,ir.w)(de=>de?(0,yr.D)(de.getIdTokenResult()):(0,_n.of)(null))),this.credential=(0,Ps.T)(j,P,this.authState.pipe(Ar(de=>!de))).pipe((0,En.U)(de=>de?.user?de:null),(0,sg.R)(a.outsideAngular),(0,H1.Q)(a.insideAngular))}return(0,_r.pX)(this,F,s,{spy:{apply:(U,j,Z)=>{(U.startsWith("signIn")||U.startsWith("createUser"))&&Z.then(ne=>P.next(ne))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(_r.Dh),l.LFG(_r.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Yn.HU),l.LFG(rx,8),l.LFG(sx,8),l.LFG(ox,8),l.LFG(J0,8),l.LFG(ax,8),l.LFG(lx,8),l.LFG(X0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function QD(n){return null==n}function tb(n){return"function"==typeof n.set}function Mh(n,t){return tb(t)?t:n.ref(t)}function pk(n,t){if(function hk(n){return"string"==typeof n}(n))return t.stringCase();if(tb(n))return t.firebaseCase();if(function fk(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function nb(n,t,e="on",i=du.z){return new qr.y(r=>{let s=null;return s=n[e](t,(a,d)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,En.U)(r=>{const{snapshot:s,prevKey:a}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:a,key:d}}),(0,Dc.B)())}function lp(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function AL(n,t){const{payload:e,prevKey:i,key:r}=t,s=lp(n,r),a=function JD(n,t){if(QD(t))return 0;{const e=lp(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(h=>{const m={payload:h,type:"value",prevKey:d,key:h.key};return d=h.key,n=[...n,m],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(h=>h.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(a,0,d),n}return n;default:return n}}function ux(n){return(QD(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function TL(n,t,e){return function XD(n,t,e){return nb(n,"value","once",e).pipe((0,ir.w)(i=>{const r=[(0,_n.of)(i)];return t.forEach(s=>r.push(nb(n,s,"on",e))),(0,Ps.T)(...r).pipe(Pi(AL,[]))}),(0,$a.x)())}(n,t=ux(t),e)}function ML(n,t,e){const i=(t=ux(t)).map(r=>nb(n,r,"on",e));return(0,Ps.T)(...i)}function gk(n,t){return function(i,r){return pk(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function ho(n){return function(e){return e?pk(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function vk(n,t){return function(){return nb(n,"value","on",t)}}const yk=new l.OlP("angularfire2.realtimeDatabaseURL"),PL=new l.OlP("angularfire2.database.use-emulator");let eS=(()=>{class n{constructor(e,i,r,s,a,d,h,m,b,x,M,D,P,F,U){this.schedulers=d;const j=h,Z=(0,_r.on)(e,a,i);m&&cx(Z,a,b,M,D,P,x,F),this.database=(0,_r.cc)(`${Z.name}.database.${r}`,"AngularFireDatabase",Z.name,()=>{const ne=a.runOutsideAngular(()=>Z.database(r||void 0));return j&&ne.useEmulator(...j),ne},[j])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>Mh(this.database,e));let s=r;return i&&(s=i(r)),function _k(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:gk(i,"update"),set:gk(i,"set"),push:r=>i.push(r),remove:ho(i),snapshotChanges:r=>TL(n,r,e).pipe(Yn.iC),stateChanges:r=>ML(n,r,e).pipe(Yn.iC),auditTrail:r=>function kL(n,t,e){return function mk(n,t,e){return function RL(n,t){return nb(n,"value","on",t).pipe((0,En.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function oh(...n){const t=(0,ll.jO)(n);return(0,ts.e)((e,i)=>{const r=n.length,s=new Array(r);let a=n.map(()=>!1),d=!1;for(let h=0;h<r;h++)(0,ws.Xf)(n[h]).subscribe((0,Ti.x)(i,m=>{s[h]=m,!d&&!a[h]&&(a[h]=!0,(d=a.every(hu.y))&&(a=null))},Rm.Z));e.subscribe((0,Ti.x)(i,h=>{if(d){const m=[h,...s];i.next(t?t(...m):m)}}))})}(t),(0,En.U)(([r,s])=>{const a=r.lastKeyToLoad,d=s.map(h=>h.key);return{actions:s,lastKeyToLoad:a,loadedKeys:d}}),function nd(n){return(0,ts.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Ti.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,En.U)(r=>r.actions))}(n,ML(n,t).pipe(Pi((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Yn.iC),valueChanges:(r,s)=>TL(n,r,e).pipe((0,En.U)(d=>d.map(h=>s&&s.idField?Object.assign(Object.assign({},h.payload.val()),{[s.idField]:h.key}):h.payload.val())),Yn.iC)}}(s,this)}object(e){return function NL(n,t){return{query:n,snapshotChanges:()=>vk(n,t.schedulers.outsideAngular)().pipe(Yn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>vk(n,t.schedulers.outsideAngular)().pipe(Yn.iC,(0,En.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Mh(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(_r.Dh),l.LFG(_r.xv,8),l.LFG(yk,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Yn.HU),l.LFG(PL,8),l.LFG(eb,8),l.LFG(rx,8),l.LFG(sx,8),l.LFG(ox,8),l.LFG(J0,8),l.LFG(ax,8),l.LFG(lx,8),l.LFG(X0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bk=(()=>{class n{constructor(){ix.Z.registerVersion("angularfire",Yn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[eS]}),n})();var wd=Q(7537);function dx(...n){return function OL(){return(0,wd.J)(1)}()((0,yr.D)(n,(0,ll.yG)(n)))}function ec(...n){const t=(0,ll.yG)(n);return(0,ts.e)((e,i)=>{(t?dx(n,e,t):dx(n,e)).subscribe(i)})}function tS(){return(0,ts.e)((n,t)=>{let e,i=!1;n.subscribe((0,Ti.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var an,wk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xd={},ib=ib||{},qn=wk||self;function hx(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function rb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var tc="closure_uid_"+(1e9*Math.random()>>>0),Iu=0;function xk(n,t,e){return n.call.apply(n.bind,arguments)}function Ck(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Sa(n,t,e){return(Sa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xk:Ck).apply(null,arguments)}function fx(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Uo(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var a=Array(arguments.length-2),d=2;d<arguments.length;d++)a[d-2]=arguments[d];return t.prototype[r].apply(i,a)}}function cp(){this.s=this.s,this.o=this.o}cp.prototype.s=!1,cp.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Cd(n){Object.prototype.hasOwnProperty.call(n,tc)&&n[tc]||(n[tc]=++Iu)}(this)},cp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ev=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function iS(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function rS(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(hx(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function Aa(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Aa.prototype.h=function(){this.defaultPrevented=!0};var FL=function(){if(!qn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qn.addEventListener("test",()=>{},t),qn.removeEventListener("test",()=>{},t)}catch{}return n}();function Iv(n){return/^[\s\xa0]*$/.test(n)}function sb(){var n=qn.navigator;return n&&(n=n.userAgent)?n:""}function nc(n){return-1!=sb().indexOf(n)}function sS(n){return sS[" "](n),n}sS[" "]=function(){};var _x,n,Ik=nc("Opera"),dg=nc("Trident")||nc("MSIE"),Dk=nc("Edge"),oS=Dk||dg,px=nc("Gecko")&&!(-1!=sb().toLowerCase().indexOf("webkit")&&!nc("Edge"))&&!(nc("Trident")||nc("MSIE"))&&!nc("Edge"),mx=-1!=sb().toLowerCase().indexOf("webkit")&&!nc("Edge");function gx(){var n=qn.document;return n?n.documentMode:void 0}e:{var vx="",yx=(n=sb(),px?/rv:([^\);]+)(\)|;)/.exec(n):Dk?/Edge\/([\d\.]+)/.exec(n):dg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):mx?/WebKit\/(\S+)/.exec(n):Ik?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yx&&(vx=yx?yx[1]:""),dg){var bx=gx();if(null!=bx&&bx>parseFloat(vx)){_x=String(bx);break e}}_x=vx}var Sk=qn.document&&dg&&(gx()||parseInt(_x,10))||void 0;function Dv(n,t){if(Aa.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(px){e:{try{sS(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:LL[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Dv.$.h.call(this)}}Uo(Dv,Aa);var LL={2:"touch",3:"pen",4:"mouse"};Dv.prototype.h=function(){Dv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ob="closure_listenable_"+(1e6*Math.random()|0),BL=0;function VL(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++BL,this.fa=this.ia=!1}function xx(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function lS(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Ak(n){const t={};for(const e in n)t[e]=n[e];return t}const Tk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mk(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<Tk.length;s++)e=Tk[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Cx(n){this.src=n,this.g={},this.h=0}function cS(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=Ev(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(xx(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function uS(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}Cx.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=uS(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new VL(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var dS="closure_lm_"+(1e6*Math.random()|0),hS={};function kk(n,t,e,i,r){if(i&&i.once)return fS(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)kk(n,t[s],e,i,r);return null}return e=Sx(e),n&&n[ob]?n.O(t,e,rb(i)?!!i.capture:!!i,r):Rk(n,t,e,!1,i,r)}function Rk(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var a=rb(r)?!!r.capture:!!r,d=Ix(n);if(d||(n[dS]=d=new Cx(n)),(e=d.add(t,e,i,a,s)).proxy)return e;if(i=function Nk(){const t=Pk;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)FL||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(mS(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function fS(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)fS(n,t[s],e,i,r);return null}return e=Sx(e),n&&n[ob]?n.P(t,e,rb(i)?!!i.capture:!!i,r):Rk(n,t,e,!0,i,r)}function pS(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)pS(n,t[s],e,i,r);else i=rb(i)?!!i.capture:!!i,e=Sx(e),n&&n[ob]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=uS(s=n.g[t],e,i,r))&&(xx(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=Ix(n))&&(t=n.g[t.toString()],n=-1,t&&(n=uS(t,e,i,r)),(e=-1<n?t[n]:null)&&Ex(e))}function Ex(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[ob])cS(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(mS(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Ix(t))?(cS(e,n),0==e.h&&(e.src=null,t[dS]=null)):xx(n)}}}function mS(n){return n in hS?hS[n]:hS[n]="on"+n}function Pk(n,t){if(n.fa)n=!0;else{t=new Dv(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Ex(n),n=e.call(i,t)}return n}function Ix(n){return(n=n[dS])instanceof Cx?n:null}var Dx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sx(n){return"function"==typeof n?n:(n[Dx]||(n[Dx]=function(t){return n.handleEvent(t)}),n[Dx])}function Xs(){cp.call(this),this.i=new Cx(this),this.S=this,this.J=null}function fo(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Aa(t,n);else if(t instanceof Aa)t.target=t.target||n;else{var r=t;Mk(t=new Aa(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.g=e[s];r=Ed(a,i,!0,t)&&r}if(r=Ed(a=t.g=n,i,!0,t)&&r,r=Ed(a,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Ed(a=t.g=e[s],i,!1,t)&&r}function Ed(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==e){var d=a.listener,h=a.la||a.src;a.ia&&cS(n.i,a),r=!1!==d.call(h,i)&&r}}return r&&!i.defaultPrevented}Uo(Xs,cp),Xs.prototype[ob]=!0,Xs.prototype.removeEventListener=function(n,t,e,i){pS(this,n,t,e,i)},Xs.prototype.N=function(){if(Xs.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)xx(e[i]);delete n.g[t],n.h--}}this.J=null},Xs.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Xs.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var gS=qn.JSON.stringify;function Sv(){var n=_S;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Ax=new class jL{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new tj,n=>n.reset());class tj{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Ok(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Fk(n){qn.setTimeout(()=>{throw n},0)}let Tx,Id=!1,_S=new class ej{constructor(){this.h=this.g=null}add(t,e){const i=Ax.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},Lk=()=>{const n=qn.Promise.resolve(void 0);Tx=()=>{n.then(HL)}};var HL=()=>{for(var n;n=Sv();){try{n.h.call(n.g)}catch(e){Fk(e)}var t=Ax;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Id=!1};function kh(n,t){Xs.call(this),this.h=n||1,this.g=t||qn,this.j=Sa(this.qb,this),this.l=Date.now()}function vS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Av(n,t,e){if("function"==typeof n)e&&(n=Sa(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Sa(n.handleEvent,n)}return 2147483647<Number(t)?-1:qn.setTimeout(n,t||0)}function ab(n){n.g=Av(()=>{n.g=null,n.i&&(n.i=!1,ab(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Uo(kh,Xs),(an=kh.prototype).ga=!1,an.T=null,an.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fo(this,"tick"),this.ga&&(vS(this),this.start()))}},an.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},an.N=function(){kh.$.N.call(this),vS(this),delete this.g};class pl extends cp{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ab(this)}N(){super.N(),this.g&&(qn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mx(n){cp.call(this),this.h=n,this.g={}}Uo(Mx,cp);var yS=[];function bS(n,t,e,i){Array.isArray(e)||(e&&(yS[0]=e.toString()),e=yS);for(var r=0;r<e.length;r++){var s=kk(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Bk(n){lS(n.g,function(t,e){this.g.hasOwnProperty(e)&&Ex(t)},n),n.g={}}function lb(){this.g=!0}function hg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function qL(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return gS(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Mx.prototype.N=function(){Mx.$.N.call(this),Bk(this)},Mx.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lb.prototype.Ea=function(){this.g=!1},lb.prototype.info=function(){};var fg={},Tv=null;function kx(){return Tv=Tv||new Xs}function jk(n){Aa.call(this,fg.Ta,n)}function cb(n){const t=kx();fo(t,new jk(t))}function ub(n,t){Aa.call(this,fg.STAT_EVENT,n),this.stat=t}function Ta(n){const t=kx();fo(t,new ub(t,n))}function wS(n,t){Aa.call(this,fg.Ua,n),this.size=t}function Mv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qn.setTimeout(function(){n()},t)}fg.Ta="serverreachability",Uo(jk,Aa),fg.STAT_EVENT="statevent",Uo(ub,Aa),fg.Ua="timingevent",Uo(wS,Aa);var Rx={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pg(){}function zk(){}pg.prototype.h=null;var Ox,db={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Nx(){Aa.call(this,"d")}function Px(){Aa.call(this,"c")}function Fx(){}function Rv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Mx(this),this.P=GL,this.V=new kh(n=oS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qk}function qk(){this.i=null,this.g="",this.h=!1}Uo(Nx,Aa),Uo(Px,Aa),Uo(Fx,pg),Fx.prototype.g=function(){return new XMLHttpRequest},Fx.prototype.i=function(){return{}},Ox=new Fx;var GL=45e3,Gk={},xS={};function $k(n,t,e){n.L=1,n.v=Bx(ic(t)),n.s=e,n.S=!0,$L(n,null)}function $L(n,t){n.G=Date.now(),fb(n),n.A=ic(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Jk(e.i,"t",i),n.C=0,e=n.l.J,n.h=new qk,n.g=mR(n.l,e?t:null,!n.s),0<n.O&&(n.M=new pl(Sa(n.Pa,n,n.g),n.O)),bS(n.U,n.g,"readystatechange",n.nb),t=n.I?Ak(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),cb(),function Vk(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",d=s.split("&"),h=0;h<d.length;h++){var m=d[h].split("=");if(1<m.length){var b=m[0];m=m[1];var x=b.split("_");a=2<=x.length&&"type"==x[1]?a+(b+"=")+m+"&":a+(b+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function CS(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function hb(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=WL(n,e),r==xS){4==t&&(n.o=4,Ta(14),i=!1),hg(n.j,n.m,null,"[Incomplete Response]");break}if(r==Gk){n.o=4,Ta(15),hg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}hg(n.j,n.m,r,null),IS(n,r)}CS(n)&&r!=xS&&r!=Gk&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ta(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),dR(t),t.M=!0,Ta(11))):(hg(n.j,n.m,e,"[Invalid Chunked Response]"),mg(n),pb(n))}function WL(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?xS:(e=Number(t.substring(e,i)),isNaN(e)?Gk:(i+=1)+e>t.length?xS:(t=t.slice(i,i+e),n.C=i+e,t))}function fb(n){n.Y=Date.now()+n.P,ES(n,n.P)}function ES(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mv(Sa(n.lb,n),t)}function up(n){n.B&&(qn.clearTimeout(n.B),n.B=null)}function pb(n){0==n.l.H||n.J||FS(n.l,n)}function mg(n){up(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,vS(n.V),Bk(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function IS(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||Vx(e.i,n)))if(!n.K&&Vx(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Jx(e),Kx(e)}OS(e),Ta(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Mv(Sa(e.ib,e),6e3));if(1>=nR(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else yg(e,11)}else if((n.K||e.g==n)&&Jx(e),!Iv(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let m=r[t];if(e.V=m[0],m=m[1],2==e.H)if("c"==m[0]){e.K=m[1],e.pa=m[2];const b=m[3];null!=b&&(e.ra=b,e.l.info("VER="+e.ra));const x=m[4];null!=x&&(e.Ga=x,e.l.info("SVER="+e.Ga));const M=m[5];null!=M&&"number"==typeof M&&0<M&&(e.L=i=1.5*M,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const D=n.g;if(D){const P=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=i.i;s.g||-1==P.indexOf("spdy")&&-1==P.indexOf("quic")&&-1==P.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ux(s,s.h),s.h=null))}if(i.F){const F=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(i.Da=F,Fr(i.I,i.F,F))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=pR(i,i.J?i.pa:null,i.Y),a.K){iR(i.i,a);var d=a,h=i.L;h&&d.setTimeout(h),d.B&&(up(d),fb(d)),i.g=a}else uR(i);0<e.j.length&&Qx(e)}else"stop"!=m[0]&&"close"!=m[0]||yg(e,7);else 3==e.H&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?yg(e,7):Zx(e):"noop"!=m[0]&&e.h&&e.h.Aa(m),e.A=0)}cb()}catch{}}function Wk(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(hx(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function nj(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(hx(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function YL(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(hx(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(an=Rv.prototype).setTimeout=function(n){this.P=n},an.nb=function(n){n=n.target;const t=this.M;t&&3==Du(n)?t.l():this.Pa(n)},an.Pa=function(n){try{if(n==this.g)e:{const b=Du(this.g);var t=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||oS||this.g&&(this.h.h||this.g.ja()||aR(this.g)))){this.J||4!=b||7==t||cb(),up(this);var e=this.g.da();this.ca=e;t:if(CS(this)){var i=aR(this.g);n="";var r=i.length,s=4==Du(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mg(this),pb(this);var a="";break t}this.h.i=new qn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function Uk(n,t,e,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,b,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,h=this.g;if((d=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Iv(d)){var m=d;break t}}m=null}if(!(e=m)){this.i=!1,this.o=3,Ta(12),mg(this),pb(this);break e}hg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IS(this,e)}this.S?(hb(this,b,a),oS&&this.i&&3==b&&(bS(this.U,this.V,"tick",this.mb),this.V.start())):(hg(this.j,this.m,a,null),IS(this,a)),4==b&&mg(this),this.i&&!this.J&&(4==b?FS(this.l,this):(this.i=!1,fb(this)))}else(function lR(n){const t={};n=(n.g&&2<=Du(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Iv(n[i]))continue;var e=Ok(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function UL(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<a.indexOf("Unknown SID")?(this.o=3,Ta(12)):(this.o=0,Ta(13)),mg(this),pb(this)}}}catch{}},an.mb=function(){if(this.g){var n=Du(this.g),t=this.g.ja();this.C<t.length&&(up(this),hb(this,n,t),this.i&&4!=n&&fb(this))}},an.cancel=function(){this.J=!0,mg(this)},an.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function zL(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(cb(),Ta(17)),mg(this),this.o=2,pb(this)):ES(this,this.Y-n)};var DS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof gg){this.h=n.h,Lx(this,n.j),this.s=n.s,this.g=n.g,mb(this,n.m),this.l=n.l;var t=n.i,e=new _b;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),Yk(this,e),this.o=n.o}else n&&(t=String(n).match(DS))?(this.h=!1,Lx(this,t[1]||"",!0),this.s=Nv(t[2]||""),this.g=Nv(t[3]||"",!0),mb(this,t[4]),this.l=Nv(t[5]||"",!0),Yk(this,t[6]||"",!0),this.o=Nv(t[7]||"")):(this.h=!1,this.i=new _b(null,this.h))}function ic(n){return new gg(n)}function Lx(n,t,e){n.j=e?Nv(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function mb(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Yk(n,t,e){t instanceof _b?(n.i=t,function XL(n,t){t&&!n.j&&(Dd(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Xk(this,i),Jk(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=gb(t,KL)),n.i=new _b(t,n.h))}function Fr(n,t,e){n.i.set(t,e)}function Bx(n){return Fr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Nv(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gb(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,SS),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function SS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gg.prototype.toString=function(){var n=[],t=this.j;t&&n.push(gb(t,Zk,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(gb(t,Zk,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(gb(e,"/"==e.charAt(0)?Qk:Kk,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",gb(e,QL)),n.join("")};var Zk=/[#\/\?@]/g,Kk=/[#\?:]/g,Qk=/[#\?]/g,KL=/[#\?@]/g,QL=/#/g;function _b(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Dd(n){n.g||(n.g=new Map,n.h=0,n.i&&function ZL(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Xk(n,t){Dd(n),t=Pv(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function AS(n,t){return Dd(n),t=Pv(n,t),n.g.has(t)}function Jk(n,t,e){Xk(n,t),0<e.length&&(n.i=null,n.g.set(Pv(n,t),iS(e)),n.h+=e.length)}function Pv(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function eR(n){this.l=n||e3,n=qn.PerformanceNavigationTiming?0<(n=qn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qn.g&&qn.g.Ka&&qn.g.Ka()&&qn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(an=_b.prototype).add=function(n,t){Dd(this),this.i=null,n=Pv(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},an.forEach=function(n,t){Dd(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},an.ta=function(){Dd(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},an.Z=function(n){Dd(this);let t=[];if("string"==typeof n)AS(this,n)&&(t=t.concat(this.g.get(Pv(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},an.set=function(n,t){return Dd(this),this.i=null,AS(this,n=Pv(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},an.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},an.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var e3=10;function tR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nR(n){return n.h?1:n.g?n.g.size:0}function Vx(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Ux(n,t){n.g?n.g.add(t):n.h=t}function iR(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function rR(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return iS(n.i)}eR.prototype.cancel=function(){if(this.i=rR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var sR=class{stringify(n){return qn.JSON.stringify(n,void 0)}parse(n){return qn.JSON.parse(n,void 0)}};function t3(){this.g=new sR}function n3(n,t,e){const i=e||"";try{Wk(n,function(r,s){let a=r;rb(r)&&(a=gS(r)),t.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function jx(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function _g(n){this.l=n.fc||null,this.j=n.ob||!1}function Ov(n,t){Xs.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=Hx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uo(_g,pg),_g.prototype.g=function(){return new Ov(this.l,this.j)},_g.prototype.i=function(n){return function(){return n}}({}),Uo(Ov,Xs);var Hx=0;function zx(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function vb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yb(n)}function yb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(an=Ov.prototype).open=function(n,t){if(this.readyState!=Hx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,yb(this)},an.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||qn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},an.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vb(this)),this.readyState=Hx},an.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yb(this)),this.g&&(this.readyState=3,yb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof qn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zx(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},an.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?vb(this):yb(this),3==this.readyState&&zx(this)}},an.Za=function(n){this.g&&(this.response=this.responseText=n,vb(this))},an.Ya=function(n){this.g&&(this.response=n,vb(this))},an.ka=function(){this.g&&vb(this)},an.setRequestHeader=function(n,t){this.v.append(n,t)},an.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},an.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Ov.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var TS=qn.JSON.parse;function Es(n){Xs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MS,this.L=this.M=!1}Uo(Es,Xs);var MS="",vg=/^https?$/i,oR=["POST","PUT"];function o3(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,qx(n),$x(n)}function qx(n){n.F||(n.F=!0,fo(n,"complete"),fo(n,"error"))}function Gx(n){if(n.h&&typeof ib<"u"&&(!n.C[1]||4!=Du(n)||2!=n.da()))if(n.v&&4==Du(n))Av(n.La,0,n);else if(fo(n,"readystatechange"),4==Du(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===a){var r=String(n.I).match(DS)[1]||null;!r&&qn.self&&qn.self.location&&(r=qn.self.location.protocol.slice(0,-1)),i=!vg.test(r?r.toLowerCase():"")}e=i}if(e)fo(n,"complete"),fo(n,"success");else{n.m=6;try{var s=2<Du(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",qx(n)}}finally{$x(n)}}}function $x(n,t){if(n.g){kS(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||fo(n,"ready");try{e.onreadystatechange=i}catch{}}}function kS(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(qn.clearTimeout(n.A),n.A=null)}function Du(n){return n.g?n.g.readyState:0}function aR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case MS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Wx(n){let t="";return lS(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Yx(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=Wx(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Fr(n,t,e))}function Fv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function RS(n){this.Ga=0,this.j=[],this.l=new lb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fv("baseRetryDelayMs",5e3,n),this.hb=Fv("retryDelaySeedMs",1e4,n),this.eb=Fv("forwardChannelMaxRetries",2,n),this.xa=Fv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new eR(n&&n.concurrentRequestLimit),this.Ja=new t3,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Zx(n){if(cR(n),3==n.H){var t=n.W++,e=ic(n.I);if(Fr(e,"SID",n.K),Fr(e,"RID",t),Fr(e,"TYPE","terminate"),Xx(n,e),(t=new Rv(n,n.l,t)).L=2,t.v=Bx(ic(e)),e=!1,qn.navigator&&qn.navigator.sendBeacon)try{e=qn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&qn.Image&&((new Image).src=t.v,e=!0),e||(t.g=mR(t.l,null),t.g.ha(t.v)),t.G=Date.now(),fb(t)}LS(n)}function Kx(n){n.g&&(dR(n),n.g.cancel(),n.g=null)}function cR(n){Kx(n),n.u&&(qn.clearTimeout(n.u),n.u=null),Jx(n),n.i.cancel(),n.m&&("number"==typeof n.m&&qn.clearTimeout(n.m),n.m=null)}function Qx(n){if(!tR(n.i)&&!n.m){n.m=!0;var t=n.Na;Tx||Lk(),Id||(Tx(),Id=!0),_S.add(t,n),n.C=0}}function NS(n,t){var e;e=t?t.m:n.W++;const i=ic(n.I);Fr(i,"SID",n.K),Fr(i,"RID",e),Fr(i,"AID",n.V),Xx(n,i),n.o&&n.s&&Yx(i,n.o,n.s),e=new Rv(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=PS(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Ux(n.i,e),$k(e,i,t)}function Xx(n,t){n.na&&lS(n.na,function(e,i){Fr(t,i,e)}),n.h&&Wk({},function(e,i){Fr(t,i,e)})}function PS(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Sa(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const a=["count="+e];-1==s?0<e?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let d=!0;for(let h=0;h<e;h++){let m=r[h].g;const b=r[h].map;if(m-=s,0>m)s=Math.max(0,r[h].g-100),d=!1;else try{n3(b,a,"req"+m+"_")}catch{i&&i(b)}}if(d){i=a.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function uR(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Tx||Lk(),Id||(Tx(),Id=!0),_S.add(t,n),n.A=0}}function OS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Mv(Sa(n.Ma,n),fR(n,n.A)),n.A++,0))}function dR(n){null!=n.B&&(qn.clearTimeout(n.B),n.B=null)}function hR(n){n.g=new Rv(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=ic(n.wa);Fr(t,"RID","rpc"),Fr(t,"SID",n.K),Fr(t,"AID",n.V),Fr(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Fr(t,"TO",n.qa),Fr(t,"TYPE","xmlhttp"),Xx(n,t),n.o&&n.s&&Yx(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=Bx(ic(t)),e.s=null,e.S=!0,$L(e,n)}function Jx(n){null!=n.v&&(qn.clearTimeout(n.v),n.v=null)}function FS(n,t){var e=null;if(n.g==t){Jx(n),dR(n),n.g=null;var i=2}else{if(!Vx(n.i,t))return;e=t.F,iR(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;fo(i=kx(),new wS(i,e)),Qx(n)}else uR(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function a3(n,t){return!(nR(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Mv(Sa(n.Na,n,t),fR(n,n.C)),n.C++,0)))}(n,t)||2==i&&OS(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:yg(n,5);break;case 4:yg(n,10);break;case 3:yg(n,6);break;default:yg(n,2)}}function fR(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function yg(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Sa(n.pb,n);e||(e=new gg("//www.google.com/images/cleardot.gif"),qn.location&&"http"==qn.location.protocol||Lx(e,"https"),Bx(e)),function r3(n,t){const e=new lb;if(qn.Image){const i=new Image;i.onload=fx(jx,e,i,"TestLoadImage: loaded",!0,t),i.onerror=fx(jx,e,i,"TestLoadImage: error",!1,t),i.onabort=fx(jx,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=fx(jx,e,i,"TestLoadImage: timeout",!1,t),qn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ta(2);n.H=0,n.h&&n.h.za(t),LS(n),cR(n)}function LS(n){if(n.H=0,n.ma=[],n.h){const t=rR(n.i);(0!=t.length||0!=n.j.length)&&(rS(n.ma,t),rS(n.ma,n.j),n.i.i.length=0,iS(n.j),n.j.length=0),n.h.ya()}}function pR(n,t,e){var i=e instanceof gg?ic(e):new gg(e);if(""!=i.g)t&&(i.g=t+"."+i.g),mb(i,i.m);else{var r=qn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new gg(null);i&&Lx(s,i),t&&(s.g=t),r&&mb(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&Fr(i,e,t),Fr(i,"VER",n.ra),Xx(n,i),i}function mR(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Es(e&&n.Ha&&!n.va?new _g({ob:!0}):n.va)).Oa(n.J),t}function gR(){}function eC(){if(dg&&!(10<=Number(Sk)))throw Error("Environmental error: no available transport.")}function rc(n,t){Xs.call(this),this.g=new RS(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Iv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Iv(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new bg(this)}function _R(n){Nx.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Lv(){Px.call(this),this.status=1}function bg(n){this.g=n}function Uc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function tC(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],a=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;a=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(a<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=e+((a=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=s+((a=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function ar(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(an=Es.prototype).Oa=function(n){this.M=n},an.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ox.g(),this.C=function Hk(n){return n.h||(n.h=n.i())}(this.u?this.u:Ox),this.g.onreadystatechange=Sa(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void o3(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=qn.FormData&&n instanceof qn.FormData,!(0<=Ev(oR,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of e)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kS(this),0<this.B&&((this.L=function s3(n){return dg&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sa(this.ua,this)):this.A=Av(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){o3(this,s)}},an.ua=function(){typeof ib<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fo(this,"timeout"),this.abort(8))},an.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fo(this,"complete"),fo(this,"abort"),$x(this))},an.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$x(this,!0)),Es.$.N.call(this)},an.La=function(){this.s||(this.G||this.v||this.l?Gx(this):this.kb())},an.kb=function(){Gx(this)},an.isActive=function(){return!!this.g},an.da=function(){try{return 2<Du(this)?this.g.status:-1}catch{return-1}},an.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},an.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),TS(t)}},an.Ia=function(){return this.m},an.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(an=RS.prototype).ra=8,an.H=1,an.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Rv(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Ak(s),Mk(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=PS(this,r,t),Fr(e=ic(this.I),"RID",n),Fr(e,"CVER",22),this.F&&Fr(e,"X-HTTP-Session-Id",this.F),Xx(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(Wx(s)))+"&"+t:this.o&&Yx(e,this.o,s)),Ux(this.i,r),this.bb&&Fr(e,"TYPE","init"),this.P?(Fr(e,"$req",t),Fr(e,"SID","null"),r.aa=!0,$k(r,e,null)):$k(r,e,t),this.H=2}}else 3==this.H&&(n?NS(this,n):0==this.j.length||tR(this.i)||NS(this))},an.Ma=function(){if(this.u=null,hR(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Mv(Sa(this.jb,this),n)}},an.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ta(10),Kx(this),hR(this))},an.ib=function(){null!=this.v&&(this.v=null,Kx(this),OS(this),Ta(19))},an.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ta(2)):(this.l.info("Failed to ping google.com"),Ta(1))},an.isActive=function(){return!!this.h&&this.h.isActive(this)},(an=gR.prototype).Ba=function(){},an.Aa=function(){},an.za=function(){},an.ya=function(){},an.isActive=function(){return!0},an.Va=function(){},eC.prototype.g=function(n,t){return new rc(n,t)},Uo(rc,Xs),rc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Ta(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=pR(n,null,n.Y),Qx(n)},rc.prototype.close=function(){Zx(this.g)},rc.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=gS(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&Qx(t)},rc.prototype.N=function(){this.g.h=null,delete this.j,Zx(this.g),delete this.g,rc.$.N.call(this)},Uo(_R,Nx),Uo(Lv,Px),Uo(bg,gR),bg.prototype.Ba=function(){fo(this.g,"a")},bg.prototype.Aa=function(n){fo(this.g,new _R(n))},bg.prototype.za=function(n){fo(this.g,new Lv)},bg.prototype.ya=function(){fo(this.g,"b")},Uo(Uc,function vR(){this.blockSize=-1}),Uc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Uc.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)tC(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){tC(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){tC(this,i),r=0;break}}this.h=r,this.i+=t},Uc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var yR={};function BS(n){return-128<=n&&128>n?function Ek(n,t){var e=yR;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new ar([0|t],0>t?-1:0)}):new ar([0|n],0>n?-1:0)}function Rh(n){if(isNaN(n)||!isFinite(n))return wg;if(0>n)return la(Rh(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=nC;return new ar(t,0)}var nC=4294967296,wg=BS(0),iC=BS(1),bR=BS(16777216);function Nh(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ma(n){return-1==n.h}function la(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new ar(e,~n.h).add(iC)}function xg(n,t){return n.add(la(t))}function rC(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function sC(n,t){this.g=n,this.h=t}function oC(n,t){if(Nh(t))throw Error("division by zero");if(Nh(n))return new sC(wg,wg);if(Ma(n))return t=oC(la(n),t),new sC(la(t.g),la(t.h));if(Ma(t))return t=oC(n,la(t)),new sC(la(t.g),t.h);if(30<n.g.length){if(Ma(n)||Ma(t))throw Error("slowDivide_ only works with positive integers.");for(var e=iC,i=t;0>=i.X(n);)e=c3(e),i=c3(i);var r=Sd(e,1),s=Sd(i,1);for(i=Sd(i,2),e=Sd(e,2);!Nh(i);){var a=s.add(i);0>=a.X(n)&&(r=r.add(e),s=a),i=Sd(i,1),e=Sd(e,1)}return t=xg(n,r.R(t)),new sC(r,t)}for(r=wg;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(s=Rh(e)).R(t);Ma(a)||0<a.X(n);)a=(s=Rh(e-=i)).R(t);Nh(s)&&(s=iC),r=r.add(s),n=xg(n,a)}return new sC(r,n)}function c3(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ar(e,n.h)}function Sd(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new ar(r,n.h)}(an=ar.prototype).ea=function(){if(Ma(this))return-la(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:nC+i)*t,t*=nC}return n},an.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Nh(this))return"0";if(Ma(this))return"-"+la(this).toString(n);for(var t=Rh(Math.pow(n,6)),e=this,i="";;){var r=oC(e,t).g,s=((0<(e=xg(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Nh(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},an.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},an.X=function(n){return Ma(n=xg(this,n))?-1:Nh(n)?0:1},an.abs=function(){return Ma(this)?la(this):this},an.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),a=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(s&=65535)}return new ar(e,-2147483648&e[e.length-1]?-1:0)},an.R=function(n){if(Nh(this)||Nh(n))return wg;if(Ma(this))return Ma(n)?la(this).R(la(n)):la(la(this).R(n));if(Ma(n))return la(this.R(la(n)));if(0>this.X(bR)&&0>n.X(bR))return Rh(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,a=65535&this.D(i),d=n.D(r)>>>16,h=65535&n.D(r);e[2*i+2*r]+=a*h,rC(e,2*i+2*r),e[2*i+2*r+1]+=s*h,rC(e,2*i+2*r+1),e[2*i+2*r+1]+=a*d,rC(e,2*i+2*r+1),e[2*i+2*r+2]+=s*d,rC(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new ar(e,0)},an.gb=function(n){return oC(this,n).h},an.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new ar(e,this.h&n.h)},an.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new ar(e,this.h|n.h)},an.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new ar(e,this.h^n.h)},eC.prototype.createWebChannel=eC.prototype.g,rc.prototype.send=rc.prototype.u,rc.prototype.open=rc.prototype.m,rc.prototype.close=rc.prototype.close,Rx.NO_ERROR=0,Rx.TIMEOUT=8,Rx.HTTP_ERROR=6,kv.COMPLETE="complete",zk.EventType=db,db.OPEN="a",db.CLOSE="b",db.ERROR="c",db.MESSAGE="d",Xs.prototype.listen=Xs.prototype.O,Es.prototype.listenOnce=Es.prototype.P,Es.prototype.getLastError=Es.prototype.Sa,Es.prototype.getLastErrorCode=Es.prototype.Ia,Es.prototype.getStatus=Es.prototype.da,Es.prototype.getResponseJson=Es.prototype.Wa,Es.prototype.getResponseText=Es.prototype.ja,Es.prototype.send=Es.prototype.ha,Es.prototype.setWithCredentials=Es.prototype.Oa,Uc.prototype.digest=Uc.prototype.l,Uc.prototype.reset=Uc.prototype.reset,Uc.prototype.update=Uc.prototype.j,ar.prototype.add=ar.prototype.add,ar.prototype.multiply=ar.prototype.R,ar.prototype.modulo=ar.prototype.gb,ar.prototype.compare=ar.prototype.X,ar.prototype.toNumber=ar.prototype.ea,ar.prototype.toString=ar.prototype.toString,ar.prototype.getBits=ar.prototype.D,ar.fromNumber=Rh,ar.fromString=function l3(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return la(l3(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Rh(Math.pow(t,8)),i=wg,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+s),t);8>s?(s=Rh(Math.pow(t,s)),i=i.R(s).add(Rh(a))):i=(i=i.R(e)).add(Rh(a))}return i};var u3=xd.createWebChannelTransport=function(){return new eC},d3=xd.getStatEventTarget=function(){return kx()},VS=xd.ErrorCode=Rx,aC=xd.EventType=kv,wR=xd.Event=fg,xR=xd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},CR=xd.FetchXmlHttpFactory=_g,Cg=xd.WebChannel=zk,h3=xd.XhrIo=Es,f3=xd.Md5=Uc,Eg=xd.Integer=ar;const ER="@firebase/firestore";class jo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jo.UNAUTHENTICATED=new jo(null),jo.GOOGLE_CREDENTIALS=new jo("google-credentials-uid"),jo.FIRST_PARTY=new jo("first-party-uid"),jo.MOCK_USER=new jo("mock-user");let Ig="9.23.0";const Su=new Po.Yd("@firebase/firestore");function US(){return Su.logLevel}function jt(n,...t){if(Su.logLevel<=Po.in.DEBUG){const e=t.map(lC);Su.debug(`Firestore (${Ig}): ${n}`,...e)}}function Is(n,...t){if(Su.logLevel<=Po.in.ERROR){const e=t.map(lC);Su.error(`Firestore (${Ig}): ${n}`,...e)}}function ml(n,...t){if(Su.logLevel<=Po.in.WARN){const e=t.map(lC);Su.warn(`Firestore (${Ig}): ${n}`,...e)}}function lC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function wn(n="Unexpected state"){const t=`FIRESTORE (${Ig}) INTERNAL ASSERTION FAILED: `+n;throw Is(t),new Error(t)}function Pn(n,t){n||wn()}function ln(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends J.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ls{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class jS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(jo.UNAUTHENTICATED))}shutdown(){}}class zS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class m3{constructor(t){this.t=t,this.currentUser=jo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let a=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ls,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const m=a;t.enqueueRetryable((0,lt.Z)(function*(){yield m.promise,yield s(i.currentUser)}))},h=m=>{jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(m=>h(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ls)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pn("string"==typeof i.accessToken),new jS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Pn(null===t||"string"==typeof t),new jo(t)}}class g3{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=jo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _3{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new g3(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(jo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SR{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,jt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Pn("string"==typeof e.token),this.T=e.token,new DR(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function TR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class qS{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=TR(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function oi(n,t){return n<t?-1:n>t?1:0}function Dg(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function MR(n){return n+"\0"}class $r{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new At(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new At(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new At(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return $r.fromMillis(Date.now())}static fromDate(t){return $r.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new $r(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?oi(this.nanoseconds,t.nanoseconds):oi(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ln{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ln(t)}static min(){return new Ln(new $r(0,0))}static max(){return new Ln(new $r(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bb{constructor(t,e,i){void 0===e?e=0:e>t.length&&wn(),void 0===i?i=t.length-e:i>t.length-e&&wn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===bb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof bb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),a=e.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class zi extends bb{construct(t,e,i){return new zi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new At(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new zi(e)}static emptyPath(){return new zi([])}}const kR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vi extends bb{construct(t,e,i){return new Vi(t,e,i)}static isValidIdentifier(t){return kR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new At(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new At(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new At(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else"`"===d?(a=!a,r++):"."!==d||a?(i+=d,r++):(s(),r++)}if(s(),a)throw new At(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vi(e)}static emptyPath(){return new Vi([])}}class en{constructor(t){this.path=t}static fromPath(t){return new en(zi.fromString(t))}static fromName(t){return new en(zi.fromString(t).popFirst(5))}static empty(){return new en(zi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===zi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return zi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new en(new zi(t.slice()))}}class cC{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function GS(n){return n.fields.find(t=>2===t.kind)}function Bv(n){return n.fields.filter(t=>2!==t.kind)}cC.UNKNOWN_ID=-1;class wb{constructor(t,e){this.fieldPath=t,this.kind=e}}class uC{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new uC(0,ca.min())}}function v3(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ln.fromTimestamp(1e9===i?new $r(e+1,0):new $r(e,i));return new ca(r,en.empty(),t)}function y3(n){return new ca(n.readTime,n.key,-1)}class ca{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ca(Ln.min(),en.empty(),-1)}static max(){return new ca(Ln.max(),en.empty(),-1)}}function WS(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=en.comparator(n.documentKey,t.documentKey),0!==e?e:oi(n.largestBatchId,t.largestBatchId))}const dC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ph(n){return YS.apply(this,arguments)}function YS(){return YS=(0,lt.Z)(function*(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==dC)throw n;jt("LocalStore","Unexpectedly lost primary lease")}),YS.apply(this,arguments)}class Ke{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ke((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ke?e:Ke.resolve(e)}catch(e){return Ke.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ke.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ke.reject(e)}static resolve(t){return new Ke((e,i)=>{e(t)})}static reject(t){return new Ke((e,i)=>{i(t)})}static waitFor(t){return new Ke((e,i)=>{let r=0,s=0,a=!1;t.forEach(d=>{++r,d.next(()=>{++s,a&&s===r&&e()},h=>i(h))}),a=!0,s===r&&e()})}static or(t){let e=Ke.resolve(!1);for(const i of t)e=e.next(r=>r?Ke.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Ke((i,r)=>{const s=t.length,a=new Array(s);let d=0;for(let h=0;h<s;h++){const m=h;e(t[m]).next(b=>{a[m]=b,++d,d===s&&i(a)},b=>r(b))}})}static doWhile(t,e){return new Ke((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class hC{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Ls,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new xb(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=QS(i.target.error);this.v.reject(new xb(t,r))}}static open(t,e,i,r){try{return new hC(e,t.transaction(r,i))}catch(s){throw new xb(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(jt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new ZS(e)}}class sc{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===sc.S((0,J.z$)())&&Is("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return jt("SimpleDb","Removing database:",t),Vv(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,J.hl)())return!1;if(sc.C())return!0;const t=(0,J.z$)(),e=sc.S(t),i=0<e&&e<10,r=sc.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,lt.Z)(function*(){return e.db||(jt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new xb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const d=a.target.error;r("VersionError"===d.name?new At(rt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new At(rt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new xb(t,d))},s.onupgradeneeded=a=>{jt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.O(a.target.result,s.transaction,a.oldVersion,e.version).next(()=>{jt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,lt.Z)(function*(){const a="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.$(t);const h=hC.open(s.db,t,a?"readonly":"readwrite",i),m=r(h).next(b=>(h.P(),b)).catch(b=>(h.abort(b),Ke.reject(b))).toPromise();return m.catch(()=>{}),yield h.R,m}catch(h){const m=h,b="FirebaseError"!==m.name&&d<3;if(jt("SimpleDb","Transaction failed with error:",m.message,"Retrying:",b),s.close(),!b)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NR{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Vv(this.L.delete())}}class xb extends At{constructor(t,e){super(rt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Au(n){return"IndexedDbTransactionError"===n.name}class ZS{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(jt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(jt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Vv(i)}add(t){return jt("SimpleDb","ADD",this.store.name,t,t),Vv(this.store.add(t))}get(t){return Vv(this.store.get(t)).next(e=>(void 0===e&&(e=null),jt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return jt("SimpleDb","DELETE",this.store.name,t),Vv(this.store.delete(t))}count(){return jt("SimpleDb","COUNT",this.store.name),Vv(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(a,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ke((s,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ke((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){jt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,a,d)=>d.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new Ke((i,r)=>{e.onerror=s=>{const a=QS(s.target.error);r(a)},e.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(d=>{d?a.continue():i()}):i()}})}W(t,e){const i=[];return new Ke((r,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const d=a.target.result;if(!d)return void r();const h=new NR(d),m=e(d.primaryKey,d.value,h);if(m instanceof Ke){const b=m.catch(x=>(h.done(),Ke.reject(x)));i.push(b)}h.isDone?r():null===h.K?d.continue():d.continue(h.K)}}).next(()=>Ke.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Vv(n){return new Ke((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=QS(i.target.error);e(r)}})}let KS=!1;function QS(n){const t=sc.S((0,J.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new At("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return KS||(KS=!0,setTimeout(()=>{throw i},0)),i}}return n}class PR{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;jt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,lt.Z)(function*(){e.task=null;try{jt("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Au(i)?jt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ph(i)}yield e.et(6e4)}))}}class Uv{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,lt.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return Ke.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return jt("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(d=>{r-=d,i.add(a)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,s)).next(d=>(jt("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const a=y3(s);WS(a,i)>0&&(i=a)}),new ca(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let oc=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function jv(n){return null==n}function Sg(n){return 0===n&&1/n==-1/0}function b3(n){return"number"==typeof n&&Number.isInteger(n)&&!Sg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ka(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=OR(t)),t=rj(n.get(e),t);return OR(t)}function rj(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function OR(n){return n+"\x01\x01"}function Ad(n){const t=n.length;if(Pn(t>=2),2===t)return Pn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),zi.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const a=n.indexOf("\x01",s);switch((a<0||a>e)&&wn(),n.charAt(a+1)){case"\x01":const d=n.substring(s,a);let h;0===r.length?h=d:(r+=d,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:wn()}s=a+2}return new zi(i)}const FR=["userId","batchId"];function Cb(n,t){return[n,ka(t)]}function XS(n,t,e){return[n,ka(t),e]}const w3={},LR=["prefixPath","collectionGroup","readTime","documentId"],BR=["prefixPath","collectionGroup","documentId"],x3=["collectionGroup","readTime","prefixPath","documentId"],C3=["canonicalId","targetId"],VR=["targetId","path"],E3=["path","targetId"],UR=["collectionId","parent"],jR=["indexId","uid"],HR=["uid","sequenceNumber"],zR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],I3=["indexId","uid","orderedDocumentKey"],D3=["userId","collectionPath","documentId"],sj=["userId","collectionPath","largestBatchId"],qR=["userId","collectionGroup","largestBatchId"],S3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oj=[...S3,"documentOverlays"],A3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],T3=A3,aj=[...T3,"indexConfiguration","indexState","indexEntries"];class GR extends RR{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function ua(n,t){const e=ln(n);return sc.M(e.ht,t)}function M3(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ag(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function JS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class br{constructor(t,e){this.comparator=t,this.root=e||da.EMPTY}insert(t,e){return new br(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,da.BLACK,null,null))}remove(t){return new br(this.comparator,this.root.remove(t,this.comparator).copy(null,null,da.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Eb(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Eb(this.root,t,this.comparator,!1)}getReverseIterator(){return new Eb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Eb(this.root,t,this.comparator,!0)}}class Eb{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class da{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??da.RED,this.left=r??da.EMPTY,this.right=s??da.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new da(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return da.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return da.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,da.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,da.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wn();const t=this.left.check();if(t!==this.right.check())throw wn();return t+(this.isRed()?0:1)}}da.EMPTY=null,da.RED=!0,da.BLACK=!1,da.EMPTY=new class{constructor(){this.size=0}get key(){throw wn()}get value(){throw wn()}get color(){throw wn()}get left(){throw wn()}get right(){throw wn()}copy(n,t,e,i,r){return this}insert(n,t,e){return new da(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(t){this.comparator=t,this.data=new br(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new $R(this.data.getIterator())}getIteratorFrom(t){return new $R(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof wr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new wr(this.comparator);return e.data=t,e}}class $R{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ib(n){return n.hasNext()?n.getNext():void 0}class ac{constructor(t){this.fields=t,t.sort(Vi.comparator)}static empty(){return new ac([])}unionWith(t){let e=new wr(Vi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ac(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Dg(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class WR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class po{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new WR("Invalid base64 string: "+r):r}}(t);return new po(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new po(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return oi(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}po.EMPTY_BYTE_STRING=new po("");const k3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dp(n){if(Pn(!!n),"string"==typeof n){let t=0;const e=k3.exec(n);if(Pn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bs(n.seconds),nanos:Bs(n.nanos)}}function Bs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Oh(n){return"string"==typeof n?po.fromBase64String(n):po.fromUint8Array(n)}function hp(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Tg(n){const t=n.mapValue.fields.__previous_value__;return hp(t)?Tg(t):t}function Db(n){const t=dp(n.mapValue.fields.__local_write_time__.timestampValue);return new $r(t.seconds,t.nanos)}class R3{constructor(t,e,i,r,s,a,d,h,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=m}}class fp{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new fp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof fp&&t.projectId===this.projectId&&t.database===this.database}}const pp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fC={nullValue:"NULL_VALUE"};function mp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hp(n)?4:XR(n)?9007199254740991:10:wn()}function jc(n,t){if(n===t)return!0;const e=mp(n);if(e!==mp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Db(n).isEqual(Db(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=dp(i.timestampValue),a=dp(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Oh(n.bytesValue).isEqual(Oh(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Bs(i.geoPointValue.latitude)===Bs(r.geoPointValue.latitude)&&Bs(i.geoPointValue.longitude)===Bs(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Bs(i.integerValue)===Bs(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Bs(i.doubleValue),a=Bs(r.doubleValue);return s===a?Sg(s)===Sg(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return Dg(n.arrayValue.values||[],t.arrayValue.values||[],jc);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(M3(s)!==M3(a))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===a[d]||!jc(s[d],a[d])))return!1;return!0}(n,t);default:return wn()}var r}function Sb(n,t){return void 0!==(n.values||[]).find(e=>jc(e,t))}function gp(n,t){if(n===t)return 0;const e=mp(n),i=mp(t);if(e!==i)return oi(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return oi(n.booleanValue,t.booleanValue);case 2:return function(r,s){const a=Bs(r.integerValue||r.doubleValue),d=Bs(s.integerValue||s.doubleValue);return a<d?-1:a>d?1:a===d?0:isNaN(a)?isNaN(d)?0:-1:1}(n,t);case 3:return ZR(n.timestampValue,t.timestampValue);case 4:return ZR(Db(n),Db(t));case 5:return oi(n.stringValue,t.stringValue);case 6:return function(r,s){const a=Oh(r),d=Oh(s);return a.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const a=r.split("/"),d=s.split("/");for(let h=0;h<a.length&&h<d.length;h++){const m=oi(a[h],d[h]);if(0!==m)return m}return oi(a.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const a=oi(Bs(r.latitude),Bs(s.latitude));return 0!==a?a:oi(Bs(r.longitude),Bs(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const a=r.values||[],d=s.values||[];for(let h=0;h<a.length&&h<d.length;++h){const m=gp(a[h],d[h]);if(m)return m}return oi(a.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===pp.mapValue&&s===pp.mapValue)return 0;if(r===pp.mapValue)return 1;if(s===pp.mapValue)return-1;const a=r.fields||{},d=Object.keys(a),h=s.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let b=0;b<d.length&&b<m.length;++b){const x=oi(d[b],m[b]);if(0!==x)return x;const M=gp(a[d[b]],h[m[b]]);if(0!==M)return M}return oi(d.length,m.length)}(n.mapValue,t.mapValue);default:throw wn()}}function ZR(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return oi(n,t);const e=dp(n),i=dp(t),r=oi(e.seconds,i.seconds);return 0!==r?r:oi(e.nanos,i.nanos)}function Hv(n){return eA(n)}function eA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=dp(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Oh(n.bytesValue).toBase64():"referenceValue"in n?en.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=eA(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const d of r)a?a=!1:s+=",",s+=`${d}:${eA(i.fields[d])}`;return s+"}"}(n.mapValue):wn();var t}function Mg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function tA(n){return!!n&&"integerValue"in n}function Ab(n){return!!n&&"arrayValue"in n}function KR(n){return!!n&&"nullValue"in n}function QR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tb(n){return!!n&&"mapValue"in n}function kg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ag(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=kg(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=kg(n.arrayValue.values[e]);return t}return Object.assign({},n)}function XR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function N3(n){return"nullValue"in n?fC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Mg(fp.empty(),en.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:wn()}function JR(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Mg(fp.empty(),en.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pp:wn()}function nA(n,t){const e=gp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function P3(n,t){const e=gp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class lr{constructor(t){this.value=t}static empty(){return new lr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Tb(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=kg(e)}setAll(t){let e=Vi.emptyPath(),i={},r=[];t.forEach((a,d)=>{if(!e.isImmediateParentOf(d)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=d.popLast()}a?i[d.lastSegment()]=kg(a):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Tb(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return jc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Tb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ag(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new lr(kg(this.value))}}function iA(n){const t=[];return Ag(n.fields,(e,i)=>{const r=new Vi([e]);if(Tb(i)){const s=iA(i.mapValue).fields;if(0===s.length)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new ac(t)}class Lr{constructor(t,e,i,r,s,a,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=d}static newInvalidDocument(t){return new Lr(t,0,Ln.min(),Ln.min(),Ln.min(),lr.empty(),0)}static newFoundDocument(t,e,i,r){return new Lr(t,1,e,Ln.min(),i,r,0)}static newNoDocument(t,e){return new Lr(t,2,e,Ln.min(),Ln.min(),lr.empty(),0)}static newUnknownDocument(t,e){return new Lr(t,3,e,Ln.min(),Ln.min(),lr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ln.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Lr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _p{constructor(t,e){this.position=t,this.inclusive=e}}function rA(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],a=n.position[r];if(i=s.field.isKeyField()?en.comparator(en.fromName(a.referenceValue),e.key):gp(a,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function eN(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!jc(n.position[e],t.position[e]))return!1;return!0}class vp{constructor(t,e="asc"){this.field=t,this.dir=e}}function yp(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class sA{}class Oi extends sA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new lj(t,e,i):"array-contains"===e?new cj(t,i):"in"===e?new gC(t,i):"not-in"===e?new oN(t,i):"array-contains-any"===e?new aN(t,i):new Oi(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new sN(t,i):new O3(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(gp(e,this.value)):null!==e&&mp(this.value)===mp(e)&&this.matchesComparison(gp(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class er extends sA{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new er(t,e)}matches(t){return zv(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function zv(n){return"and"===n.op}function tN(n){return"or"===n.op}function mC(n){return nN(n)&&zv(n)}function nN(n){for(const t of n.filters)if(t instanceof er)return!1;return!0}function oA(n){if(n instanceof Oi)return n.field.canonicalString()+n.op.toString()+Hv(n.value);if(mC(n))return n.filters.map(t=>oA(t)).join(",");{const t=n.filters.map(e=>oA(e)).join(",");return`${n.op}(${t})`}}function iN(n,t){return n instanceof Oi?(e=n,(i=t)instanceof Oi&&e.op===i.op&&e.field.isEqual(i.field)&&jc(e.value,i.value)):n instanceof er?function(e,i){return i instanceof er&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,a)=>r&&iN(s,i.filters[a]),!0)}(n,t):void wn();var e,i}function rN(n,t){const e=n.filters.concat(t);return er.create(e,n.op)}function aA(n){return n instanceof Oi?`${(t=n).field.canonicalString()} ${t.op} ${Hv(t.value)}`:n instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(aA).join(" ,")+"}"}(n):"Filter";var t}class lj extends Oi{constructor(t,e,i){super(t,e,i),this.key=en.fromName(i.referenceValue)}matches(t){const e=en.comparator(t.key,this.key);return this.matchesComparison(e)}}class sN extends Oi{constructor(t,e){super(t,"in",e),this.keys=lA(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class O3 extends Oi{constructor(t,e){super(t,"not-in",e),this.keys=lA(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function lA(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>en.fromName(i.referenceValue))}class cj extends Oi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ab(e)&&Sb(e.arrayValue,this.value)}}class gC extends Oi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Sb(this.value.arrayValue,e)}}class oN extends Oi{constructor(t,e){super(t,"not-in",e)}matches(t){if(Sb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Sb(this.value.arrayValue,e)}}class aN extends Oi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ab(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Sb(this.value.arrayValue,i))}}class F3{constructor(t,e=null,i=[],r=[],s=null,a=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=d,this.dt=null}}function _C(n,t=null,e=[],i=[],r=null,s=null,a=null){return new F3(n,t,e,i,r,s,a)}function bp(n){const t=ln(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>oA(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),jv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Hv(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Hv(i)).join(",")),t.dt=e}return t.dt}function Td(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!yp(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!iN(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!eN(n.startAt,t.startAt)&&eN(n.endAt,t.endAt)}function Rg(n){return en.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Mb(n,t){return n.filters.filter(e=>e instanceof Oi&&e.field.isEqual(t))}function cA(n,t,e){let i=fC,r=!0;for(const s of Mb(n,t)){let a=fC,d=!0;switch(s.op){case"<":case"<=":a=N3(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,d=!1;break;case"!=":case"not-in":a=fC}nA({value:i,inclusive:r},{value:a,inclusive:d})<0&&(i=a,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];nA({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function lN(n,t,e){let i=pp,r=!0;for(const s of Mb(n,t)){let a=pp,d=!0;switch(s.op){case">=":case">":a=JR(s.value),d=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,d=!1;break;case"!=":case"not-in":a=pp}P3({value:i,inclusive:r},{value:a,inclusive:d})>0&&(i=a,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];P3({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class Fh{constructor(t,e=null,i=[],r=[],s=null,a="F",d=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=d,this.endAt=h,this.wt=null,this._t=null}}function L3(n,t,e,i,r,s,a,d){return new Fh(n,t,e,i,r,s,a,d)}function Ng(n){return new Fh(n)}function cN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function uA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function dA(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function uN(n){return null!==n.collectionGroup}function qv(n){const t=ln(n);if(null===t.wt){t.wt=[];const e=dA(t),i=uA(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new vp(e)),t.wt.push(new vp(Vi.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new vp(Vi.keyField(),s))}}}return t.wt}function Ra(n){const t=ln(n);if(!t._t)if("F"===t.limitType)t._t=_C(t.path,t.collectionGroup,qv(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of qv(t))e.push(new vp(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new _p(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _p(t.startAt.position,t.startAt.inclusive):null;t._t=_C(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function hA(n,t){t.getFirstInequalityField(),dA(n);const e=n.filters.concat([t]);return new Fh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function vC(n,t,e){return new Fh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function kb(n,t){return Td(Ra(n),Ra(t))&&n.limitType===t.limitType}function B3(n){return`${bp(Ra(n))}|lt:${n.limitType}`}function dN(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>aA(i)).join(", ")}]`),jv(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Hv(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Hv(i)).join(",")),`Target(${e})`}(Ra(n))}; limitType=${n.limitType})`}function yC(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):en.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of qv(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,a){const d=rA(r,s,a);return r.inclusive?d<=0:d<0}(e.startAt,qv(e),i)||e.endAt&&!function(r,s,a){const d=rA(r,s,a);return r.inclusive?d>=0:d>0}(e.endAt,qv(e),i)));var e,i}function V3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function U3(n){return(t,e)=>{let i=!1;for(const r of qv(n)){const s=j3(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function j3(n,t,e){const i=n.field.isKeyField()?en.comparator(t.key,e.key):function(r,s,a){const d=s.data.field(r),h=a.data.field(r);return null!==d&&null!==h?gp(d,h):wn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return wn()}}class Hc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ag(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}const H3=new br(en.comparator);function gl(){return H3}const fA=new br(en.comparator);function Tu(...n){let t=fA;for(const e of n)t=t.insert(e.key,e);return t}function pA(n){let t=fA;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function zc(){return Rb()}function bC(){return Rb()}function Rb(){return new Hc(n=>n.toString(),(n,t)=>n.isEqual(t))}const mA=new br(en.comparator),gA=new wr(en.comparator);function ui(...n){let t=gA;for(const e of n)t=t.add(e);return t}const uj=new wr(oi);function hN(){return uj}function z3(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sg(t)?"-0":t}}function _A(n){return{integerValue:""+n}}function fN(n,t){return b3(t)?_A(t):z3(n,t)}class wC{constructor(){this._=void 0}}function q3(n,t,e){return n instanceof Pg?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&hp(r)&&(r=Tg(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof wp?pN(n,t):n instanceof Og?yA(n,t):function(i,r){const s=vA(i,r),a=$3(s)+$3(i.gt);return tA(s)&&tA(i.gt)?_A(a):z3(i.serializer,a)}(n,t)}function G3(n,t,e){return n instanceof wp?pN(n,t):n instanceof Og?yA(n,t):e}function vA(n,t){return n instanceof xp?tA(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Pg extends wC{}class wp extends wC{constructor(t){super(),this.elements=t}}function pN(n,t){const e=bA(t);for(const i of n.elements)e.some(r=>jc(r,i))||e.push(i);return{arrayValue:{values:e}}}class Og extends wC{constructor(t){super(),this.elements=t}}function yA(n,t){let e=bA(t);for(const i of n.elements)e=e.filter(r=>!jc(r,i));return{arrayValue:{values:e}}}class xp extends wC{constructor(t,e){super(),this.serializer=t,this.gt=e}}function $3(n){return Bs(n.integerValue||n.doubleValue)}function bA(n){return Ab(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fg{constructor(t,e){this.field=t,this.transform=e}}class Y3{constructor(t,e){this.version=t,this.transformResults=e}}class us{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new us}static exists(t){return new us(void 0,t)}static updateTime(t){return new us(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wA(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class xC{}function mN(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Cp(n.key,us.none()):new Gv(n.key,n.data,us.none());{const e=n.data,i=lr.empty();let r=new wr(Vi.comparator);for(let s of t.fields)if(!r.has(s)){let a=e.field(s);null===a&&s.length>1&&(s=s.popLast(),a=e.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new Md(n.key,i,new ac(r.toArray()),us.none())}}function Z3(n,t,e){n instanceof Gv?function(i,r,s){const a=i.value.clone(),d=K3(i.fieldTransforms,r,s.transformResults);a.setAll(d),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Md?function(i,r,s){if(!wA(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=K3(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(CA(i)),d.setAll(a),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Nb(n,t,e,i){return n instanceof Gv?function(r,s,a,d){if(!wA(r.precondition,s))return a;const h=r.value.clone(),m=_N(r.fieldTransforms,d,s);return h.setAll(m),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,t,e,i):n instanceof Md?function(r,s,a,d){if(!wA(r.precondition,s))return a;const h=_N(r.fieldTransforms,d,s),m=s.data;return m.setAll(CA(r)),m.setAll(h),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(a=e,wA(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function gN(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=vA(i.transform,r||null);null!=s&&(null===e&&(e=lr.empty()),e.set(i.field,s))}return e||null}function xA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Dg(e,i,(r,s)=>function W3(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof wp&&i instanceof wp||e instanceof Og&&i instanceof Og?Dg(e.elements,i.elements,jc):e instanceof xp&&i instanceof xp?jc(e.gt,i.gt):e instanceof Pg&&i instanceof Pg);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Gv extends xC{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Md extends xC{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CA(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function K3(n,t,e){const i=new Map;Pn(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],a=s.transform,d=t.data.field(s.field);i.set(s.field,G3(a,d,e[r]))}return i}function _N(n,t,e){const i=new Map;for(const r of n){const s=r.transform,a=e.data.field(r.field);i.set(r.field,q3(s,a,t))}return i}class Cp extends xC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends xC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EC{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Z3(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Nb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Nb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=bC();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let d=this.applyToLocalView(a,s.mutatedFields);d=e.has(r.key)?null:d;const h=mN(a,d);null!==h&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(Ln.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ui())}isEqual(t){return this.batchId===t.batchId&&Dg(this.mutations,t.mutations,(e,i)=>xA(e,i))&&Dg(this.baseMutations,t.baseMutations,(e,i)=>xA(e,i))}}class EA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Pn(t.mutations.length===i.length);let r=mA;const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new EA(t,e,i,r)}}class $v{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class X3{constructor(t,e){this.count=t,this.unchangedNames=e}}var Vs,qi;function J3(n){switch(n){default:return wn();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}function vN(n){if(void 0===n)return Is("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Vs.OK:return rt.OK;case Vs.CANCELLED:return rt.CANCELLED;case Vs.UNKNOWN:return rt.UNKNOWN;case Vs.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Vs.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Vs.INTERNAL:return rt.INTERNAL;case Vs.UNAVAILABLE:return rt.UNAVAILABLE;case Vs.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Vs.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Vs.NOT_FOUND:return rt.NOT_FOUND;case Vs.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Vs.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Vs.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Vs.ABORTED:return rt.ABORTED;case Vs.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Vs.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Vs.DATA_LOSS:return rt.DATA_LOSS;default:return wn()}}(qi=Vs||(Vs={}))[qi.OK=0]="OK",qi[qi.CANCELLED=1]="CANCELLED",qi[qi.UNKNOWN=2]="UNKNOWN",qi[qi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qi[qi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qi[qi.NOT_FOUND=5]="NOT_FOUND",qi[qi.ALREADY_EXISTS=6]="ALREADY_EXISTS",qi[qi.PERMISSION_DENIED=7]="PERMISSION_DENIED",qi[qi.UNAUTHENTICATED=16]="UNAUTHENTICATED",qi[qi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qi[qi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qi[qi.ABORTED=10]="ABORTED",qi[qi.OUT_OF_RANGE=11]="OUT_OF_RANGE",qi[qi.UNIMPLEMENTED=12]="UNIMPLEMENTED",qi[qi.INTERNAL=13]="INTERNAL",qi[qi.UNAVAILABLE=14]="UNAVAILABLE",qi[qi.DATA_LOSS=15]="DATA_LOSS";class yN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return IC}static getOrCreateInstance(){return null===IC&&(IC=new yN),IC}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let IC=null;function e4(){return new TextEncoder}const dj=new Eg([4294967295,4294967295],0);function bN(n){const t=e4().encode(n),e=new f3;return e.update(t),new Uint8Array(e.digest())}function wN(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Eg([e,i],0),new Eg([r,s],0)]}class xN{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new DC(`Invalid padding: ${e}`);if(i<0)throw new DC(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new DC(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new DC(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=Eg.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(Eg.fromNumber(i)));return 1===r.compare(dj)&&(r=new Eg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=bN(t),[i,r]=wN(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);if(!this.At(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new xN(s,r,e);return i.forEach(d=>a.insert(d)),a}insert(t){if(0===this.It)return;const e=bN(t),[i,r]=wN(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class DC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class SC{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,AC.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new SC(Ln.min(),r,new br(oi),gl(),ui())}}class AC{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new AC(i,e,ui(),ui(),ui())}}class IA{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class CN{constructor(t,e){this.targetId=t,this.Vt=e}}class t4{constructor(t,e,i=po.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class n4{constructor(){this.St=0,this.Dt=r4(),this.Ct=po.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=ui(),e=ui(),i=ui();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:wn()}}),new AC(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=r4()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class hj{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=gl(),this.zt=i4(),this.Wt=new br(oi)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:wn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const a=s.target;if(Rg(a))if(0===r){const d=new en(a.path);this.Yt(i,d,Lr.newNoDocument(d,Ln.min()))}else Pn(1===r);else{const d=this.ie(i);if(d!==r){const h=this.re(t,d);0!==h&&(this.ee(i),this.Wt=this.Wt.insert(i,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=yN.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(m,b,x){var M,D,P,F,U,j;const Z={localCacheCount:b,existenceFilterCount:x.count},ne=x.unchangedNames;return ne&&(Z.bloomFilter={applied:0===m,hashCount:null!==(M=ne?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(F=null===(P=null===(D=ne?.bits)||void 0===D?void 0:D.bitmap)||void 0===P?void 0:P.length)&&void 0!==F?F:0,padding:null!==(j=null===(U=ne?.bits)||void 0===U?void 0:U.padding)&&void 0!==j?j:0}),Z}(h,d,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:d=0}=i;let h,m;try{h=Oh(s).toUint8Array()}catch(b){if(b instanceof WR)return ml("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{m=new xN(h,a,d)}catch(b){return ml(b instanceof DC?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===m.It?1:r!==e-this.oe(t.targetId,m)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.Gt.ue(),d=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.vt(d)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,a)=>{const d=this.se(a);if(d){if(s.current&&Rg(d.target)){const h=new en(d.target.path);null!==this.jt.get(h)||this.ae(a,h)||this.Yt(a,h,Lr.newNoDocument(h,t))}s.Mt&&(e.set(a,s.Ot()),s.Ft())}});let i=ui();this.zt.forEach((s,a)=>{let d=!0;a.forEachWhile(h=>{const m=this.se(h);return!m||"TargetPurposeLimboResolution"===m.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(t));const r=new SC(t,e,this.Wt,this.jt,i);return this.jt=gl(),this.zt=i4(),this.Wt=new br(oi),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new n4,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new wr(oi),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||jt("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new n4),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function i4(){return new br(en.comparator)}function r4(){return new br(en.comparator)}const s4={asc:"ASCENDING",desc:"DESCENDING"},fj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o={and:"AND",or:"OR"};class c{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function u(n,t){return n.useProto3Json||jv(t)?t:{value:t}}function f(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function p(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function _(n,t){return f(n,t.toTimestamp())}function w(n){return Pn(!!n),Ln.fromTimestamp(function(t){const e=dp(t);return new $r(e.seconds,e.nanos)}(n))}function S(n,t){return(e=n,new zi(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function k(n){const t=zi.fromString(n);return Pn(mj(t)),t}function B(n,t){return S(n.databaseId,t.path)}function q(n,t){const e=k(t);if(e.get(1)!==n.databaseId.projectId)throw new At(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new At(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new en(mt(e))}function se(n,t){return S(n.databaseId,t)}function Ce(n){const t=k(n);return 4===t.length?zi.emptyPath():mt(t)}function Pe(n){return new zi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mt(n){return Pn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ht(n,t,e){return{name:B(n,t),fields:e.value.mapValue.fields}}function on(n,t,e){const i=q(n,t.name),r=w(t.updateTime),s=t.createTime?w(t.createTime):Ln.min(),a=new lr({mapValue:{fields:t.fields}}),d=Lr.newFoundDocument(i,r,s,a);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function Zn(n,t){let e;if(t instanceof Gv)e={update:Ht(n,t.key,t.value)};else if(t instanceof Cp)e={delete:B(n,t.key)};else if(t instanceof Md)e={update:Ht(n,t.key,t.data),updateMask:rZ(t.fieldMask)};else{if(!(t instanceof CC))return wn();e={verify:B(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof Pg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Og)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xp)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw wn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:_(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:wn()),e;var r}function yi(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?us.updateTime(w(r.updateTime)):void 0!==r.exists?us.exists(r.exists):us.none():us.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let d=null;"setToServerValue"in a?(Pn("REQUEST_TIME"===a.setToServerValue),d=new Pg):"appendMissingElements"in a?d=new wp(a.appendMissingElements.values||[]):"removeAllFromArray"in a?d=new Og(a.removeAllFromArray.values||[]):"increment"in a?d=new xp(s,a.increment):wn();const h=Vi.fromServerFormat(a.fieldPath);return new Fg(h,d)}(n,r)):[];var r;if(t.update){const r=q(n,t.update.name),s=new lr({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new ac((t.updateMask.fieldPaths||[]).map(m=>Vi.fromServerFormat(m)));return new Md(r,s,a,e,i)}return new Gv(r,s,e,i)}if(t.delete){const r=q(n,t.delete);return new Cp(r,e)}if(t.verify){const r=q(n,t.verify);return new CC(r,e)}return wn()}function Za(n,t){return{documents:[se(n,t.path)]}}function Mu(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=se(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=se(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0!==h.length)return pj(er.create(h,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(h){if(0!==h.length)return h.map(m=>{return{field:Wv((b=m).field),direction:o4(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=u(n,t.limit);var d,h;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function Lg(n){let t=Ce(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Pn(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let s=[];e.where&&(s=function(b){const x=EN(b);return x instanceof er&&mC(x)?x.getFilters():[x]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(b=>{return new vp(TC((x=b).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let d=null;e.limit&&(d=function(b){let x;return x="object"==typeof b?b.value:b,jv(x)?null:x}(e.limit));let h=null;var b;e.startAt&&(h=new _p((b=e.startAt).values||[],!!b.before));let m=null;return e.endAt&&(m=function(b){return new _p(b.values||[],!b.before)}(e.endAt)),L3(t,r,a,s,d,"F",h,m)}function EN(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=TC(t.unaryFilter.field);return Oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=TC(t.unaryFilter.field);return Oi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=TC(t.unaryFilter.field);return Oi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=TC(t.unaryFilter.field);return Oi.create(s,"!=",{nullValue:"NULL_VALUE"});default:return wn()}}(n):void 0!==n.fieldFilter?Oi.create(TC((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return er.create(t.compositeFilter.filters.map(e=>EN(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wn()}}(t.compositeFilter.op))}(n):wn();var t}function o4(n){return s4[n]}function nZ(n){return fj[n]}function iZ(n){return o[n]}function Wv(n){return{fieldPath:n.canonicalString()}}function TC(n){return Vi.fromServerFormat(n.fieldPath)}function pj(n){return n instanceof Oi?function(t){if("=="===t.op){if(QR(t.value))return{unaryFilter:{field:Wv(t.field),op:"IS_NAN"}};if(KR(t.value))return{unaryFilter:{field:Wv(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(QR(t.value))return{unaryFilter:{field:Wv(t.field),op:"IS_NOT_NAN"}};if(KR(t.value))return{unaryFilter:{field:Wv(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wv(t.field),op:nZ(t.op),value:t.value}}}(n):n instanceof er?function(t){const e=t.getFilters().map(i=>pj(i));return 1===e.length?e[0]:{compositeFilter:{op:iZ(t.op),filters:e}}}(n):wn()}function rZ(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function mj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Bg{constructor(t,e,i,r,s=Ln.min(),a=Ln.min(),d=po.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(t){return new Bg(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Bg(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class gj{constructor(t){this.fe=t}}function _j(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:IN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:B(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:f(r,s.version.toTimestamp()),createTime:f(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Pb(t.version)};else{if(!t.isUnknownDocument())return wn();i.unknownDocument={path:e.path.toArray(),version:Pb(t.version)}}var r,s;return i}function IN(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Pb(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ob(n){const t=new $r(n.seconds,n.nanoseconds);return Ln.fromTimestamp(t)}function Fb(n,t){const e=(t.baseMutations||[]).map(s=>yi(n.fe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>yi(n.fe,s)),r=$r.fromMillis(t.localWriteTimeMs);return new EC(t.batchId,r,e,i)}function SA(n){const t=Ob(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Ob(n.lastLimboFreeSnapshotVersion):Ln.min();let i;var r;return void 0!==n.query.documents?(Pn(1===(r=n.query).documents.length),i=Ra(Ng(Ce(r.documents[0])))):i=Ra(Lg(n.query)),new Bg(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,po.fromBase64String(n.resumeToken))}function vj(n,t){const e=Pb(t.snapshotVersion),i=Pb(t.lastLimboFreeSnapshotVersion);let r;r=Rg(t.target)?Za(n.fe,t.target):Mu(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bp(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function a4(n){const t=Lg({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vC(t,t.limit,"L"):t}function l4(n,t){return new $v(t.largestBatchId,yi(n.fe,t.overlayMutation))}function yj(n,t){const e=t.path.lastSegment();return[n,ka(t.path.popLast()),e]}function bj(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Pb(i.readTime),documentKey:ka(i.documentKey.path),largestBatchId:i.largestBatchId}}class oZ{getBundleMetadata(t,e){return wj(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Ob(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return wj(t).put({bundleId:(i=e).id,createTime:Pb(w(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return xj(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:a4(r.bundledQuery),readTime:Ob(r.readTime)};var r})}saveNamedQuery(t,e){return xj(t).put({name:(i=e).name,readTime:Pb(w(i.readTime)),bundledQuery:i.bundledQuery});var i}}function wj(n){return ua(n,"bundles")}function xj(n){return ua(n,"namedQueries")}class DN{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new DN(t,e.uid||"")}getOverlay(t,e){return AA(t).get(yj(this.userId,e)).next(i=>i?l4(this.serializer,i):null)}getOverlays(t,e){const i=zc();return Ke.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,a)=>{const d=new $v(e,a);r.push(this.we(t,d))}),Ke.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(ka(a.getCollectionPath())));const s=[];return r.forEach(a=>{const d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(AA(t).J("collectionPathOverlayIndex",d))}),Ke.waitFor(s)}getOverlaysForCollection(t,e,i){const r=zc(),s=ka(e),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return AA(t).j("collectionPathOverlayIndex",a).next(d=>{for(const h of d){const m=l4(this.serializer,h);r.set(m.getKey(),m)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=zc();let a;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return AA(t).X({index:"collectionGroupOverlayIndex",range:d},(h,m,b)=>{const x=l4(this.serializer,m);s.size()<r||x.largestBatchId===a?(s.set(x.getKey(),x),a=x.largestBatchId):b.done()}).next(()=>s)}we(t,e){return AA(t).put(function(i,r,s){const[a,d,h]=yj(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Zn(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function AA(n){return ua(n,"documentOverlays")}class Lb{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Bs(t.integerValue));else if("doubleValue"in t){const i=Bs(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),Sg(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Oh(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?XR(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):wn()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),en.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function aZ(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function Cj(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=aZ(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Lb.Ve=new Lb;class lZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=Cj(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=Cj(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class cZ{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class uZ{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class TA{constructor(){this.je=new lZ,this.ze=new cZ(this.je),this.We=new uZ(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Bb{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Bb(this.indexId,this.documentKey,this.arrayValue,i)}}function Yv(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Ej(n.arrayValue,t.arrayValue),0!==e?e:(e=Ej(n.directionalValue,t.directionalValue),0!==e?e:en.comparator(n.documentKey,t.documentKey)))}function Ej(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class dZ{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){Pn(t.collectionGroup===this.collectionId);const e=GS(t);if(void 0!==e&&!this.en(e))return!1;const i=Bv(t);let r=new Set,s=0,a=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const d=i[s];if(!this.nn(this.Ze,d)||!this.sn(this.Ye[a++],d))return!1}++s}for(;s<i.length;++s)if(a>=this.Ye.length||!this.sn(this.Ye[a++],i[s]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function Ij(n){var t,e;if(Pn(n instanceof Oi||n instanceof er),n instanceof Oi){if(n instanceof gC){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Oi.create(n.field,"==",s)))||[];return er.create(r,"or")}return n}const i=n.filters.map(r=>Ij(r));return er.create(i,n.op)}function hZ(n){if(0===n.getFilters().length)return[];const t=d4(Ij(n));return Pn(Dj(t)),c4(t)||u4(t)?[t]:t.getFilters()}function c4(n){return n instanceof Oi}function u4(n){return n instanceof er&&mC(n)}function Dj(n){return c4(n)||u4(n)||function(t){if(t instanceof er&&tN(t)){for(const e of t.getFilters())if(!c4(e)&&!u4(e))return!1;return!0}return!1}(n)}function d4(n){if(Pn(n instanceof Oi||n instanceof er),n instanceof Oi)return n;if(1===n.filters.length)return d4(n.filters[0]);const t=n.filters.map(i=>d4(i));let e=er.create(t,n.op);return e=SN(e),Dj(e)?e:(Pn(e instanceof er),Pn(zv(e)),Pn(e.filters.length>1),e.filters.reduce((i,r)=>h4(i,r)))}function h4(n,t){let e;return Pn(n instanceof Oi||n instanceof er),Pn(t instanceof Oi||t instanceof er),e=n instanceof Oi?t instanceof Oi?er.create([n,t],"and"):Sj(n,t):t instanceof Oi?Sj(t,n):function(i,r){if(Pn(i.filters.length>0&&r.filters.length>0),zv(i)&&zv(r))return rN(i,r.getFilters());const s=tN(i)?i:r,a=tN(i)?r:i,d=s.filters.map(h=>h4(h,a));return er.create(d,"or")}(n,t),SN(e)}function Sj(n,t){if(zv(t))return rN(t,n.getFilters());{const e=t.filters.map(i=>h4(n,i));return er.create(e,"or")}}function SN(n){if(Pn(n instanceof Oi||n instanceof er),n instanceof Oi)return n;const t=n.getFilters();if(1===t.length)return SN(t[0]);if(nN(n))return n;const e=t.map(r=>SN(r)),i=[];return e.forEach(r=>{r instanceof Oi?i.push(r):r instanceof er&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:er.create(i,n.op)}class fZ{constructor(){this.rn=new f4}addToCollectionParentIndex(t,e){return this.rn.add(e),Ke.resolve()}getCollectionParents(t,e){return Ke.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Ke.resolve()}deleteFieldIndex(t,e){return Ke.resolve()}getDocumentsMatchingTarget(t,e){return Ke.resolve(null)}getIndexType(t,e){return Ke.resolve(0)}getFieldIndexes(t,e){return Ke.resolve([])}getNextCollectionGroupToUpdate(t){return Ke.resolve(null)}getMinOffset(t,e){return Ke.resolve(ca.min())}getMinOffsetFromCollectionGroup(t,e){return Ke.resolve(ca.min())}updateCollectionGroup(t,e,i){return Ke.resolve()}updateIndexEntries(t,e){return Ke.resolve()}}class f4{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new wr(zi.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new wr(zi.comparator)).toArray()}}const AN=new Uint8Array(0);class pZ{constructor(t,e){this.user=t,this.databaseId=e,this.on=new f4,this.un=new Hc(i=>bp(i),(i,r)=>Td(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:ka(r)};return Aj(t).put(s)}return Ke.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[MR(e),""],!1,!0);return Aj(t).j(r).next(s=>{for(const a of s){if(a.collectionId!==e)break;i.push(Ad(a.parent))}return i})}addFieldIndex(t,e){const i=TN(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const a=kA(t);return s.next(d=>{a.put(bj(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=TN(t),r=kA(t),s=MA(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=MA(t);let r=!0;const s=new Map;return Ke.forEach(this.cn(e),a=>this.an(t,a).next(d=>{r&&(r=!!d),s.set(a,d)})).next(()=>{if(r){let a=ui();const d=[];return Ke.forEach(s,(h,m)=>{var b;jt("IndexedDbIndexManager",`Using index ${b=h,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(ne=>`${ne.fieldPath}:${ne.kind}`).join(",")}`} to execute ${bp(e)}`);const x=function(ne,de){const ke=GS(de);if(void 0===ke)return null;for(const Ye of Mb(ne,ke.fieldPath))switch(Ye.op){case"array-contains-any":return Ye.value.arrayValue.values||[];case"array-contains":return[Ye.value]}return null}(m,h),M=function(ne,de){const ke=new Map;for(const Ye of Bv(de))for(const Me of Mb(ne,Ye.fieldPath))switch(Me.op){case"==":case"in":ke.set(Ye.fieldPath.canonicalString(),Me.value);break;case"not-in":case"!=":return ke.set(Ye.fieldPath.canonicalString(),Me.value),Array.from(ke.values())}return null}(m,h),D=function(ne,de){const ke=[];let Ye=!0;for(const Me of Bv(de)){const he=0===Me.kind?cA(ne,Me.fieldPath,ne.startAt):lN(ne,Me.fieldPath,ne.startAt);ke.push(he.value),Ye&&(Ye=he.inclusive)}return new _p(ke,Ye)}(m,h),P=function(ne,de){const ke=[];let Ye=!0;for(const Me of Bv(de)){const he=0===Me.kind?lN(ne,Me.fieldPath,ne.endAt):cA(ne,Me.fieldPath,ne.endAt);ke.push(he.value),Ye&&(Ye=he.inclusive)}return new _p(ke,Ye)}(m,h),F=this.hn(h,m,D),U=this.hn(h,m,P),j=this.ln(h,m,M),Z=this.fn(h.indexId,x,F,D.inclusive,U,P.inclusive,j);return Ke.forEach(Z,ne=>i.H(ne,e.limit).next(de=>{de.forEach(ke=>{const Ye=en.fromSegments(ke.documentKey);a.has(Ye)||(a=a.add(Ye),d.push(Ye))})}))}).next(()=>d)}return Ke.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:hZ(er.create(t.filters,"and")).map(i=>_C(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,a,d){const h=(null!=e?e.length:1)*Math.max(i.length,s.length),m=h/(null!=e?e.length:1),b=[];for(let x=0;x<h;++x){const M=e?this.dn(e[x/m]):AN,D=this.wn(t,M,i[x%m],r),P=this._n(t,M,s[x%m],a),F=d.map(U=>this.wn(t,M,U,!0));b.push(...this.createRange(D,P,F))}return b}wn(t,e,i,r){const s=new Bb(t,en.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new Bb(t,en.empty(),e,i);return r?s.Je():s}an(t,e){const i=new dZ(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let a=null;for(const d of s)i.tn(d)&&(!a||d.fields.length>a.fields.length)&&(a=d);return a})}getIndexType(t,e){let i=2;const r=this.cn(e);return Ke.forEach(r,s=>this.an(t,s).next(a=>{a?0!==i&&a.fields.length<function(d){let h=new wr(Vi.comparator),m=!1;for(const b of d.filters)for(const x of b.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?m=!0:h=h.add(x.field));for(const b of d.orderBy)b.field.isKeyField()||(h=h.add(b.field));return h.size+(m?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new TA;for(const r of Bv(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const a=i.He(r.kind);Lb.Ve._e(s,a)}return i.Qe()}dn(t){const e=new TA;return Lb.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new TA;return Lb.Ve._e(Mg(this.databaseId,e),i.He(function(r){const s=Bv(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new TA);let s=0;for(const a of Bv(t)){const d=i[s++];for(const h of r)if(this.yn(e,a.fieldPath)&&Ab(d))r=this.pn(r,a,d);else{const m=h.He(a.kind);Lb.Ve._e(d,m)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const a of i.arrayValue.values||[])for(const d of r){const h=new TA;h.seed(d.Qe()),Lb.Ve._e(a,h.He(e.kind)),s.push(h)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof Oi&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=TN(t),r=kA(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const a=[];return Ke.forEach(s,d=>r.get([d.indexId,this.uid]).next(h=>{a.push(function(m,b){const x=b?new uC(b.sequenceNumber,new ca(Ob(b.readTime),new en(Ad(b.documentKey)),b.largestBatchId)):uC.empty(),M=m.fields.map(([D,P])=>new wb(Vi.fromServerFormat(D),P));return new cC(m.indexId,m.collectionGroup,M,x)}(d,h))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:oi(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=TN(t),s=kA(t);return this.Tn(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>Ke.forEach(d,h=>s.put(bj(h.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return Ke.forEach(e,(r,s)=>{const a=i.get(r.collectionGroup);return(a?Ke.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),Ke.forEach(d,h=>this.En(t,r,h).next(m=>{const b=this.An(s,h);return m.isEqual(b)?Ke.resolve():this.vn(t,s,h,m,b)}))))})}Rn(t,e,i,r){return MA(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return MA(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=MA(t);let s=new wr(Yv);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(a,d)=>{s=s.add(new Bb(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}An(t,e){let i=new wr(Yv);const r=this.mn(e,t);if(null==r)return i;const s=GS(e);if(null!=s){const a=t.data.field(s.fieldPath);if(Ab(a))for(const d of a.arrayValue.values||[])i=i.add(new Bb(e.indexId,t.key,this.dn(d),r))}else i=i.add(new Bb(e.indexId,t.key,AN,r));return i}vn(t,e,i,r,s){jt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(d,h,m,b,x){const M=d.getIterator(),D=h.getIterator();let P=Ib(M),F=Ib(D);for(;P||F;){let U=!1,j=!1;if(P&&F){const Z=m(P,F);Z<0?j=!0:Z>0&&(U=!0)}else null!=P?j=!0:U=!0;U?(b(F),F=Ib(D)):j?(x(P),P=Ib(M)):(P=Ib(M),F=Ib(D))}}(r,s,Yv,d=>{a.push(this.Rn(t,e,i,d))},d=>{a.push(this.Pn(t,e,i,d))}),Ke.waitFor(a)}Tn(t){let e=1;return kA(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,d)=>Yv(a,d)).filter((a,d,h)=>!d||0!==Yv(a,h[d-1]));const r=[];r.push(t);for(const a of i){const d=Yv(a,t),h=Yv(a,e);if(0===d)r[0]=t.Je();else if(d>0&&h<0)r.push(a),r.push(a.Je());else if(h>0)break}r.push(e);const s=[];for(let a=0;a<r.length;a+=2){if(this.bn(r[a],r[a+1]))return[];s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,AN,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,AN,[]]))}return s}bn(t,e){return Yv(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Tj)}getMinOffset(t,e){return Ke.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||wn())).next(Tj)}}function Aj(n){return ua(n,"collectionParents")}function MA(n){return ua(n,"indexEntries")}function TN(n){return ua(n,"indexConfiguration")}function kA(n){return ua(n,"indexState")}function Tj(n){Pn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;WS(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ca(t.readTime,t.documentKey,e)}const Mj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _l{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new _l(t,_l.DEFAULT_COLLECTION_PERCENTILE,_l.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kj(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(e.batchId);let d=0;const h=i.X({range:a},(b,x,M)=>(d++,M.delete()));s.push(h.next(()=>{Pn(1===d)}));const m=[];for(const b of e.mutations){const x=XS(t,b.key.path,e.batchId);s.push(r.delete(x)),m.push(b.key)}return Ke.waitFor(s).next(()=>m)}function MN(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw wn();t=n.noDocument}return JSON.stringify(t).length}_l.DEFAULT_COLLECTION_PERCENTILE=10,_l.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_l.DEFAULT=new _l(41943040,_l.DEFAULT_COLLECTION_PERCENTILE,_l.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_l.DISABLED=new _l(-1,0,0);class kN{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){Pn(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new kN(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zv(t).X({index:"userMutationsIndex",range:i},(r,s,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=MC(t),a=Zv(t);return a.add({}).next(d=>{Pn("number"==typeof d);const h=new EC(d,e,i,r),m=function(M,D,P){const F=P.baseMutations.map(j=>Zn(M.fe,j)),U=P.mutations.map(j=>Zn(M.fe,j));return{userId:D,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:F,mutations:U}}(this.serializer,this.userId,h),b=[];let x=new wr((M,D)=>oi(M.canonicalString(),D.canonicalString()));for(const M of r){const D=XS(this.userId,M.key.path,d);x=x.add(M.key.path.popLast()),b.push(a.put(m)),b.push(s.put(D,w3))}return x.forEach(M=>{b.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.Vn[d]=h.keys()}),Ke.waitFor(b).next(()=>h)})}lookupMutationBatch(t,e){return Zv(t).get(e).next(i=>i?(Pn(i.userId===this.userId),Fb(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?Ke.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Zv(t).X({index:"userMutationsIndex",range:r},(a,d,h)=>{d.userId===this.userId&&(Pn(d.batchId>=i),s=Fb(this.serializer,d)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Zv(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zv(t).j("userMutationsIndex",e).next(i=>i.map(r=>Fb(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Cb(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return MC(t).X({range:r},(a,d,h)=>{const[m,b,x]=a,M=Ad(b);if(m===this.userId&&e.path.isEqual(M))return Zv(t).get(x).next(D=>{if(!D)throw wn();Pn(D.userId===this.userId),s.push(Fb(this.serializer,D))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new wr(oi);const r=[];return e.forEach(s=>{const a=Cb(this.userId,s.path),d=IDBKeyRange.lowerBound(a),h=MC(t).X({range:d},(m,b,x)=>{const[M,D,P]=m,F=Ad(D);M===this.userId&&s.path.isEqual(F)?i=i.add(P):x.done()});r.push(h)}),Ke.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=Cb(this.userId,i),a=IDBKeyRange.lowerBound(s);let d=new wr(oi);return MC(t).X({range:a},(h,m,b)=>{const[x,M,D]=h,P=Ad(M);x===this.userId&&i.isPrefixOf(P)?P.length===r&&(d=d.add(D)):b.done()}).next(()=>this.Dn(t,d))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Zv(t).get(s).next(a=>{if(null===a)throw wn();Pn(a.userId===this.userId),i.push(Fb(this.serializer,a))}))}),Ke.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return kj(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),Ke.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ke.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return MC(t).X({range:i},(s,a,d)=>{if(s[0]===this.userId){const h=Ad(s[1]);r.push(h)}else d.done()}).next(()=>{Pn(0===r.length)})})}containsKey(t,e){return Rj(t,this.userId,e)}xn(t){return Nj(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rj(n,t,e){const i=Cb(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return MC(n).X({range:s,Y:!0},(d,h,m)=>{const[b,x,M]=d;b===t&&x===r&&(a=!0),m.done()}).next(()=>a)}function Zv(n){return ua(n,"mutations")}function MC(n){return ua(n,"documentMutations")}function Nj(n){return ua(n,"mutationQueues")}class Vb{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Vb(0)}static Mn(){return new Vb(-1)}}class mZ{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new Vb(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Ln.fromTimestamp(new $r(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>kC(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(Pn(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return kC(t).X((a,d)=>{const h=SA(d);h.sequenceNumber<=e&&null===i.get(h.targetId)&&(r++,s.push(this.removeTargetData(t,h)))}).next(()=>Ke.waitFor(s)).next(()=>r)}forEachTarget(t,e){return kC(t).X((i,r)=>{const s=SA(r);e(s)})}$n(t){return Pj(t).get("targetGlobalKey").next(e=>(Pn(null!==e),e))}On(t,e){return Pj(t).put("targetGlobalKey",e)}Fn(t,e){return kC(t).put(vj(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=bp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return kC(t).X({range:r,index:"queryTargetsIndex"},(a,d,h)=>{const m=SA(d);Td(e,m.target)&&(s=m,h.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Kv(t);return e.forEach(a=>{const d=ka(a.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,a))}),Ke.waitFor(r)}removeMatchingKeys(t,e,i){const r=Kv(t);return Ke.forEach(e,s=>{const a=ka(s.path);return Ke.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Kv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Kv(t);let s=ui();return r.X({range:i,Y:!0},(a,d,h)=>{const m=Ad(a[1]),b=new en(m);s=s.add(b)}).next(()=>s)}containsKey(t,e){const i=ka(e.path),r=IDBKeyRange.bound([i],[MR(i)],!1,!0);let s=0;return Kv(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,d],h,m)=>{0!==a&&(s++,m.done())}).next(()=>s>0)}le(t,e){return kC(t).get(e).next(i=>i?SA(i):null)}}function kC(n){return ua(n,"targets")}function Pj(n){return ua(n,"targetGlobal")}function Kv(n){return ua(n,"targetDocuments")}function Oj([n,t],[e,i]){const r=oi(n,e);return 0===r?oi(t,i):r}class gZ{constructor(t){this.Ln=t,this.buffer=new wr(Oj),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Oj(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Fj{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;jt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,lt.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Au(i)?jt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ph(i)}yield e.Qn(3e5)}))}}class _Z{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ke.resolve(oc.ct);const i=new gZ(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(Mj)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mj):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,a,d,h,m;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,a=Date.now(),this.nthSequenceNumber(t,r))).next(x=>(i=x,d=Date.now(),this.removeTargets(t,i,e))).next(x=>(s=x,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(m=Date.now(),US()<=Po.in.DEBUG&&jt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-b}ms\n\tDetermined least recently used ${r} in `+(d-a)+`ms\n\tRemoved ${s} targets in `+(h-d)+`ms\n\tRemoved ${x} documents in `+(m-h)+`ms\nTotal Duration: ${m-b}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:x})))}}class vZ{constructor(t,e){this.db=t,this.garbageCollector=function Lj(n,t){return new _Z(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return RN(t,i)}removeReference(t,e,i){return RN(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return RN(t,e)}Xn(t,e){return function(i,r){let s=!1;return Nj(i).Z(a=>Rj(i,a,r).next(d=>(d&&(s=!0),Ke.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(a,d)=>{if(d<=e){const h=this.Xn(t,a).next(m=>{if(!m)return s++,i.getEntry(t,a).next(()=>(i.removeEntry(a,Ln.min()),Kv(t).delete([0,ka(a.path)])))});r.push(h)}}).next(()=>Ke.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return RN(t,e)}Yn(t,e){const i=Kv(t);let r,s=oc.ct;return i.X({index:"documentTargetsIndex"},([a,d],{path:h,sequenceNumber:m})=>{0===a?(s!==oc.ct&&e(new en(Ad(r)),s),s=m,r=h):s=oc.ct}).next(()=>{s!==oc.ct&&e(new en(Ad(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function RN(n,t){return Kv(n).put((i=n.currentSequenceNumber,{targetId:0,path:ka(t.path),sequenceNumber:i}));var i}class Bj{constructor(){this.changes=new Hc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Lr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ke.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class yZ{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ub(t).put(i)}removeEntry(t,e,i){return Ub(t).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],IN(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Lr.newInvalidDocument(e);return Ub(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(RA(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:Lr.newInvalidDocument(e)};return Ub(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(RA(e))},(r,s)=>{i={document:this.ts(e,s),size:MN(s)}}).next(()=>i)}getEntries(t,e){let i=gl();return this.ns(t,e,(r,s)=>{const a=this.ts(r,s);i=i.insert(r,a)}).next(()=>i)}ss(t,e){let i=gl(),r=new br(en.comparator);return this.ns(t,e,(s,a)=>{const d=this.ts(s,a);i=i.insert(s,d),r=r.insert(s,MN(a))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return Ke.resolve();let r=new wr(Hj);e.forEach(h=>r=r.add(h));const s=IDBKeyRange.bound(RA(r.first()),RA(r.last())),a=r.getIterator();let d=a.getNext();return Ub(t).X({index:"documentKeyIndex",range:s},(h,m,b)=>{const x=en.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;d&&Hj(d,x)<0;)i(d,null),d=a.getNext();d&&d.isEqual(x)&&(i(d,m),d=a.hasNext()?a.getNext():null),d?b.G(RA(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),IN(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ub(t).j(IDBKeyRange.bound(a,d,!0)).next(h=>{let m=gl();for(const b of h){const x=this.ts(en.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);x.isFoundDocument()&&(yC(e,x)||r.has(x.key))&&(m=m.insert(x.key,x))}return m})}getAllFromCollectionGroup(t,e,i,r){let s=gl();const a=jj(e,i),d=jj(e,ca.max());return Ub(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,d,!0)},(h,m,b)=>{const x=this.ts(en.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);s=s.insert(x.key,x),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(t){return new bZ(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Uj(t).get("remoteDocumentGlobalKey").next(e=>(Pn(!!e),e))}Zn(t,e){return Uj(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function sZ(n,t){let e;if(t.document)e=on(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=en.fromSegments(t.noDocument.path),r=Ob(t.noDocument.readTime);e=Lr.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return wn();{const i=en.fromSegments(t.unknownDocument.path),r=Ob(t.unknownDocument.version);e=Lr.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new $r(i[0],i[1]);return Ln.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Ln.min()))return i}return Lr.newInvalidDocument(t)}}function Vj(n){return new yZ(n)}class bZ extends Bj{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Hc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new wr((s,a)=>oi(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const d=this.us.get(s);if(e.push(this.os.removeEntry(t,s,d.readTime)),a.isValidDocument()){const h=_j(this.os.serializer,a);r=r.add(s.path.popLast());const m=MN(h);i+=m-d.size,e.push(this.os.addEntry(t,s,h))}else if(i-=d.size,this.trackRemovals){const h=_j(this.os.serializer,a.convertToNoDocument(Ln.min()));e.push(this.os.addEntry(t,s,h))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),Ke.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,a)=>{this.us.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function Uj(n){return ua(n,"remoteDocumentGlobal")}function Ub(n){return ua(n,"remoteDocumentsV14")}function RA(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function jj(n,t){const e=t.documentKey.path.toArray();return[n,IN(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Hj(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=oi(e[s],i[s]),r)return r;return r=oi(e.length,i.length),r||(r=oi(e[e.length-2],i[i.length-2]),r||oi(e[e.length-1],i[i.length-1]))}class wZ{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class zj{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Nb(i.mutation,r,ac.empty(),$r.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ui()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ui()){const r=zc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let a=Tu();return s.forEach((d,h)=>{a=a.insert(d,h.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=zc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ui()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,d)=>{e.set(a,d)})})}computeViews(t,e,i,r){let s=gl();const a=Rb(),d=Rb();return e.forEach((h,m)=>{const b=i.get(m.key);r.has(m.key)&&(void 0===b||b.mutation instanceof Md)?s=s.insert(m.key,m):void 0!==b?(a.set(m.key,b.mutation.getFieldMask()),Nb(b.mutation,m,b.mutation.getFieldMask(),$r.now())):a.set(m.key,ac.empty())}),this.recalculateAndSaveOverlays(t,s).next(h=>(h.forEach((m,b)=>a.set(m,b)),e.forEach((m,b)=>{var x;return d.set(m,new wZ(b,null!==(x=a.get(m))&&void 0!==x?x:null))}),d))}recalculateAndSaveOverlays(t,e){const i=Rb();let r=new br((a,d)=>a-d),s=ui();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const d of a)d.keys().forEach(h=>{const m=e.get(h);if(null===m)return;let b=i.get(h)||ac.empty();b=d.applyToLocalView(m,b),i.set(h,b);const x=(r.get(d.batchId)||ui()).add(h);r=r.insert(d.batchId,x)})}).next(()=>{const a=[],d=r.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),m=h.key,b=h.value,x=bC();b.forEach(M=>{if(!s.has(M)){const D=mN(e.get(M),i.get(M));null!==D&&x.set(M,D),s=s.add(M)}}),a.push(this.documentOverlayCache.saveOverlays(t,m,x))}return Ke.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return en.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):uN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Ke.resolve(zc());let d=-1,h=s;return a.next(m=>Ke.forEach(m,(b,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),s.get(b)?Ke.resolve():this.remoteDocumentCache.getEntry(t,b).next(M=>{h=h.insert(b,M)}))).next(()=>this.populateOverlays(t,m,s)).next(()=>this.computeViews(t,h,m,ui())).next(b=>({batchId:d,changes:pA(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new en(e)).next(i=>{let r=Tu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=Tu();return this.indexManager.getCollectionParents(t,r).next(a=>Ke.forEach(a,d=>{const h=(m=e,b=d.child(r),new Fh(b,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,b;return this.getDocumentsMatchingCollectionQuery(t,h,i).next(m=>{m.forEach((b,x)=>{s=s.insert(b,x)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((d,h)=>{const m=h.getKey();null===s.get(m)&&(s=s.insert(m,Lr.newInvalidDocument(m)))});let a=Tu();return s.forEach((d,h)=>{const m=r.get(d);void 0!==m&&Nb(m.mutation,h,ac.empty(),$r.now()),yC(e,h)&&(a=a.insert(d,h))}),a})}}class xZ{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Ke.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:w(i.createTime)}),Ke.resolve()}getNamedQuery(t,e){return Ke.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:a4(i.bundledQuery),readTime:w(i.readTime)}),Ke.resolve();var i}}class CZ{constructor(){this.overlays=new br(en.comparator),this.ls=new Map}getOverlay(t,e){return Ke.resolve(this.overlays.get(e))}getOverlays(t,e){const i=zc();return Ke.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),Ke.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),Ke.resolve()}getOverlaysForCollection(t,e,i){const r=zc(),s=e.length+1,a=new en(e.child("")),d=this.overlays.getIteratorFrom(a);for(;d.hasNext();){const h=d.getNext().value,m=h.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return Ke.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new br((m,b)=>m-b);const a=this.overlays.getIterator();for(;a.hasNext();){const m=a.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let b=s.get(m.largestBatchId);null===b&&(b=zc(),s=s.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}const d=zc(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,b)=>d.set(m,b)),!(d.size()>=r)););return Ke.resolve(d)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new $v(e,i));let s=this.ls.get(e);void 0===s&&(s=ui(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class p4{constructor(){this.fs=new wr(Na.ds),this.ws=new wr(Na._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Na(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Na(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new en(new zi([])),i=new Na(e,t),r=new Na(e,t+1),s=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new en(new zi([])),i=new Na(e,t),r=new Na(e,t+1);let s=ui();return this.ws.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new Na(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Na{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return en.comparator(t.key,e.key)||oi(t.As,e.As)}static _s(t,e){return oi(t.As,e.As)||en.comparator(t.key,e.key)}}class EZ{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new wr(Na.ds)}checkEmpty(t){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const a=new EC(s,e,i,r);this.mutationQueue.push(a);for(const d of r)this.Rs=this.Rs.add(new Na(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return Ke.resolve(a)}lookupMutationBatch(t,e){return Ke.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return Ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Na(e,0),r=new Na(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],a=>{const d=this.Ps(a.As);s.push(d)}),Ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new wr(oi);return e.forEach(r=>{const s=new Na(r,0),a=new Na(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],d=>{i=i.add(d.As)})}),Ke.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;en.isDocumentKey(s)||(s=s.child(""));const a=new Na(new en(s),0);let d=new wr(oi);return this.Rs.forEachWhile(h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(d=d.add(h.As)),!0)},a),Ke.resolve(this.Vs(d))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Pn(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ke.forEach(e.mutations,r=>{const s=new Na(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Na(e,0),r=this.Rs.firstAfterOrEqual(i);return Ke.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ke.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class IZ{constructor(t){this.Ds=t,this.docs=new br(en.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ke.resolve(i?i.document.mutableCopy():Lr.newInvalidDocument(e))}getEntries(t,e){let i=gl();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Lr.newInvalidDocument(r))}),Ke.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=gl();const a=e.path,d=new en(a.child("")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:m,value:{document:b}}=h.getNext();if(!a.isPrefixOf(m.path))break;m.path.length>a.length+1||WS(y3(b),i)<=0||(r.has(b.key)||yC(e,b))&&(s=s.insert(b.key,b.mutableCopy()))}return Ke.resolve(s)}getAllFromCollectionGroup(t,e,i,r){wn()}Cs(t,e){return Ke.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new DZ(this)}getSize(t){return Ke.resolve(this.size)}}class DZ extends Bj{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),Ke.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class SZ{constructor(t){this.persistence=t,this.xs=new Hc(e=>bp(e),Td),this.lastRemoteSnapshotVersion=Ln.min(),this.highestTargetId=0,this.Ns=0,this.ks=new p4,this.targetCount=0,this.Ms=Vb.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),Ke.resolve()}getLastRemoteSnapshotVersion(t){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ke.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),Ke.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new Vb(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Ke.resolve()}updateTargetData(t,e){return this.Fn(e),Ke.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((a,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),Ke.waitFor(s).next(()=>r)}getTargetCount(t){return Ke.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return Ke.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),Ke.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),Ke.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Ke.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return Ke.resolve(i)}containsKey(t,e){return Ke.resolve(this.ks.containsKey(e))}}class m4{constructor(t,e){this.$s={},this.overlays={},this.Os=new oc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new SZ(this),this.indexManager=new fZ,this.remoteDocumentCache=new IZ(i=>this.referenceDelegate.Ls(i)),this.serializer=new gj(e),this.qs=new xZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new CZ,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new EZ(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){jt("MemoryPersistence","Starting transaction:",t);const r=new AZ(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return Ke.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class AZ extends RR{constructor(t){super(),this.currentSequenceNumber=t}}class NN{constructor(t){this.persistence=t,this.Qs=new p4,this.js=null}static zs(t){return new NN(t)}get Ws(){if(this.js)return this.js;throw wn()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),Ke.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),Ke.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Ke.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Ws,i=>{const r=en.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,Ln.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Ke.or([()=>Ke.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class TZ{constructor(t){this.serializer=t}O(t,e,i,r){const s=new hC("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FR,{unique:!0}),d.createObjectStore("documentMutations"),qj(t),function(d){d.createObjectStore("remoteDocuments")}(t));let a=Ke.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),qj(t)),a=a.next(()=>function(d){const h=d.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ln.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",m)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(d,h){return h.store("mutations").j().next(m=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FR,{unique:!0});const b=h.store("mutations"),x=m.map(M=>b.put(M));return Ke.waitFor(x)})}(t,s))),a=a.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Ys(s))),i<6&&r>=6&&(a=a.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(a=a.next(()=>this.Zs(s))),i<8&&r>=8&&(a=a.next(()=>this.ti(t,s))),i<9&&r>=9&&(a=a.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ei(s))),i<11&&r>=11&&(a=a.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(d){const h=d.createObjectStore("documentOverlays",{keyPath:D3});h.createIndex("collectionPathOverlayIndex",sj,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",qR,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(d){const h=d.createObjectStore("remoteDocumentsV14",{keyPath:LR});h.createIndex("documentKeyIndex",BR),h.createIndex("collectionGroupIndex",x3)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.si(t,s))),i<15&&r>=15&&(a=a.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:jR}).createIndex("sequenceNumberIndex",HR,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:zR}).createIndex("documentKeyIndex",I3,{unique:!1})}(t))),a}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=MN(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>Ke.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(d=>Ke.forEach(d,h=>{Pn(h.userId===s.userId);const m=Fb(this.serializer,h);return kj(t,s.userId,m).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((a,d)=>{const h=new zi(a),m=[0,ka(h)];s.push(e.get(m).next(b=>b?Ke.resolve():e.put({targetId:0,path:ka(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:UR});const i=e.store("collectionParents"),r=new f4,s=a=>{if(r.add(a)){const d=a.lastSegment(),h=a.popLast();return i.put({collectionId:d,parent:ka(h)})}};return e.store("remoteDocuments").X({Y:!0},(a,d)=>{const h=new zi(a);return s(h.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,d,h],m)=>{const b=Ad(d);return s(b.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=SA(r),a=vj(this.serializer,s);return e.put(a)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,a)=>{const d=e.store("remoteDocumentsV14"),h=(m=a,m.document?new en(zi.fromString(m.document.name).popFirst(5)):m.noDocument?en.fromSegments(m.noDocument.path):m.unknownDocument?en.fromSegments(m.unknownDocument.path):wn()).path.toArray();var m;const b={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(d.put(b))}).next(()=>Ke.waitFor(r))}si(t,e){const i=e.store("mutations"),r=Vj(this.serializer),s=new m4(NN.zs,this.serializer.fe);return i.j().next(a=>{const d=new Map;return a.forEach(h=>{var m;let b=null!==(m=d.get(h.userId))&&void 0!==m?m:ui();Fb(this.serializer,h).keys().forEach(x=>b=b.add(x)),d.set(h.userId,b)}),Ke.forEach(d,(h,m)=>{const b=new jo(m),x=DN.de(this.serializer,b),M=s.getIndexManager(b),D=kN.de(b,this.serializer,M,s.referenceDelegate);return new zj(r,D,x,M).recalculateAndSaveOverlaysForDocumentKeys(new GR(e,oc.ct),h).next()})})}}function qj(n){n.createObjectStore("targetDocuments",{keyPath:VR}).createIndex("documentTargetsIndex",E3,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",C3,{unique:!0}),n.createObjectStore("targetGlobal")}const g4="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _4{constructor(t,e,i,r,s,a,d,h,m,b,x=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=a,this.document=d,this.ri=m,this.oi=b,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=M=>Promise.resolve(),!_4.D())throw new At(rt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vZ(this,r),this.di=e+"main",this.serializer=new gj(h),this.wi=new sc(this.di,this.ui,new TZ(this.serializer)),this.Bs=new mZ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Vj(this.serializer),this.qs=new oZ,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Is("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new At(rt.FAILED_PRECONDITION,g4);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new oc(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,lt.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,lt.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,lt.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ON(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Au(t))return jt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return jt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return NA(t).get("owner").next(e=>Ke.resolve(this.Ri(e)))}Pi(t){return ON(t).delete(this.clientId)}bi(){var t=this;return(0,lt.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ua(i,"clientMetadata");return r.j().next(s=>{const a=t.Si(s,18e5),d=s.filter(h=>-1===a.indexOf(h));return Ke.forEach(d,h=>r.delete(h.clientId)).next(()=>d)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?Ke.resolve(!0):NA(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new At(rt.FAILED_PRECONDITION,g4);return!1}}return!(!this.networkEnabled||!this.inForeground)||ON(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&jt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,lt.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new GR(e,oc.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>ON(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return kN.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new pZ(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return DN.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){jt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(a=this.ui)?aj:14===a?T3:13===a?A3:12===a?oj:11===a?S3:void wn();var a;let d;return this.wi.runTransaction(t,r,s,h=>(d=new GR(h,this.Os?this.Os.next():oc.ct),"readwrite-primary"===e?this.Ti(d).next(m=>!!m||this.Ei(d)).next(m=>{if(!m)throw Is(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new At(rt.FAILED_PRECONDITION,dC);return i(d)}).next(m=>this.vi(d).next(()=>m)):this.Oi(d).next(()=>i(d)))).then(h=>(d.raiseOnCommittedEvent(),h))}Oi(t){return NA(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new At(rt.FAILED_PRECONDITION,g4)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return NA(t).put("owner",e)}static D(){return sc.D()}Ai(t){const e=NA(t);return e.get("owner").next(i=>this.Ri(i)?(jt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ke.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Is(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,J.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return jt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Is("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Is("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function NA(n){return ua(n,"owner")}function ON(n){return ua(n,"clientMetadata")}function v4(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class y4{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=ui(),r=ui();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new y4(t,e.fromCache,i,r)}}class Gj{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(cN(e))return Ke.resolve(null);let i=Ra(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=vC(e,null,"F"),i=Ra(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=ui(...s);return this.Ui.getDocuments(t,a).next(d=>this.indexManager.getMinOffset(t,i).next(h=>{const m=this.ji(e,d);return this.zi(e,m,a,h.readTime)?this.Ki(t,vC(e,null,"F")):this.Wi(t,m,e,h)}))})))}Gi(t,e,i,r){return cN(e)||r.isEqual(Ln.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const a=this.ji(e,s);return this.zi(e,a,i,r)?this.Qi(t,e):(US()<=Po.in.DEBUG&&jt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dN(e)),this.Wi(t,a,e,v3(r,-1)))})}ji(t,e){let i=new wr(U3(t));return e.forEach((r,s)=>{yC(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return US()<=Po.in.DEBUG&&jt("QueryEngine","Using full collection scan to execute query:",dN(e)),this.Ui.getDocumentsMatchingQuery(t,e,ca.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}class MZ{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new br(oi),this.Yi=new Hc(s=>bp(s),Td),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function $j(n,t,e,i){return new MZ(n,t,e,i)}function Wj(n,t){return b4.apply(this,arguments)}function b4(){return b4=(0,lt.Z)(function*(n,t){const e=ln(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],d=[];let h=ui();for(const m of r){a.push(m.batchId);for(const b of m.mutations)h=h.add(b.key)}for(const m of s){d.push(m.batchId);for(const b of m.mutations)h=h.add(b.key)}return e.localDocuments.getDocuments(i,h).next(m=>({er:m,removedBatchIds:a,addedBatchIds:d}))})})}),b4.apply(this,arguments)}function Yj(n){const t=ln(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Zj(n,t,e){let i=ui(),r=ui();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let a=gl();return e.forEach((d,h)=>{const m=s.get(d);h.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(d)),h.isNoDocument()&&h.version.isEqual(Ln.min())?(t.removeEntry(d,h.readTime),a=a.insert(d,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||0===h.version.compareTo(m.version)&&m.hasPendingWrites?(t.addEntry(h),a=a.insert(d,h)):jt("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",h.version)}),{nr:a,sr:r}})}function NZ(n,t){const e=ln(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function RC(n,t){const e=ln(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,Ke.resolve(r)):e.Bs.allocateTargetId(i).next(a=>(r=new Bg(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function NC(n,t,e){return w4.apply(this,arguments)}function w4(){return w4=(0,lt.Z)(function*(n,t,e){const i=ln(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!Au(a))throw a;jt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),w4.apply(this,arguments)}function FN(n,t,e){const i=ln(n);let r=Ln.min(),s=ui();return i.persistence.runTransaction("Execute query","readonly",a=>function(d,h,m){const b=ln(d),x=b.Yi.get(m);return void 0!==x?Ke.resolve(b.Ji.get(x)):b.Bs.getTargetData(h,m)}(i,a,Ra(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,d.targetId).next(h=>{s=h})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,t,e?r:Ln.min(),e?s:ui())).next(d=>(Xj(i,V3(t),d),{documents:d,ir:s})))}function Kj(n,t){const e=ln(n),i=ln(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(a=>a?a.target:null))}function Qj(n,t){const e=ln(n),i=e.Xi.get(t)||Ln.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,v3(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Xj(e,t,r),r))}function Xj(n,t,e){let i=n.Xi.get(t)||Ln.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function x4(){return x4=(0,lt.Z)(function*(n,t,e,i){const r=ln(n);let s=ui(),a=gl();for(const m of e){const b=t.rr(m.metadata.name);m.document&&(s=s.add(b));const x=t.ur(m);x.setReadTime(t.cr(m.metadata.readTime)),a=a.insert(b,x)}const d=r.Zi.newChangeBuffer({trackRemovals:!0}),h=yield RC(r,(m=i,Ra(Ng(zi.fromString(`__bundle__/docs/${m}`)))));var m;return r.persistence.runTransaction("Apply bundle documents","readwrite",m=>Zj(m,d,a).next(b=>(d.apply(m),b)).next(b=>r.Bs.removeMatchingKeysForTargetId(m,h.targetId).next(()=>r.Bs.addMatchingKeys(m,s,h.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,b.nr,b.sr)).next(()=>b.nr)))}),x4.apply(this,arguments)}function OZ(n,t){return C4.apply(this,arguments)}function C4(){return C4=(0,lt.Z)(function*(n,t,e=ui()){const i=yield RC(n,Ra(a4(t.bundledQuery))),r=ln(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=w(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.qs.saveNamedQuery(s,t);const d=i.withResumeToken(po.EMPTY_BYTE_STRING,a);return r.Ji=r.Ji.insert(d.targetId,d),r.Bs.updateTargetData(s,d).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),C4.apply(this,arguments)}function Jj(n,t){return`firestore_clients_${n}_${t}`}function e7(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function E4(n,t){return`firestore_targets_${n}_${t}`}class LN{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new At(r.error.code,r.error.message))),a?new LN(t,e,r.state,s):(Is("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class PA{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new At(i.error.code,i.error.message))),s?new PA(t,i.state,r):(Is("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class BN{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=hN();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=b3(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new BN(t,s):(Is("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class I4{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new I4(e.clientId,e.onlineState):(Is("SharedClientState",`Failed to parse online state: ${t}`),null)}}class D4{constructor(){this.activeTargetIds=hN()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class S4{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new br(oi),this.started=!1,this.yr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Jj(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new D4),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,lt.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(Jj(t.persistenceKey,r));if(s){const a=BN.ar(r,s);a&&(t.gr=t.gr.insert(a.clientId,a))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(E4(this.persistenceKey,t));if(i){const r=PA.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(E4(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return jt("SharedClientState","READ",t,e),e}setItem(t,e){jt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){jt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(jt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Is("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,lt.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let a=oc.ct;if(null!=s)try{const d=JSON.parse(s);Pn("number"==typeof d),a=d}catch(d){Is("SharedClientState","Failed to read sequence number from WebStorage",d)}return a}(i.newValue);r!==oc.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new LN(this.currentUser,t,e,i),s=e7(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=e7(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=E4(this.persistenceKey,t),s=new PA(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return BN.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return LN.ar(new jo(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return PA.ar(r,e)}br(t){return I4.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,lt.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);jt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),a=[],d=[];return s.forEach(h=>{r.has(h)||a.push(h)}),r.forEach(h=>{s.has(h)||d.push(h)}),this.syncEngine.Wr(a,d).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=hN();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class t7{constructor(){this.Hr=new D4,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new D4,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class FZ{Yr(t){}shutdown(){}}class n7{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){jt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){jt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let VN=null;function A4(){return null===VN?VN=268435456+Math.round(2147483648*Math.random()):VN++,"0x"+VN.toString(16)}const LZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BZ{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const vl="WebChannelConnection";class VZ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const a=A4(),d=this.To(t,e);jt("RestConnection",`Sending RPC '${t}' ${a}:`,d,i);const h={};return this.Eo(h,r,s),this.Ao(t,d,h,i).then(m=>(jt("RestConnection",`Received RPC '${t}' ${a}: `,m),m),m=>{throw ml("RestConnection",`RPC '${t}' ${a} failed with error: `,m,"url: ",d,"request:",i),m})}vo(t,e,i,r,s,a){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ig,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${LZ[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=A4();return new Promise((a,d)=>{const h=new h3;h.setWithCredentials(!0),h.listenOnce(aC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case VS.NO_ERROR:const b=h.getResponseJson();jt(vl,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(b)),a(b);break;case VS.TIMEOUT:jt(vl,`RPC '${t}' ${s} timed out`),d(new At(rt.DEADLINE_EXCEEDED,"Request time out"));break;case VS.HTTP_ERROR:const x=h.getStatus();if(jt(vl,`RPC '${t}' ${s} failed with status:`,x,"response text:",h.getResponseText()),x>0){let M=h.getResponseJson();Array.isArray(M)&&(M=M[0]);const D=M?.error;if(D&&D.status&&D.message){const P=function(F){const U=F.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(U)>=0?U:rt.UNKNOWN}(D.status);d(new At(P,D.message))}else d(new At(rt.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new At(rt.UNAVAILABLE,"Connection failed."));break;default:wn()}}finally{jt(vl,`RPC '${t}' ${s} completed.`)}});const m=JSON.stringify(r);jt(vl,`RPC '${t}' ${s} sending request:`,r),h.send(e,"POST",m,i,15)})}Ro(t,e,i){const r=A4(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=u3(),d=d3(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;void 0!==m&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.xmlHttpFactory=new CR({})),this.Eo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const b=s.join("");jt(vl,`Creating RPC '${t}' stream ${r}: ${b}`,h);const x=a.createWebChannel(b,h);let M=!1,D=!1;const P=new BZ({ro:U=>{D?jt(vl,`Not sending because RPC '${t}' stream ${r} is closed:`,U):(M||(jt(vl,`Opening RPC '${t}' stream ${r} transport.`),x.open(),M=!0),jt(vl,`RPC '${t}' stream ${r} sending:`,U),x.send(U))},oo:()=>x.close()}),F=(U,j,Z)=>{U.listen(j,ne=>{try{Z(ne)}catch(de){setTimeout(()=>{throw de},0)}})};return F(x,Cg.EventType.OPEN,()=>{D||jt(vl,`RPC '${t}' stream ${r} transport opened.`)}),F(x,Cg.EventType.CLOSE,()=>{D||(D=!0,jt(vl,`RPC '${t}' stream ${r} transport closed`),P.wo())}),F(x,Cg.EventType.ERROR,U=>{D||(D=!0,ml(vl,`RPC '${t}' stream ${r} transport errored:`,U),P.wo(new At(rt.UNAVAILABLE,"The operation could not be completed")))}),F(x,Cg.EventType.MESSAGE,U=>{var j;if(!D){const Z=U.data[0];Pn(!!Z);const de=Z.error||(null===(j=Z[0])||void 0===j?void 0:j.error);if(de){jt(vl,`RPC '${t}' stream ${r} received error:`,de);const ke=de.status;let Ye=function(he){const dt=Vs[he];if(void 0!==dt)return vN(dt)}(ke),Me=de.message;void 0===Ye&&(Ye=rt.INTERNAL,Me="Unknown error status: "+ke+" with message "+de.message),D=!0,P.wo(new At(Ye,Me)),x.close()}else jt(vl,`RPC '${t}' stream ${r} received:`,Z),P._o(Z)}}),F(d,wR.STAT_EVENT,U=>{U.stat===xR.PROXY?jt(vl,`RPC '${t}' stream ${r} detected buffering proxy`):U.stat===xR.NOPROXY&&jt(vl,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{P.fo()},0),P}}function i7(){return typeof window<"u"?window:null}function UN(){return typeof document<"u"?document:null}function OA(n){return new c(n,!0)}class T4{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&jt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class r7{constructor(t,e,i,r,s,a,d,h){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new T4(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,lt.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,lt.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,lt.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Is(e.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===rt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new At(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,lt.Z)(function*(){t.state=0,t.start()}))}tu(t){return jt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(jt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UZ extends r7{constructor(t,e,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function Rt(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:wn(),r=t.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(Pn(void 0===m||"string"==typeof m),po.fromBase64String(m||"")):(Pn(void 0===m||m instanceof Uint8Array),po.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,d=a&&function(h){const m=void 0===h.code?rt.UNKNOWN:vN(h.code);return new At(m,h.message||"")}(a);e=new t4(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=q(n,i.document.name),s=w(i.document.updateTime),a=i.document.createTime?w(i.document.createTime):Ln.min(),d=new lr({mapValue:{fields:i.document.fields}}),h=Lr.newFoundDocument(r,s,a,d);e=new IA(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=q(n,i.document),s=i.readTime?w(i.readTime):Ln.min(),a=Lr.newNoDocument(r,s);e=new IA([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=q(n,i.document);e=new IA([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return wn();{const i=t.filter,{count:r=0,unchangedNames:s}=i,a=new X3(r,s);e=new CN(i.targetId,a)}}var h;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Ln.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ln.min():s.readTime?w(s.readTime):Ln.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Pe(this.serializer),e.addTarget=function(r,s){let a;const d=s.target;if(a=Rg(d)?{documents:Za(r,d)}:{query:Mu(r,d)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=p(r,s.resumeToken);const h=u(r,s.expectedCount);null!==h&&(a.expectedCount=h)}else if(s.snapshotVersion.compareTo(Ln.min())>0){a.readTime=f(r,s.snapshotVersion.toTimestamp());const h=u(r,s.expectedCount);null!==h&&(a.expectedCount=h)}return a}(this.serializer,t);const i=function DA(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Pe(this.serializer),e.removeTarget=t,this.Wo(e)}}class jZ extends r7{constructor(t,e,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Pn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function hr(n,t){return n&&n.length>0?(Pn(void 0!==t),n.map(e=>function(i,r){let s=w(i.updateTime?i.updateTime:r);return s.isEqual(Ln.min())&&(s=w(r)),new Y3(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=w(t.commitTime);return this.listener.cu(i,e)}return Pn(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Pe(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Zn(this.serializer,i))};this.Wo(e)}}class HZ extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new At(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new At(rt.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,e,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new At(rt.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class qZ{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Is(e),this.mu=!1):jt("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class GZ{constructor(t,e,i,r,s){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(d=>{i.enqueueAndForget((0,lt.Z)(function*(){var h;Qv(a)&&(jt("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,lt.Z)(function*(m){const b=ln(m);b.vu.add(4),yield PC(b),b.bu.set("Unknown"),b.vu.delete(4),yield FA(b)}),function(m){return h.apply(this,arguments)})(a))}))}),this.bu=new qZ(i,r)}}function FA(n){return k4.apply(this,arguments)}function k4(){return k4=(0,lt.Z)(function*(n){if(Qv(n))for(const t of n.Ru)yield t(!0)}),k4.apply(this,arguments)}function PC(n){return R4.apply(this,arguments)}function R4(){return R4=(0,lt.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),R4.apply(this,arguments)}function jN(n,t){const e=ln(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),O4(e)?P4(e):FC(e).Ko()&&N4(e,t))}function LA(n,t){const e=ln(n),i=FC(e);e.Au.delete(t),i.Ko()&&s7(e,t),0===e.Au.size&&(i.Ko()?i.jo():Qv(e)&&e.bu.set("Unknown"))}function N4(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ln.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}FC(n).su(t)}function s7(n,t){n.Vu.qt(t),FC(n).iu(t)}function P4(n){n.Vu=new hj({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),FC(n).start(),n.bu.gu()}function O4(n){return Qv(n)&&!FC(n).Uo()&&n.Au.size>0}function Qv(n){return 0===ln(n).vu.size}function o7(n){n.Vu=void 0}function $Z(n){return F4.apply(this,arguments)}function F4(){return F4=(0,lt.Z)(function*(n){n.Au.forEach((t,e)=>{N4(n,t)})}),F4.apply(this,arguments)}function WZ(n,t){return L4.apply(this,arguments)}function L4(){return L4=(0,lt.Z)(function*(n,t){o7(n),O4(n)?(n.bu.Iu(t),P4(n)):n.bu.set("Unknown")}),L4.apply(this,arguments)}function YZ(n,t,e){return B4.apply(this,arguments)}function B4(){return B4=(0,lt.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof t4&&2===t.state&&t.cause)try{yield(i=(0,lt.Z)(function*(r,s){const a=s.cause;for(const d of s.targetIds)r.Au.has(d)&&(yield r.remoteSyncer.rejectListen(d,a),r.Au.delete(d),r.Vu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){jt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield HN(n,i)}else if(t instanceof IA?n.Vu.Ht(t):t instanceof CN?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Ln.min()))try{const i=yield Yj(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const a=r.Vu.ce(s);return a.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=r.Au.get(h);m&&r.Au.set(h,m.withResumeToken(d.resumeToken,s))}}),a.targetMismatches.forEach((d,h)=>{const m=r.Au.get(d);if(!m)return;r.Au.set(d,m.withResumeToken(po.EMPTY_BYTE_STRING,m.snapshotVersion)),s7(r,d);const b=new Bg(m.target,d,h,m.sequenceNumber);N4(r,b)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){jt("RemoteStore","Failed to raise snapshot:",i),yield HN(n,i)}var i}),B4.apply(this,arguments)}function HN(n,t,e){return V4.apply(this,arguments)}function V4(){return V4=(0,lt.Z)(function*(n,t,e){if(!Au(t))throw t;n.vu.add(1),yield PC(n),n.bu.set("Offline"),e||(e=()=>Yj(n.localStore)),n.asyncQueue.enqueueRetryable((0,lt.Z)(function*(){jt("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield FA(n)}))}),V4.apply(this,arguments)}function a7(n,t){return t().catch(e=>HN(n,e,t))}function OC(n){return U4.apply(this,arguments)}function U4(){return U4=(0,lt.Z)(function*(n){const t=ln(n),e=Xv(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;ZZ(t);)try{const r=yield NZ(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,KZ(t,r)}catch(r){yield HN(t,r)}l7(t)&&c7(t)}),U4.apply(this,arguments)}function ZZ(n){return Qv(n)&&n.Eu.length<10}function KZ(n,t){n.Eu.push(t);const e=Xv(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function l7(n){return Qv(n)&&!Xv(n).Uo()&&n.Eu.length>0}function c7(n){Xv(n).start()}function QZ(n){return j4.apply(this,arguments)}function j4(){return j4=(0,lt.Z)(function*(n){Xv(n).hu()}),j4.apply(this,arguments)}function XZ(n){return H4.apply(this,arguments)}function H4(){return H4=(0,lt.Z)(function*(n){const t=Xv(n);for(const e of n.Eu)t.uu(e.mutations)}),H4.apply(this,arguments)}function JZ(n,t,e){return z4.apply(this,arguments)}function z4(){return z4=(0,lt.Z)(function*(n,t,e){const i=n.Eu.shift(),r=EA.from(i,t,e);yield a7(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield OC(n)}),z4.apply(this,arguments)}function eK(n,t){return q4.apply(this,arguments)}function q4(){return q4=(0,lt.Z)(function*(n,t){var e;t&&Xv(n).ou&&(yield(e=(0,lt.Z)(function*(i,r){if(J3(s=r.code)&&s!==rt.ABORTED){const a=i.Eu.shift();Xv(i).Qo(),yield a7(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield OC(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),l7(n)&&c7(n)}),q4.apply(this,arguments)}function u7(n,t){return G4.apply(this,arguments)}function G4(){return G4=(0,lt.Z)(function*(n,t){const e=ln(n);e.asyncQueue.verifyOperationInProgress(),jt("RemoteStore","RemoteStore received new credentials");const i=Qv(e);e.vu.add(3),yield PC(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield FA(e)}),G4.apply(this,arguments)}function $4(n,t){return W4.apply(this,arguments)}function W4(){return W4=(0,lt.Z)(function*(n,t){const e=ln(n);t?(e.vu.delete(2),yield FA(e)):t||(e.vu.add(2),yield PC(e),e.bu.set("Unknown"))}),W4.apply(this,arguments)}function FC(n){return n.Su||(n.Su=function(t,e,i){const r=ln(t);return r.fu(),new UZ(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:$Z.bind(null,n),ao:WZ.bind(null,n),nu:YZ.bind(null,n)}),n.Ru.push(function(){var t=(0,lt.Z)(function*(e){e?(n.Su.Qo(),O4(n)?P4(n):n.bu.set("Unknown")):(yield n.Su.stop(),o7(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Xv(n){return n.Du||(n.Du=function(t,e,i){const r=ln(t);return r.fu(),new jZ(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:QZ.bind(null,n),ao:eK.bind(null,n),au:XZ.bind(null,n),cu:JZ.bind(null,n)}),n.Ru.push(function(){var t=(0,lt.Z)(function*(e){e?(n.Du.Qo(),yield OC(n)):(yield n.Du.stop(),n.Eu.length>0&&(jt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class Y4{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,s){const a=Date.now()+i,d=new Y4(t,e,a,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new At(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function LC(n,t){if(Is("AsyncQueue",`${t}: ${n}`),Au(n))return new At(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class BC{constructor(t){this.comparator=t?(e,i)=>t(e,i)||en.comparator(e.key,i.key):(e,i)=>en.comparator(e.key,i.key),this.keyedMap=Tu(),this.sortedSet=new br(this.comparator)}static emptySet(t){return new BC(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof BC)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new BC;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class d7{constructor(){this.Cu=new br(en.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):wn():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class VC{constructor(t,e,i,r,s,a,d,h,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,s){const a=[];return e.forEach(d=>{a.push({type:0,doc:d})}),new VC(t,e,BC.emptySet(e),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class tK{constructor(){this.Nu=void 0,this.listeners=[]}}class nK{constructor(){this.queries=new Hc(t=>B3(t),kb),this.onlineState="Unknown",this.ku=new Set}}function Z4(n,t){return K4.apply(this,arguments)}function K4(){return K4=(0,lt.Z)(function*(n,t){const e=ln(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new tK),r)try{s.Nu=yield e.onListen(i)}catch(a){const d=LC(a,`Initialization of query '${dN(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&J4(e)}),K4.apply(this,arguments)}function Q4(n,t){return X4.apply(this,arguments)}function X4(){return X4=(0,lt.Z)(function*(n,t){const e=ln(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const a=s.listeners.indexOf(t);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),X4.apply(this,arguments)}function iK(n,t){const e=ln(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const d of a.listeners)d.$u(r)&&(i=!0);a.Nu=r}}i&&J4(e)}function rK(n,t,e){const i=ln(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function J4(n){n.ku.forEach(t=>{t.next()})}class e6{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new VC(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=VC.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class sK{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class h7{constructor(t){this.serializer=t}rr(t){return q(this.serializer,t)}ur(t){return t.metadata.exists?on(this.serializer,t.document,!1):Lr.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return w(t)}}class oK{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=f7(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=zi.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new h7(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const a of r.metadata.queries){const d=(e.get(a)||ui()).add(s);e.set(a,d)}}return e}complete(){var t=this;return(0,lt.Z)(function*(){const e=yield function PZ(n,t,e,i){return x4.apply(this,arguments)}(t.localStore,new h7(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield OZ(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function f7(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class p7{constructor(t){this.key=t}}class m7{constructor(t){this.key=t}}class g7{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ui(),this.mutatedKeys=ui(),this.tc=U3(t),this.ec=new BC(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new d7,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,a=r,d=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,m="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,x)=>{const M=r.get(b),D=yC(this.query,x)?x:null,P=!!M&&this.mutatedKeys.has(M.key),F=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;M&&D?M.data.isEqual(D.data)?P!==F&&(i.track({type:3,doc:D}),U=!0):this.rc(M,D)||(i.track({type:2,doc:D}),U=!0,(h&&this.tc(D,h)>0||m&&this.tc(D,m)<0)&&(d=!0)):!M&&D?(i.track({type:0,doc:D}),U=!0):M&&!D&&(i.track({type:1,doc:M}),U=!0,(h||m)&&(d=!0)),U&&(D?(a=a.add(D),s=F?s.add(b):s.delete(b)):(a=a.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const b="F"===this.query.limitType?a.last():a.first();a=a.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{ec:a,ic:i,zi:d,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((m,b)=>function(x,M){const D=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wn()}};return D(x)-D(M)}(m.type,b.type)||this.tc(m.doc,b.doc)),this.oc(i);const a=e?this.uc():[],d=0===this.Zu.size&&this.current?1:0,h=d!==this.Xu;return this.Xu=d,0!==s.length||h?{snapshot:new VC(this.query,t.ec,r,s,t.mutatedKeys,0===d,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new d7,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=ui(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new m7(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new p7(i))}),e}hc(t){this.Yu=t.ir,this.Zu=ui();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return VC.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class aK{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class lK{constructor(t){this.key=t,this.fc=!1}}class cK{constructor(t,e,i,r,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Hc(d=>B3(d),kb),this._c=new Map,this.mc=new Set,this.gc=new br(en.comparator),this.yc=new Map,this.Ic=new p4,this.Tc={},this.Ec=new Map,this.Ac=Vb.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function uK(n,t){return t6.apply(this,arguments)}function t6(){return t6=(0,lt.Z)(function*(n,t){const e=E6(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const a=yield RC(e.localStore,Ra(t)),d=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield n6(e,t,i,"current"===d,a.resumeToken),e.isPrimaryClient&&jN(e.remoteStore,a)}return r}),t6.apply(this,arguments)}function n6(n,t,e,i,r){return i6.apply(this,arguments)}function i6(){return i6=(0,lt.Z)(function*(n,t,e,i,r){n.Rc=(x,M,D)=>{return(P=(0,lt.Z)(function*(F,U,j,Z){let ne=U.view.sc(j);ne.zi&&(ne=yield FN(F.localStore,U.query,!1).then(({documents:Ye})=>U.view.sc(Ye,ne)));const de=Z&&Z.targetChanges.get(U.targetId),ke=U.view.applyChanges(ne,F.isPrimaryClient,de);return f6(F,U.targetId,ke.cc),ke.snapshot}),function(F,U,j,Z){return P.apply(this,arguments)})(n,x,M,D);var P};const s=yield FN(n.localStore,t,!0),a=new g7(t,s.ir),d=a.sc(s.documents),h=AC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),m=a.applyChanges(d,n.isPrimaryClient,h);f6(n,e,m.cc);const b=new aK(t,e,a);return n.wc.set(t,b),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),m.snapshot}),i6.apply(this,arguments)}function dK(n,t){return r6.apply(this,arguments)}function r6(){return r6=(0,lt.Z)(function*(n,t){const e=ln(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!kb(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield NC(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),LA(e.remoteStore,i.targetId),UC(e,i.targetId)}).catch(Ph))):(UC(e,i.targetId),yield NC(e.localStore,i.targetId,!0))}),r6.apply(this,arguments)}function s6(){return s6=(0,lt.Z)(function*(n,t,e){const i=I6(n);try{const r=yield function(s,a){const d=ln(s),h=$r.now(),m=a.reduce((M,D)=>M.add(D.key),ui());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",M=>{let D=gl(),P=ui();return d.Zi.getEntries(M,m).next(F=>{D=F,D.forEach((U,j)=>{j.isValidDocument()||(P=P.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(M,D)).next(F=>{b=F;const U=[];for(const j of a){const Z=gN(j,b.get(j.key).overlayedDocument);null!=Z&&U.push(new Md(j.key,Z,iA(Z.value.mapValue),us.exists(!0)))}return d.mutationQueue.addMutationBatch(M,h,U,a)}).next(F=>{x=F;const U=F.applyToLocalDocumentSet(b,P);return d.documentOverlayCache.saveOverlays(M,F.batchId,U)})}).then(()=>({batchId:x.batchId,changes:pA(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,d){let h=s.Tc[s.currentUser.toKey()];h||(h=new br(oi)),h=h.insert(a,d),s.Tc[s.currentUser.toKey()]=h}(i,r.batchId,e),yield Vg(i,r.changes),yield OC(i.remoteStore)}catch(r){const s=LC(r,"Failed to persist write");e.reject(s)}}),s6.apply(this,arguments)}function _7(n,t){return o6.apply(this,arguments)}function o6(){return o6=(0,lt.Z)(function*(n,t){const e=ln(n);try{const i=yield function RZ(n,t){const e=ln(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const d=[];t.targetChanges.forEach((b,x)=>{const M=r.get(x);if(!M)return;d.push(e.Bs.removeMatchingKeys(s,b.removedDocuments,x).next(()=>e.Bs.addMatchingKeys(s,b.addedDocuments,x)));let D=M.withSequenceNumber(s.currentSequenceNumber);var P,F,U;null!==t.targetMismatches.get(x)?D=D.withResumeToken(po.EMPTY_BYTE_STRING,Ln.min()).withLastLimboFreeSnapshotVersion(Ln.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,i)),r=r.insert(x,D),F=D,U=b,(0===(P=M).resumeToken.approximateByteSize()||F.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&d.push(e.Bs.updateTargetData(s,D))});let h=gl(),m=ui();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(Zj(s,a,t.documentUpdates).next(b=>{h=b.nr,m=b.sr})),!i.isEqual(Ln.min())){const b=e.Bs.getLastRemoteSnapshotVersion(s).next(x=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return Ke.waitFor(d).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,h,m)).next(()=>h)}).then(s=>(e.Ji=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const a=e.yc.get(s);a&&(Pn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?Pn(a.fc):r.removedDocuments.size>0&&(Pn(a.fc),a.fc=!1))}),yield Vg(e,i,t)}catch(i){yield Ph(i)}}),o6.apply(this,arguments)}function v7(n,t,e){const i=ln(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,a)=>{const d=a.view.Mu(t);d.snapshot&&r.push(d.snapshot)}),function(s,a){const d=ln(s);d.onlineState=a;let h=!1;d.queries.forEach((m,b)=>{for(const x of b.listeners)x.Mu(a)&&(h=!0)}),h&&J4(d)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function fK(n,t,e){return a6.apply(this,arguments)}function a6(){return a6=(0,lt.Z)(function*(n,t,e){const i=ln(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let a=new br(en.comparator);a=a.insert(s,Lr.newNoDocument(s,Ln.min()));const d=ui().add(s),h=new SC(Ln.min(),new Map,new br(oi),a,d);yield _7(i,h),i.gc=i.gc.remove(s),i.yc.delete(t),p6(i)}else yield NC(i.localStore,t,!1).then(()=>UC(i,t,e)).catch(Ph)}),a6.apply(this,arguments)}function pK(n,t){return l6.apply(this,arguments)}function l6(){return l6=(0,lt.Z)(function*(n,t){const e=ln(n),i=t.batch.batchId;try{const r=yield function kZ(n,t){const e=ln(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(a,d,h,m){const b=h.batch,x=b.keys();let M=Ke.resolve();return x.forEach(D=>{M=M.next(()=>m.getEntry(d,D)).next(P=>{const F=h.docVersions.get(D);Pn(null!==F),P.version.compareTo(F)<0&&(b.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),m.addEntry(P)))})}),M.next(()=>a.mutationQueue.removeMutationBatch(d,b))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let d=ui();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(d=d.add(a.batch.mutations[h].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);h6(e,i,null),d6(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Vg(e,r)}catch(r){yield Ph(r)}}),l6.apply(this,arguments)}function mK(n,t,e){return c6.apply(this,arguments)}function c6(){return c6=(0,lt.Z)(function*(n,t,e){const i=ln(n);try{const r=yield function(s,a){const d=ln(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,a).next(b=>(Pn(null!==b),m=b.keys(),d.mutationQueue.removeMutationBatch(h,b))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,a)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(i.localStore,t);h6(i,t,e),d6(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Vg(i,r)}catch(r){yield Ph(r)}}),c6.apply(this,arguments)}function u6(){return u6=(0,lt.Z)(function*(n,t){const e=ln(n);Qv(e.remoteStore)||jt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=ln(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>a.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=LC(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),u6.apply(this,arguments)}function d6(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function h6(n,t,e){const i=ln(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function UC(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||y7(n,i)})}function y7(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(LA(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),p6(n))}function f6(n,t,e){for(const i of e)i instanceof p7?(n.Ic.addReference(i.key,t),_K(n,i)):i instanceof m7?(jt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||y7(n,i.key)):wn()}function _K(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(jt("SyncEngine","New document in limbo: "+e),n.mc.add(i),p6(n))}function p6(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new en(zi.fromString(t)),i=n.Ac.next();n.yc.set(i,new lK(e)),n.gc=n.gc.insert(e,i),jN(n.remoteStore,new Bg(Ra(Ng(e.path)),i,"TargetPurposeLimboResolution",oc.ct))}}function Vg(n,t,e){return m6.apply(this,arguments)}function m6(){return m6=(0,lt.Z)(function*(n,t,e){const i=ln(n),r=[],s=[],a=[];var d;i.wc.isEmpty()||(i.wc.forEach((d,h)=>{a.push(i.Rc(h,t,e).then(m=>{if((m||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,m?.fromCache?"not-current":"current"),m){r.push(m);const b=y4.Li(h.targetId,m);s.push(b)}}))}),yield Promise.all(a),i.dc.nu(r),yield(d=(0,lt.Z)(function*(h,m){const b=ln(h);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ke.forEach(m,M=>Ke.forEach(M.Fi,D=>b.persistence.referenceDelegate.addReference(x,M.targetId,D)).next(()=>Ke.forEach(M.Bi,D=>b.persistence.referenceDelegate.removeReference(x,M.targetId,D)))))}catch(x){if(!Au(x))throw x;jt("LocalStore","Failed to update sequence numbers: "+x)}for(const x of m){const M=x.targetId;if(!x.fromCache){const D=b.Ji.get(M),F=D.withLastLimboFreeSnapshotVersion(D.snapshotVersion);b.Ji=b.Ji.insert(M,F)}}}),function(h,m){return d.apply(this,arguments)})(i.localStore,s))}),m6.apply(this,arguments)}function vK(n,t){return g6.apply(this,arguments)}function g6(){return g6=(0,lt.Z)(function*(n,t){const e=ln(n);if(!e.currentUser.isEqual(t)){jt("SyncEngine","User change. New user:",t.toKey());const i=yield Wj(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(a=>{a.forEach(d=>{d.reject(new At(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Vg(e,i.er)}var r}),g6.apply(this,arguments)}function yK(n,t){const e=ln(n),i=e.yc.get(t);if(i&&i.fc)return ui().add(i.key);{let r=ui();const s=e._c.get(t);if(!s)return r;for(const a of s){const d=e.wc.get(a);r=r.unionWith(d.view.nc)}return r}}function bK(n,t){return _6.apply(this,arguments)}function _6(){return _6=(0,lt.Z)(function*(n,t){const e=ln(n),i=yield FN(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&f6(e,t.targetId,r.cc),r}),_6.apply(this,arguments)}function wK(n,t){return v6.apply(this,arguments)}function v6(){return v6=(0,lt.Z)(function*(n,t){const e=ln(n);return Qj(e.localStore,t).then(i=>Vg(e,i))}),v6.apply(this,arguments)}function xK(n,t,e,i){return y6.apply(this,arguments)}function y6(){return y6=(0,lt.Z)(function*(n,t,e,i){const r=ln(n),s=yield function(a,d){const h=ln(a),m=ln(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",b=>m.Sn(b,d).next(x=>x?h.localDocuments.getDocuments(b,x):Ke.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield OC(r.remoteStore):"acknowledged"===e||"rejected"===e?(h6(r,t,i||null),d6(r,t),d=t,ln(ln(r.localStore).mutationQueue).Cn(d)):wn(),yield Vg(r,s)):jt("SyncEngine","Cannot apply mutation batch with id: "+t)}),y6.apply(this,arguments)}function b6(){return b6=(0,lt.Z)(function*(n,t){const e=ln(n);if(E6(e),I6(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield b7(e,i.toArray());e.vc=!0,yield $4(e.remoteStore,!0);for(const s of r)jN(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(UC(e,a),NC(e.localStore,a,!0))),LA(e.remoteStore,a)}),yield r,yield b7(e,i),function(s){const a=ln(s);a.yc.forEach((d,h)=>{LA(a.remoteStore,h)}),a.Ic.Ts(),a.yc=new Map,a.gc=new br(en.comparator)}(e),e.vc=!1,yield $4(e.remoteStore,!1)}}),b6.apply(this,arguments)}function b7(n,t,e){return w6.apply(this,arguments)}function w6(){return w6=(0,lt.Z)(function*(n,t,e){const i=ln(n),r=[],s=[];for(const a of t){let d;const h=i._c.get(a);if(h&&0!==h.length){d=yield RC(i.localStore,Ra(h[0]));for(const m of h){const b=i.wc.get(m),x=yield bK(i,b);x.snapshot&&s.push(x.snapshot)}}else{const m=yield Kj(i.localStore,a);d=yield RC(i.localStore,m),yield n6(i,w7(m),a,!1,d.resumeToken)}r.push(d)}return i.dc.nu(s),r}),w6.apply(this,arguments)}function w7(n){return L3(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function EK(n){const t=ln(n);return ln(ln(t.localStore).persistence).$i()}function IK(n,t,e,i){return x6.apply(this,arguments)}function x6(){return x6=(0,lt.Z)(function*(n,t,e,i){const r=ln(n);if(r.vc)return void jt("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const a=yield Qj(r.localStore,V3(s[0])),d=SC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,po.EMPTY_BYTE_STRING);yield Vg(r,a,d);break}case"rejected":yield NC(r.localStore,t,!0),UC(r,t,i);break;default:wn()}}),x6.apply(this,arguments)}function DK(n,t,e){return C6.apply(this,arguments)}function C6(){return C6=(0,lt.Z)(function*(n,t,e){const i=E6(n);if(i.vc){for(const r of t){if(i._c.has(r)){jt("SyncEngine","Adding an already active target "+r);continue}const s=yield Kj(i.localStore,r),a=yield RC(i.localStore,s);yield n6(i,w7(s),a.targetId,!1,a.resumeToken),jN(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield NC(i.localStore,r,!1).then(()=>{LA(i.remoteStore,r),UC(i,r)}).catch(Ph))}}),C6.apply(this,arguments)}function E6(n){const t=ln(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=_7.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yK.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fK.bind(null,t),t.dc.nu=iK.bind(null,t.eventManager),t.dc.Pc=rK.bind(null,t.eventManager),t}function I6(n){const t=ln(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pK.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mK.bind(null,t),t}class BA{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,lt.Z)(function*(){e.serializer=OA(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return $j(this.persistence,new Gj,t.initialUser,this.serializer)}createPersistence(t){return new m4(NN.zs,this.serializer)}createSharedClientState(t){return new t7}terminate(){var t=this;return(0,lt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class D6 extends BA{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,lt.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield I6(i.Vc.syncEngine),yield OC(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return $j(this.persistence,new Gj,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Fj(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new Uv(e,this.persistence);return new PR(t.asyncQueue,i)}createPersistence(t){const e=v4(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?_l.withCacheSize(this.cacheSizeBytes):_l.DEFAULT;return new _4(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,i7(),UN(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new t7}}class x7 extends D6{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,lt.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof S4&&(i.sharedClientState.syncEngine={jr:xK.bind(null,r),zr:IK.bind(null,r),Wr:DK.bind(null,r),$i:EK.bind(null,r),Qr:wK.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,lt.Z)(function*(a){yield function CK(n,t){return b6.apply(this,arguments)}(i.Vc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=i7();if(!S4.D(e))throw new At(rt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=v4(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new S4(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class jC{initialize(t,e){var i=this;return(0,lt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>v7(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=vK.bind(null,i.syncEngine),yield $4(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new nK}createDatastore(t){const e=OA(t.databaseInfo.databaseId),i=new VZ(t.databaseInfo);return new HZ(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>v7(this.syncEngine,d,0),a=n7.D()?new n7:new FZ,new GZ(e,i,r,s,a);var e,i,r,s,a}createSyncEngine(t,e){return function(i,r,s,a,d,h,m){const b=new cK(i,r,s,a,d,h);return m&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,lt.Z)(function*(e){const i=ln(e);jt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield PC(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function C7(n,t=10240){let e=0;return{read:()=>(0,lt.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,lt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class zN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Is("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class TK{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Ls,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,lt.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,lt.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,lt.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new sK(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,lt.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,lt.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,lt.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class MK{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,lt.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new At(rt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,lt.Z)(function*(s,a){const d=ln(s),h=Pe(d.serializer)+"/documents",m={documents:a.map(D=>B(d.serializer,D))},b=yield d.vo("BatchGetDocuments",h,m,a.length),x=new Map;b.forEach(D=>{const P=function Un(n,t){return"found"in t?function(e,i){Pn(!!i.found);const r=q(e,i.found.name),s=w(i.found.updateTime),a=i.found.createTime?w(i.found.createTime):Ln.min(),d=new lr({mapValue:{fields:i.found.fields}});return Lr.newFoundDocument(r,s,a,d)}(n,t):"missing"in t?function(e,i){Pn(!!i.missing),Pn(!!i.readTime);const r=q(e,i.missing),s=w(i.readTime);return Lr.newNoDocument(r,s)}(n,t):wn()}(d.serializer,D);x.set(P.key.toString(),P)});const M=[];return a.forEach(D=>{const P=x.get(D.toString());Pn(!!P),M.push(P)}),M}),function(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Cp(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,lt.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=en.fromPath(r);t.mutations.push(new CC(s,t.precondition(s)))}),yield(i=(0,lt.Z)(function*(r,s){const a=ln(r),d=Pe(a.serializer)+"/documents",h={writes:s.map(m=>Zn(a.serializer,m))};yield a.Io("Commit",d,h)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw wn();e=Ln.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new At(rt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Ln.min())?us.exists(!1):us.updateTime(e):us.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ln.min()))throw new At(rt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return us.updateTime(e)}return us.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class kK{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new T4(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,lt.Z)(function*(){const e=new MK(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!jv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!J3(e)}return!1}}class RK{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=jo.UNAUTHENTICATED,this.clientId=qS.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,lt.Z)(function*(d){jt("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(jt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,lt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new At(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,lt.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=LC(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function qN(n,t){return S6.apply(this,arguments)}function S6(){return S6=(0,lt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),jt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,lt.Z)(function*(s){i.isEqual(s)||(yield Wj(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),S6.apply(this,arguments)}function A6(n,t){return T6.apply(this,arguments)}function T6(){return T6=(0,lt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield M6(n);jt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>u7(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>u7(t.remoteStore,s)),n._onlineComponents=t}),T6.apply(this,arguments)}function E7(n){return"FirebaseError"===n.name?n.code===rt.FAILED_PRECONDITION||n.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function M6(n){return k6.apply(this,arguments)}function k6(){return k6=(0,lt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){jt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qN(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!E7(e))throw e;ml("Error using user provided cache. Falling back to memory cache: "+e),yield qN(n,new BA)}}else jt("FirestoreClient","Using default OfflineComponentProvider"),yield qN(n,new BA);return n._offlineComponents}),k6.apply(this,arguments)}function GN(n){return R6.apply(this,arguments)}function R6(){return R6=(0,lt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(jt("FirestoreClient","Using user provided OnlineComponentProvider"),yield A6(n,n._uninitializedComponentsProvider._online)):(jt("FirestoreClient","Using default OnlineComponentProvider"),yield A6(n,new jC))),n._onlineComponents}),R6.apply(this,arguments)}function I7(n){return M6(n).then(t=>t.persistence)}function $N(n){return M6(n).then(t=>t.localStore)}function D7(n){return GN(n).then(t=>t.remoteStore)}function N6(n){return GN(n).then(t=>t.syncEngine)}function HC(n){return P6.apply(this,arguments)}function P6(){return P6=(0,lt.Z)(function*(n){const t=yield GN(n),e=t.eventManager;return e.onListen=uK.bind(null,t.syncEngine),e.onUnlisten=dK.bind(null,t.syncEngine),e}),P6.apply(this,arguments)}function A7(n,t,e={}){const i=new Ls;return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return function(r,s,a,d,h){const m=new zN({next:x=>{s.enqueueAndForget(()=>Q4(r,b));const M=x.docs.has(a);!M&&x.fromCache?h.reject(new At(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&x.fromCache&&d&&"server"===d.source?h.reject(new At(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),b=new e6(Ng(a.path),m,{includeMetadataChanges:!0,Ku:!0});return Z4(r,b)}(yield HC(n),n.asyncQueue,t,e,i)})),i.promise}function T7(n,t,e={}){const i=new Ls;return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return function(r,s,a,d,h){const m=new zN({next:x=>{s.enqueueAndForget(()=>Q4(r,b)),x.fromCache&&"server"===d.source?h.reject(new At(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),b=new e6(a,m,{includeMetadataChanges:!0,Ku:!0});return Z4(r,b)}(yield HC(n),n.asyncQueue,t,e,i)})),i.promise}function M7(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const k7=new Map;function O6(n,t,e){if(!e)throw new At(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function R7(n,t,e,i){if(!0===t&&!0===i)throw new At(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function N7(n){if(!en.isDocumentKey(n))throw new At(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function P7(n){if(en.isDocumentKey(n))throw new At(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WN(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":wn()}function Yi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new At(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=WN(n);throw new At(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function O7(n,t){if(t<=0)throw new At(rt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class F7{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new At(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new At(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}R7("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=M7(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new At(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new At(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new At(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class VA{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new At(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new At(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F7(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new HS;switch(e.type){case"firstParty":return new _3(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new At(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=k7.get(t);e&&(jt("ComponentProvider","Removing Datastore"),k7.delete(t),e.terminate())}(this),Promise.resolve()}}class ds{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ep(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ds(this.firestore,t,this._key)}}class Ka{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ka(this.firestore,t,this._query)}}class Ep extends Ka{constructor(t,e,i){super(t,e,Ng(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ds(this.firestore,null,new en(t))}withConverter(t){return new Ep(this.firestore,t,this._path)}}function B7(n,t,...e){if(n=(0,J.m9)(n),O6("collection","path",t),n instanceof VA){const i=zi.fromString(t,...e);return P7(i),new Ep(n,null,i)}{if(!(n instanceof ds||n instanceof Ep))throw new At(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zi.fromString(t,...e));return P7(i),new Ep(n.firestore,null,i)}}function YN(n,t,...e){if(n=(0,J.m9)(n),1===arguments.length&&(t=qS.A()),O6("doc","path",t),n instanceof VA){const i=zi.fromString(t,...e);return N7(i),new ds(n,null,new en(i))}{if(!(n instanceof ds||n instanceof Ep))throw new At(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zi.fromString(t,...e));return N7(i),new ds(n.firestore,n instanceof Ep?n.converter:null,new en(i))}}function V7(n,t){return n=(0,J.m9)(n),t=(0,J.m9)(t),(n instanceof ds||n instanceof Ep)&&(t instanceof ds||t instanceof Ep)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function F6(n,t){return n=(0,J.m9)(n),t=(0,J.m9)(t),n instanceof Ka&&t instanceof Ka&&n.firestore===t.firestore&&kb(n._query,t._query)&&n.converter===t.converter}class HK{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new T4(this,"async_queue_retry"),this.Xc=()=>{const e=UN();e&&jt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=UN();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=UN();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Ls;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,lt.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Au(e))throw e;jt("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Is("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=Y4.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&wn()}verifyOperationInProgress(){}sa(){var t=this;return(0,lt.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function L6(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class zK{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ls,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class hs extends VA{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new HK,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||U7(this),this._firestoreClient.terminate()}}function mo(n){return n._firestoreClient||U7(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function U7(n){var t,e,i;const r=n._freezeSettings(),s=(d=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new R3(n._databaseId,d,n._persistenceKey,(m=r).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,M7(m.experimentalLongPollingOptions),m.useFetchStreams));var d,m;n._firestoreClient=new RK(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function j7(n,t,e){const i=new Ls;return n.asyncQueue.enqueue((0,lt.Z)(function*(){try{yield qN(n,e),yield A6(n,t),i.resolve()}catch(r){const s=r;if(!E7(s))throw s;ml("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function H7(n){if(n._initialized||n._terminated)throw new At(rt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ip{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ip(po.fromBase64String(t))}catch(e){throw new At(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ip(po.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ug{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new At(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class jb{constructor(t){this._methodName=t}}class ZN{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new At(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new At(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return oi(this._lat,t._lat)||oi(this._long,t._long)}}const eQ=/^__.*__$/;class tQ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Md(t,this.data,this.fieldMask,e,this.fieldTransforms):new Gv(t,this.data,e,this.fieldTransforms)}}class z7{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Md(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function q7(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wn()}}class KN{constructor(t,e,i,r,s,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new KN(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return JN(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(q7(this.ca)&&eQ.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class nQ{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||OA(t)}ya(t,e,i,r=!1){return new KN({ca:t,methodName:e,ga:i,path:Vi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hb(n){const t=n._freezeSettings(),e=OA(n._databaseId);return new nQ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function QN(n,t,e,i,r,s={}){const a=n.ya(s.merge||s.mergeFields?2:0,t,e,r);j6("Data must be an object, but it was:",a,i);const d=W7(i,a);let h,m;if(s.merge)h=new ac(a.fieldMask),m=a.fieldTransforms;else if(s.mergeFields){const b=[];for(const x of s.mergeFields){const M=HA(t,x,e);if(!a.contains(M))throw new At(rt.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Z7(b,M)||b.push(M)}h=new ac(b),m=a.fieldTransforms.filter(x=>h.covers(x.field))}else h=null,m=a.fieldTransforms;return new tQ(new lr(d),h,m)}class jA extends jb{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jA}}function G7(n,t,e){return new KN({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class B6 extends jb{_toFieldTransform(t){return new Fg(t.path,new Pg)}isEqual(t){return t instanceof B6}}class iQ extends jb{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=G7(this,t,!0),i=this.pa.map(s=>zb(s,e)),r=new wp(i);return new Fg(t.path,r)}isEqual(t){return this===t}}class rQ extends jb{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=G7(this,t,!0),i=this.pa.map(s=>zb(s,e)),r=new Og(i);return new Fg(t.path,r)}isEqual(t){return this===t}}class sQ extends jb{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new xp(t.serializer,fN(t.serializer,this.Ia));return new Fg(t.path,e)}isEqual(t){return this===t}}function V6(n,t,e,i){const r=n.ya(1,t,e);j6("Data must be an object, but it was:",r,i);const s=[],a=lr.empty();Ag(i,(h,m)=>{const b=XN(t,h,e);m=(0,J.m9)(m);const x=r.da(b);if(m instanceof jA)s.push(b);else{const M=zb(m,x);null!=M&&(s.push(b),a.set(b,M))}});const d=new ac(s);return new z7(a,d,r.fieldTransforms)}function U6(n,t,e,i,r,s){const a=n.ya(1,t,e),d=[HA(t,i,e)],h=[r];if(s.length%2!=0)throw new At(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)d.push(HA(t,s[M])),h.push(s[M+1]);const m=[],b=lr.empty();for(let M=d.length-1;M>=0;--M)if(!Z7(m,d[M])){const D=d[M];let P=h[M];P=(0,J.m9)(P);const F=a.da(D);if(P instanceof jA)m.push(D);else{const U=zb(P,F);null!=U&&(m.push(D),b.set(D,U))}}const x=new ac(m);return new z7(b,x,a.fieldTransforms)}function $7(n,t,e,i=!1){return zb(e,n.ya(i?4:3,t))}function zb(n,t){if(Y7(n=(0,J.m9)(n)))return j6("Unsupported field value:",t,n),W7(n,t);if(n instanceof jb)return function(e,i){if(!q7(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const a of e){let d=zb(a,i.wa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,J.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fN(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=$r.fromDate(e);return{timestampValue:f(i.serializer,r)}}if(e instanceof $r){const r=new $r(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:f(i.serializer,r)}}if(e instanceof ZN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ip)return{bytesValue:p(i.serializer,e._byteString)};if(e instanceof ds){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:S(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${WN(e)}`)}(n,t)}function W7(n,t){const e={};return JS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ag(n,(i,r)=>{const s=zb(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function Y7(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $r||n instanceof ZN||n instanceof Ip||n instanceof ds||n instanceof jb)}function j6(n,t,e){if(!Y7(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=WN(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function HA(n,t,e){if((t=(0,J.m9)(t))instanceof Ug)return t._internalPath;if("string"==typeof t)return XN(n,t);throw JN("Field path arguments must be of type string or ",n,!1,void 0,e)}const oQ=new RegExp("[~\\*/\\[\\]]");function XN(n,t,e){if(t.search(oQ)>=0)throw JN(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ug(...t.split("."))._internalPath}catch{throw JN(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function JN(n,t,e,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(s||a)&&(h+=" (found",s&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new At(rt.INVALID_ARGUMENT,d+n+h)}function Z7(n,t){return n.some(e=>e.isEqual(t))}class zA{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ds(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new aQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(e5("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class aQ extends zA{data(){return super.data()}}function e5(n,t){return"string"==typeof t?XN(n,t):t instanceof Ug?t._internalPath:t._delegate._internalPath}function K7(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new At(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H6{}class qA extends H6{}function Jv(n,t,...e){let i=[];t instanceof H6&&i.push(t),i=i.concat(e),function(r){const s=r.filter(d=>d instanceof zC).length,a=r.filter(d=>d instanceof GA).length;if(s>1||s>0&&a>0)throw new At(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class GA extends qA{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new GA(t,e,i)}_apply(t){const e=this._parse(t);return eH(t._query,e),new Ka(t.firestore,t.converter,hA(t._query,e))}_parse(t){const e=Hb(t.firestore);return function(r,s,a,d,h,m,b){let x;if(h.isKeyField()){if("array-contains"===m||"array-contains-any"===m)throw new At(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if("in"===m||"not-in"===m){J7(b,m);const M=[];for(const D of b)M.push(X7(d,r,D));x={arrayValue:{values:M}}}else x=X7(d,r,b)}else"in"!==m&&"not-in"!==m&&"array-contains-any"!==m||J7(b,m),x=$7(a,"where",b,"in"===m||"not-in"===m);return Oi.create(h,m,x)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class zC extends H6{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new zC(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:er.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const d of a)eH(s,d),s=hA(s,d)}(t._query,e),new Ka(t.firestore,t.converter,hA(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class z6 extends qA{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new z6(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new At(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new At(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new vp(r,s);return function(d,h){if(null===uA(d)){const m=dA(d);null!==m&&tH(0,m,h.field)}}(i,a),a}(t._query,this._field,this._direction);return new Ka(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Fh(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class t5 extends qA{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new t5(t,e,i)}_apply(t){return new Ka(t.firestore,t.converter,vC(t._query,this._limit,this._limitType))}}class n5 extends qA{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new n5(t,e,i)}_apply(t){const e=Q7(t,this.type,this._docOrFields,this._inclusive);return new Ka(t.firestore,t.converter,(r=e,new Fh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class r5 extends qA{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new r5(t,e,i)}_apply(t){const e=Q7(t,this.type,this._docOrFields,this._inclusive);return new Ka(t.firestore,t.converter,(r=e,new Fh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Q7(n,t,e,i){if(e[0]=(0,J.m9)(e[0]),e[0]instanceof zA)return function(r,s,a,d,h){if(!d)throw new At(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const m=[];for(const b of qv(r))if(b.field.isKeyField())m.push(Mg(s,d.key));else{const x=d.data.field(b.field);if(hp(x))throw new At(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const M=b.field.canonicalString();throw new At(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}m.push(x)}return new _p(m,h)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Hb(n.firestore);return function(s,a,d,h,m,b){const x=s.explicitOrderBy;if(m.length>x.length)throw new At(rt.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let D=0;D<m.length;D++){const P=m[D];if(x[D].field.isKeyField()){if("string"!=typeof P)throw new At(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof P}`);if(!uN(s)&&-1!==P.indexOf("/"))throw new At(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${P}' contains a slash.`);const F=s.path.child(zi.fromString(P));if(!en.isDocumentKey(F))throw new At(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${F}' is not because it contains an odd number of segments.`);const U=new en(F);M.push(Mg(a,U))}else{const F=$7(d,h,P);M.push(F)}}return new _p(M,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function X7(n,t,e){if("string"==typeof(e=(0,J.m9)(e))){if(""===e)throw new At(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uN(t)&&-1!==e.indexOf("/"))throw new At(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(zi.fromString(e));if(!en.isDocumentKey(i))throw new At(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Mg(n,new en(i))}if(e instanceof ds)return Mg(n,e._key);throw new At(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${WN(e)}.`)}function J7(n,t){if(!Array.isArray(n)||0===n.length)throw new At(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eH(n,t){if(t.isInequality()){const i=dA(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new At(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=uA(n);null!==s&&tH(0,r,s)}const e=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new At(rt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function tH(n,t,e){if(!e.isEqual(t))throw new At(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class q6{convertValue(t,e="none"){switch(mp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Oh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw wn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ag(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new ZN(Bs(t.latitude),Bs(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Tg(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Db(t));default:return null}}convertTimestamp(t){const e=dp(t);return new $r(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=zi.fromString(t);Pn(mj(i));const r=new fp(i.get(1),i.get(3)),s=new en(i.popFirst(5));return r.isEqual(e)||Is(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function s5(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class gQ extends q6{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ip(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ds(this.firestore,null,e)}}class qb{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jg extends zA{constructor(t,e,i,r,s,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new $A(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(e5("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class $A extends jg{data(t={}){return super.data(t)}}class ey{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new qb(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new $A(this._firestore,this._userDataWriter,i.key,i,new qb(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new At(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new $A(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const d=new $A(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return 0!==a.type&&(h=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),m=s.indexOf(a.doc.key)),{type:vQ(a.type),doc:d,oldIndex:h,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function vQ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wn()}}function iH(n,t){return n instanceof jg&&t instanceof jg?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof ey&&t instanceof ey&&n._firestore===t._firestore&&F6(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class ty extends q6{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ip(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ds(this.firestore,null,e)}}function rH(n,t,e){n=Yi(n,ds);const i=Yi(n.firestore,hs),r=s5(n.converter,t,e);return qC(i,[QN(Hb(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,us.none())])}function sH(n,t,e,...i){n=Yi(n,ds);const r=Yi(n.firestore,hs),s=Hb(r);let a;return a="string"==typeof(t=(0,J.m9)(t))||t instanceof Ug?U6(s,"updateDoc",n._key,t,e,i):V6(s,"updateDoc",n._key,t),qC(r,[a.toMutation(n._key,us.exists(!0))])}function oH(n,...t){var e,i,r;n=(0,J.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||L6(t[a])||(s=t[a],a++);const d={includeMetadataChanges:s.includeMetadataChanges};if(L6(t[a])){const x=t[a];t[a]=null===(e=x.next)||void 0===e?void 0:e.bind(x),t[a+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),t[a+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let h,m,b;if(n instanceof ds)m=Yi(n.firestore,hs),b=Ng(n._key.path),h={next:x=>{t[a]&&t[a](G6(m,n,x))},error:t[a+1],complete:t[a+2]};else{const x=Yi(n,Ka);m=Yi(x.firestore,hs),b=x._query;const M=new ty(m);h={next:D=>{t[a]&&t[a](new ey(m,M,x,D))},error:t[a+1],complete:t[a+2]},K7(n._query)}return function(x,M,D,P){const F=new zN(P),U=new e6(M,F,D);return x.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return Z4(yield HC(x),U)})),()=>{F.Dc(),x.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return Q4(yield HC(x),U)}))}}(mo(m),b,d,h)}function qC(n,t){return function(e,i){const r=new Ls;return e.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return function hK(n,t,e){return s6.apply(this,arguments)}(yield N6(e),i,r)})),r.promise}(mo(n),t)}function G6(n,t,e){const i=e.docs.get(t._key),r=new ty(n);return new jg(n,r,t._key,i,new qb(e.hasPendingWrites,e.fromCache),t.converter)}const FQ={maxAttempts:5};class aH{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Hb(t)}set(t,e,i){this._verifyNotCommitted();const r=ny(t,this._firestore),s=s5(r.converter,e,i),a=QN(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,us.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=ny(t,this._firestore);let a;return a="string"==typeof(e=(0,J.m9)(e))||e instanceof Ug?U6(this._dataReader,"WriteBatch.update",s._key,e,i,r):V6(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,us.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=ny(t,this._firestore);return this._mutations=this._mutations.concat(new Cp(e._key,us.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new At(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ny(n,t){if((n=(0,J.m9)(n)).firestore!==t)throw new At(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class LQ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Hb(t)}get(t){const e=ny(t,this._firestore),i=new gQ(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return wn();const s=r[0];if(s.isFoundDocument())return new zA(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new zA(this._firestore,i,e._key,null,e.converter);throw wn()})}set(t,e,i){const r=ny(t,this._firestore),s=s5(r.converter,e,i),a=QN(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const s=ny(t,this._firestore);let a;return a="string"==typeof(e=(0,J.m9)(e))||e instanceof Ug?U6(this._dataReader,"Transaction.update",s._key,e,i,r):V6(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this}delete(t){const e=ny(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=ny(t,this._firestore),i=new ty(this._firestore);return super.get(t).then(r=>new jg(this._firestore,i,e._key,r._document,new qb(!1,!1),e.converter))}}function $6(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new At("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function cH(){if(typeof Uint8Array>"u")throw new At("unimplemented","Uint8Arrays are not available in this environment.")}function uH(){if(!function YR(){return typeof atob<"u"}())throw new At("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Ig=Zs.SDK_VERSION,(0,Zs._registerComponent)(new No.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),a=new hs(new m3(e.getProvider("auth-internal")),new SR(e.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new At(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fp(d.options.projectId,h)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,Zs.registerVersion)(ER,"3.13.0",n),(0,Zs.registerVersion)(ER,"3.13.0","esm2017")}();class WA{constructor(t){this._delegate=t}static fromBase64String(t){return uH(),new WA(Ip.fromBase64String(t))}static fromUint8Array(t){return cH(),new WA(Ip.fromUint8Array(t))}toBase64(){return uH(),this._delegate.toBase64()}toUint8Array(){return cH(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function W6(n){return function $Q(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class WQ{enableIndexedDbPersistence(t,e){return function GK(n,t){H7(n=Yi(n,hs));const e=mo(n);if(e._uninitializedComponentsProvider)throw new At(rt.FAILED_PRECONDITION,"SDK cache is already specified.");ml("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new jC;return j7(e,r,new D6(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function $K(n){H7(n=Yi(n,hs));const t=mo(n);if(t._uninitializedComponentsProvider)throw new At(rt.FAILED_PRECONDITION,"SDK cache is already specified.");ml("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new jC;return j7(t,i,new x7(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function WK(n){if(n._initialized&&!n._terminated)throw new At(rt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ls;return n._queue.enqueueAndForgetEvenWhileRestricted((0,lt.Z)(function*(){try{yield(e=(0,lt.Z)(function*(i){if(!sc.D())return Promise.resolve();const r=i+"main";yield sc.delete(r)}),function(i){return e.apply(this,arguments)})(v4(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class dH{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof fp||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ml("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function L7(n,t,e,i={}){var r;const s=(n=Yi(n,VA))._getSettings(),a=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let d,h;if("string"==typeof i.mockUserToken)d=i.mockUserToken,h=jo.MOCK_USER;else{d=(0,J.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new At(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new jo(m)}n._authCredentials=new zS(new jS(d,h))}}(this._delegate,t,e,i)}enableNetwork(){return function ZK(n){return function NK(n){return n.asyncQueue.enqueue((0,lt.Z)(function*(){const t=yield I7(n),e=yield D7(n);return t.setNetworkEnabled(!0),function(i){const r=ln(i);return r.vu.delete(0),FA(r)}(e)}))}(mo(n=Yi(n,hs)))}(this._delegate)}disableNetwork(){return function KK(n){return function PK(n){return n.asyncQueue.enqueue((0,lt.Z)(function*(){const t=yield I7(n),e=yield D7(n);return t.setNetworkEnabled(!1),(i=(0,lt.Z)(function*(r){const s=ln(r);s.vu.add(0),yield PC(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(mo(n=Yi(n,hs)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,R7("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function YK(n){return function(t){const e=new Ls;return t.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return function gK(n,t){return u6.apply(this,arguments)}(yield N6(t),e)})),e.promise}(mo(n=Yi(n,hs)))}(this._delegate)}onSnapshotsInSync(t){return function SQ(n,t){return function LK(n,t){const e=new zN(t);return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return i=yield HC(n),r=e,ln(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return i=yield HC(n),r=e,void ln(i).ku.delete(r);var i,r}))}}(mo(n=Yi(n,hs)),L6(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new At("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new GC(this,B7(this._delegate,t))}catch(e){throw lc(e,"collection()","Firestore.collection()")}}doc(t){try{return new kd(this,YN(this._delegate,t))}catch(e){throw lc(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new cc(this,function jK(n,t){if(n=Yi(n,VA),O6("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new At(rt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ka(n,null,(e=t,new Fh(zi.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw lc(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function BQ(n,t,e){n=Yi(n,hs);const i=Object.assign(Object.assign({},FQ),e);return function(r){if(r.maxAttempts<1)throw new At(rt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const d=new Ls;return r.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){const h=yield function S7(n){return GN(n).then(t=>t.datastore)}(r);new kK(r.asyncQueue,h,a,s,d).run()})),d.promise}(mo(n),r=>t(new LQ(n,r)),i)}(this._delegate,e=>t(new hH(this,e)))}batch(){return mo(this._delegate),new fH(new aH(this._delegate,t=>qC(this._delegate,t)))}loadBundle(t){return function QK(n,t){const e=mo(n=Yi(n,hs)),i=new zK;return function BK(n,t,e,i){const r=function(s,a){let d;return d="string"==typeof s?e4().encode(s):s,h=function(h,m){if(h instanceof Uint8Array)return C7(h,m);if(h instanceof ArrayBuffer)return C7(new Uint8Array(h),m);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new TK(h,a);var h}(e,OA(t));n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){!function SK(n,t,e){const i=ln(n);var r;(r=(0,lt.Z)(function*(s,a,d){try{const h=yield a.getMetadata();if(yield function(M,D){const P=ln(M),F=w(D.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",U=>P.qs.getBundleMetadata(U,D.id)).then(U=>!!U&&U.createTime.compareTo(F)>=0)}(s.localStore,h))return yield a.close(),d._completeWith({taskState:"Success",documentsLoaded:(M=h).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);d._updateProgress(f7(h));const m=new oK(h,s.localStore,a.serializer);let b=yield a.bc();for(;b;){const M=yield m.zu(b);M&&d._updateProgress(M),b=yield a.bc()}const x=yield m.complete();return yield Vg(s,x.Ju,void 0),yield function(M,D){const P=ln(M);return P.persistence.runTransaction("Save bundle","readwrite",F=>P.qs.saveBundleMetadata(F,D))}(s.localStore,h),d._completeWith(x.progress),Promise.resolve(x.Hu)}catch(h){return ml("SyncEngine",`Loading bundle failed with ${h}`),d._failWith(h),Promise.resolve(new Set)}var M}),function(s,a,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield N6(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function XK(n,t){return function VK(n,t){return n.asyncQueue.enqueue((0,lt.Z)(function*(){return function(e,i){const r=ln(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield $N(n),t)}))}(mo(n=Yi(n,hs)),t).then(e=>e?new Ka(n,null,e.query):null)}(this._delegate,t).then(e=>e?new cc(this,e):null)}}class o5 extends q6{constructor(t){super(),this.firestore=t}convertBytes(t){return new WA(new Ip(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return kd.forKey(e,this.firestore,null)}}class hH{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new o5(t)}get(t){const e=$b(t);return this._delegate.get(e).then(i=>new YA(this._firestore,new jg(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=$b(t);return i?($6("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=$b(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=$b(t);return this._delegate.delete(e),this}}class fH{constructor(t){this._delegate=t}set(t,e,i){const r=$b(t);return i?($6("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=$b(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=$b(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Gb{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new $A(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ZA(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Gb.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Gb(t,new o5(t),e),r.set(e,s)),s}}Gb.INSTANCES=new WeakMap;class kd{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new o5(t)}static forPath(t,e,i){if(t.length%2!=0)throw new At("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new kd(e,new ds(e._delegate,i,new en(t)))}static forKey(t,e,i){return new kd(e,new ds(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new GC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new GC(this.firestore,B7(this._delegate,t))}catch(e){throw lc(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,J.m9)(t))instanceof ds&&V7(this._delegate,t)}set(t,e){e=$6("DocumentReference.set",e);try{return e?rH(this._delegate,t,e):rH(this._delegate,t)}catch(i){throw lc(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?sH(this._delegate,t):sH(this._delegate,t,e,...i)}catch(r){throw lc(r,"updateDoc()","DocumentReference.update()")}}delete(){return function IQ(n){return qC(Yi(n.firestore,hs),[new Cp(n._key,us.none())])}(this._delegate)}onSnapshot(...t){const e=pH(t),i=mH(t,r=>new YA(this.firestore,new jg(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return oH(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function bQ(n){n=Yi(n,ds);const t=Yi(n.firestore,hs),e=mo(t),i=new ty(t);return function OK(n,t){const e=new Ls;return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return(i=(0,lt.Z)(function*(r,s,a){try{const d=yield function(h,m){const b=ln(h);return b.persistence.runTransaction("read document","readonly",x=>b.localDocuments.getDocument(x,m))}(r,s);d.isFoundDocument()?a.resolve(d):d.isNoDocument()?a.resolve(null):a.reject(new At(rt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const h=LC(d,`Failed to get document '${s} from cache`);a.reject(h)}}),function(r,s,a){return i.apply(this,arguments)})(yield $N(n),t,e);var i})),e.promise}(e,n._key).then(r=>new jg(t,i,n._key,r,new qb(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function wQ(n){n=Yi(n,ds);const t=Yi(n.firestore,hs);return A7(mo(t),n._key,{source:"server"}).then(e=>G6(t,n,e))}(this._delegate):function yQ(n){n=Yi(n,ds);const t=Yi(n.firestore,hs);return A7(mo(t),n._key).then(e=>G6(t,n,e))}(this._delegate),e.then(i=>new YA(this.firestore,new jg(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new kd(this.firestore,this._delegate.withConverter(t?Gb.getInstance(this.firestore,t):null))}}function lc(n,t,e){return n.message=n.message.replace(t,e),n}function pH(n){for(const t of n)if("object"==typeof t&&!W6(t))return t;return{}}function mH(n,t){var e,i;let r;return r=W6(n[0])?n[0]:W6(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class YA{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new kd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return iH(this._delegate,t._delegate)}}class ZA extends YA{data(t){const e=this._delegate.data(t);return function IR(n,t){n||wn()}(void 0!==e),e}}class cc{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new o5(t)}where(t,e,i){try{return new cc(this.firestore,Jv(this._delegate,function lQ(n,t,e){const i=t,r=e5("where",n);return GA._create(r,i,e)}(t,e,i)))}catch(r){throw lc(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new cc(this.firestore,Jv(this._delegate,function cQ(n,t="asc"){const e=t,i=e5("orderBy",n);return z6._create(i,e)}(t,e)))}catch(i){throw lc(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new cc(this.firestore,Jv(this._delegate,function uQ(n){return O7("limit",n),t5._create("limit",n,"F")}(t)))}catch(e){throw lc(e,"limit()","Query.limit()")}}limitToLast(t){try{return new cc(this.firestore,Jv(this._delegate,function dQ(n){return O7("limitToLast",n),t5._create("limitToLast",n,"L")}(t)))}catch(e){throw lc(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new cc(this.firestore,Jv(this._delegate,function hQ(...n){return n5._create("startAt",n,!0)}(...t)))}catch(e){throw lc(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new cc(this.firestore,Jv(this._delegate,function fQ(...n){return n5._create("startAfter",n,!1)}(...t)))}catch(e){throw lc(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new cc(this.firestore,Jv(this._delegate,function pQ(...n){return r5._create("endBefore",n,!1)}(...t)))}catch(e){throw lc(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new cc(this.firestore,Jv(this._delegate,function mQ(...n){return r5._create("endAt",n,!0)}(...t)))}catch(e){throw lc(e,"endAt()","Query.endAt()")}}isEqual(t){return F6(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function CQ(n){n=Yi(n,Ka);const t=Yi(n.firestore,hs),e=mo(t),i=new ty(t);return function FK(n,t){const e=new Ls;return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return(i=(0,lt.Z)(function*(r,s,a){try{const d=yield FN(r,s,!0),h=new g7(s,d.ir),m=h.sc(d.documents),b=h.applyChanges(m,!1);a.resolve(b.snapshot)}catch(d){const h=LC(d,`Failed to execute query '${s} against cache`);a.reject(h)}}),function(r,s,a){return i.apply(this,arguments)})(yield $N(n),t,e);var i})),e.promise}(e,n._query).then(r=>new ey(t,i,n,r))}(this._delegate):"server"===t?.source?function EQ(n){n=Yi(n,Ka);const t=Yi(n.firestore,hs),e=mo(t),i=new ty(t);return T7(e,n._query,{source:"server"}).then(r=>new ey(t,i,n,r))}(this._delegate):function xQ(n){n=Yi(n,Ka);const t=Yi(n.firestore,hs),e=mo(t),i=new ty(t);return K7(n._query),T7(e,n._query).then(r=>new ey(t,i,n,r))}(this._delegate),e.then(i=>new Y6(this.firestore,new ey(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=pH(t),i=mH(t,r=>new Y6(this.firestore,new ey(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return oH(this._delegate,e,i)}withConverter(t){return new cc(this.firestore,this._delegate.withConverter(t?Gb.getInstance(this.firestore,t):null))}}class ZQ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new ZA(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Y6{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new cc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ZA(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new ZQ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new ZA(this._firestore,i))})}isEqual(t){return iH(this._delegate,t._delegate)}}class GC extends cc{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new kd(this.firestore,t):null}doc(t){try{return new kd(this.firestore,void 0===t?YN(this._delegate):YN(this._delegate,t))}catch(e){throw lc(e,"doc()","CollectionReference.doc()")}}add(t){return function DQ(n,t){const e=Yi(n.firestore,hs),i=YN(n),r=s5(n.converter,t);return qC(e,[QN(Hb(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,us.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new kd(this.firestore,e))}isEqual(t){return V7(this._delegate,t._delegate)}withConverter(t){return new GC(this.firestore,this._delegate.withConverter(t?Gb.getInstance(this.firestore,t):null))}}function $b(n){return Yi(n,ds)}class Z6{constructor(...t){this._delegate=new Ug(...t)}static documentId(){return new Z6(Vi.keyField().canonicalString())}isEqual(t){return(t=(0,J.m9)(t))instanceof Ug&&this._delegate._internalPath.isEqual(t._internalPath)}}class Wb{constructor(t){this._delegate=t}static serverTimestamp(){const t=function UQ(){return new B6("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Wb(t)}static delete(){const t=function VQ(){return new jA("deleteField")}();return t._methodName="FieldValue.delete",new Wb(t)}static arrayUnion(...t){const e=function jQ(...n){return new iQ("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Wb(e)}static arrayRemove(...t){const e=function HQ(...n){return new rQ("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Wb(e)}static increment(t){const e=function zQ(n){return new sQ("increment",n)}(t);return e._methodName="FieldValue.increment",new Wb(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const KQ={Firestore:dH,GeoPoint:ZN,Timestamp:$r,Blob:WA,Transaction:hH,WriteBatch:fH,DocumentReference:kd,DocumentSnapshot:YA,Query:cc,QueryDocumentSnapshot:ZA,QuerySnapshot:Y6,CollectionReference:GC,FieldPath:Z6,FieldValue:Wb,setLogLevel:function YQ(n){!function p3(n){Su.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function gH(n,t){return function JQ(n,t=du.z){return new qr.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function K6(n,t){return gH(n,t).pipe((0,En.U)(e=>({payload:e,type:"query"})))}function a5(n,t){return K6(n,t).pipe(ec(void 0),tS(),(0,En.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,d)=>{const h=r.find(b=>b.doc.ref.isEqual(a.ref)),m=e?.payload.docs.find(b=>b.ref.isEqual(a.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(a.metadata)||!h&&m&&JSON.stringify(m.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:a}})}),s}))}function _H(n,t,e){return a5(n,e).pipe(Pi((i,r)=>function tX(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function nX(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Q6(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Q6(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Q6(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),(0,$a.x)(),(0,En.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Q6(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function vH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function XQ(n){(function QQ(n,t){n.INTERNAL.registerComponent(new No.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},KQ)))})(n,(t,e)=>new dH(t,e,new WQ)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(fu.Z);class yH{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=a5(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,En.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ec(void 0),tS(),Ar(([i,r])=>r.length>0||!i),(0,En.U)(([i,r])=>r),Yn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Pi((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=vH(t);return _H(this.query,e,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(t={}){return K6(this.query,this.afs.schedulers.outsideAngular).pipe((0,En.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Yn.iC)}get(t){return(0,yr.D)(this.query.get(t)).pipe(Yn.iC)}add(t){return this.ref.add(t)}doc(t){return new bH(this.ref.doc(t),this.afs)}}class bH{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=CH(i,e);return new yH(r,s,this.afs)}snapshotChanges(){return function eX(n,t){return gH(n,t).pipe(ec(void 0),tS(),(0,En.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,En.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,yr.D)(this.ref.get(t)).pipe(Yn.iC)}}class iX{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?a5(this.query,this.afs.schedulers.outsideAngular).pipe((0,En.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Ar(e=>e.length>0),Yn.iC):a5(this.query,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Pi((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=vH(t);return _H(this.query,e,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(t={}){return K6(this.query,this.afs.schedulers.outsideAngular).pipe((0,En.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Yn.iC)}get(t){return(0,yr.D)(this.query.get(t)).pipe(Yn.iC)}}const wH=new l.OlP("angularfire2.enableFirestorePersistence"),xH=new l.OlP("angularfire2.firestore.persistenceSettings"),rX=new l.OlP("angularfire2.firestore.settings"),sX=new l.OlP("angularfire2.firestore.use-emulator");function CH(n,t=(e=>e)){return{query:t(n),ref:n}}let X6=(()=>{class n{constructor(e,i,r,s,a,d,h,m,b,x,M,D,P,F,U,j,Z){this.schedulers=h;const ne=(0,_r.on)(e,d,i),de=b;x&&cx(ne,d,M,P,F,U,D,j),[this.firestore,this.persistenceEnabled$]=(0,_r.cc)(`${ne.name}.firestore`,"AngularFirestore",ne.name,()=>{const ke=d.runOutsideAngular(()=>ne.firestore());if(s&&ke.settings(s),de&&ke.useEmulator(...de),r&&!Zd(a)){const Ye=()=>{try{return(0,yr.D)(ke.enablePersistence(m||void 0).then(()=>!0,()=>!1))}catch(Me){return typeof console<"u"&&console.warn(Me),(0,_n.of)(!1)}};return[ke,d.runOutsideAngular(Ye)]}return[ke,(0,_n.of)(!1)]},[s,de,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:a}=CH(r,i),d=this.schedulers.ngZone.run(()=>s);return new yH(d,a,this)}collectionGroup(e,i){const r=i||(a=>a),s=this.firestore.collectionGroup(e);return new iX(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new bH(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(_r.Dh),l.LFG(_r.xv,8),l.LFG(wH,8),l.LFG(rX,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Yn.HU),l.LFG(xH,8),l.LFG(sX,8),l.LFG(eb,8),l.LFG(rx,8),l.LFG(sx,8),l.LFG(ox,8),l.LFG(J0,8),l.LFG(ax,8),l.LFG(lx,8),l.LFG(X0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oX=(()=>{class n{constructor(){ix.Z.registerVersion("angularfire",Yn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:wH,useValue:!0},{provide:xH,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[X6]}),n})();function J6(n,t=du.z){return(0,ts.e)((e,i)=>{let r=null,s=null,a=null;const d=()=>{if(r){r.unsubscribe(),r=null;const m=s;s=null,i.next(m)}};function h(){const m=a+n,b=t.now();if(b<m)return r=this.schedule(void 0,m-b),void i.add(r);d()}e.subscribe((0,Ti.x)(i,m=>{s=m,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}const EH="firebasestorage.googleapis.com",IH="storageBucket";class Us extends J.ZR{constructor(t,e,i=0){super(eB(t),`Firebase Storage: ${e} (${eB(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Us.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return eB(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ds=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Ds||{});function eB(n){return"storage/"+n}function tB(){return new Us(Ds.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function DH(){return new Us(Ds.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SH(){return new Us(Ds.CANCELED,"User canceled the upload/download.")}function AH(){return new Us(Ds.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $C(n){return new Us(Ds.INVALID_ARGUMENT,n)}function TH(){return new Us(Ds.APP_DELETED,"The Firebase app was deleted.")}function MH(n){return new Us(Ds.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function KA(n,t){return new Us(Ds.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function QA(n){throw new Us(Ds.INTERNAL_ERROR,"Internal error: "+n)}class yl{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=yl.makeFromUrl(t,e)}catch{return new yl(t,"")}if(""===i.path)return i;throw function gX(n){return new Us(Ds.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function m(de){de.path_=decodeURIComponent(de.path)}const x=e.replace(/[.]/g,"\\."),ne=[{regex:d,indices:{bucket:1,path:3},postModify:function s(de){"/"===de.path.charAt(de.path.length-1)&&(de.path_=de.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:m},{regex:new RegExp(`^https?://${e===EH?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:m}];for(let de=0;de<ne.length;de++){const ke=ne[de],Ye=ke.regex.exec(t);if(Ye){let he=Ye[ke.indices.path];he||(he=""),i=new yl(Ye[ke.indices.bucket],he),ke.postModify(i);break}}if(null==i)throw function mX(n){return new Us(Ds.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class wX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function l5(n){return"string"==typeof n||n instanceof String}function kH(n){return nB()&&n instanceof Blob}function nB(){return typeof Blob<"u"&&!(0,J.UG)()}function iB(n,t,e,i){if(i<t)throw $C(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw $C(`Invalid value for '${n}'. Expected ${e} or less.`)}function Hg(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function RH(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var WC=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(WC||{});function NH(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class SX{constructor(t,e,i,r,s,a,d,h,m,b,x,M=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=d,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=b,this.connectionFactory_=x,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,P)=>{this.resolve_=D,this.reject_=P,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,a=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());!function EX(n){return void 0!==n}(h)?s():s(h)}catch(h){a(h)}else if(null!==d){const h=tB();h.serverResponse=d.getErrorText(),a(this.errorCallback_?this.errorCallback_(d,h):h)}else a(r.canceled?this.appDelete_?TH():SH():DH())};this.canceled_?e(0,new c5(!1,null,!0)):this.backoffId_=function xX(n,t,e){let i=1,r=null,s=null,a=!1,d=0;function h(){return 2===d}let m=!1;function b(...U){m||(m=!0,t.apply(null,U))}function x(U){r=setTimeout(()=>{r=null,n(D,h())},U)}function M(){s&&clearTimeout(s)}function D(U,...j){if(m)return void M();if(U)return M(),void b.call(null,U,...j);if(h()||a)return M(),void b.call(null,U,...j);let ne;i<64&&(i*=2),1===d?(d=2,ne=0):ne=1e3*(i+Math.random()),x(ne)}let P=!1;function F(U){P||(P=!0,M(),!m&&(null!==r?(U||(d=2),clearTimeout(r),x(0)):U||(d=1)))}return x(0),s=setTimeout(()=>{a=!0,F(!0)},e),F}((i,r)=>{if(r)return void i(!1,new c5(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const d=s.getErrorCode()===WC.NO_ERROR,h=s.getStatus();if(!d||NH(h,this.additionalRetryCodes_)&&this.retry){const b=s.getErrorCode()===WC.ABORT;return void i(!1,new c5(!1,null,b))}const m=-1!==this.successCodes_.indexOf(h);i(!0,new c5(m,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function CX(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class c5{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function PX(...n){const t=function NX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(nB())return new Blob(n);throw new Us(Ds.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ku={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rB{constructor(t,e){this.data=t,this.contentType=e||null}}function sB(n,t){switch(n){case ku.RAW:return new rB(PH(t));case ku.BASE64:case ku.BASE64URL:return new rB(OH(n,t));case ku.DATA_URL:return new rB(function BX(n){const t=new FH(n);return t.base64?OH(ku.BASE64,t.rest):function LX(n){let t;try{t=decodeURIComponent(n)}catch{throw KA(ku.DATA_URL,"Malformed data URL.")}return PH(t)}(t.rest)}(t),function VX(n){return new FH(n).contentType}(t))}throw tB()}function PH(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function OH(n,t){switch(n){case ku.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw KA(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ku.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw KA(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function FX(n){if(typeof atob>"u")throw function bX(n){return new Us(Ds.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:KA(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class FH{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw KA(ku.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function UX(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Dp{constructor(t,e){let i=0,r="";kH(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(kH(this.data_)){const r=function OX(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Dp(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Dp(i,!0)}}static getBlob(...t){if(nB()){const e=t.map(i=>i instanceof Dp?i.data_:i);return new Dp(PX.apply(null,e))}{const e=t.map(a=>l5(a)?sB(ku.RAW,a).data:a.data_);let i=0;e.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(a=>{for(let d=0;d<a.length;d++)r[s++]=a[d]}),new Dp(r,!0)}}uploadData(){return this.data_}}function oB(n){let t;try{t=JSON.parse(n)}catch{return null}return function DX(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function LH(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function zX(n,t){return t}class uc{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||zX}}let u5=null;function XA(){if(u5)return u5;const n=[];n.push(new uc("bucket")),n.push(new uc("generation")),n.push(new uc("metageneration")),n.push(new uc("name","fullPath",!0));const e=new uc("name");e.xform=function t(s,a){return function qX(n){return!l5(n)||n.length<2?n:LH(n)}(a)},n.push(e);const r=new uc("size");return r.xform=function i(s,a){return void 0!==a?Number(a):a},n.push(r),n.push(new uc("timeCreated")),n.push(new uc("updated")),n.push(new uc("md5Hash",null,!0)),n.push(new uc("cacheControl",null,!0)),n.push(new uc("contentDisposition",null,!0)),n.push(new uc("contentEncoding",null,!0)),n.push(new uc("contentLanguage",null,!0)),n.push(new uc("contentType",null,!0)),n.push(new uc("metadata","customMetadata",!0)),u5=n,u5}function BH(n,t,e){const i=oB(t);return null===i?null:function $X(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const a=e[s];i[a.local]=a.xform(i,t[a.server])}return function GX(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new yl(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function aB(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const VH="prefixes",UH="items";class Sp{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ap(n){if(!n)throw tB()}function d5(n,t){return function e(i,r){const s=BH(n,r,t);return Ap(null!==s),s}}function YC(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function fX(){return new Us(Ds.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function hX(){return new Us(Ds.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function dX(n){return new Us(Ds.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function pX(n){return new Us(Ds.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function JA(n){const t=YC(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function uX(n){return new Us(Ds.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function jH(n,t,e){const r=Hg(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,d=new Sp(r,"GET",d5(n,e),a);return d.errorHandler=JA(t),d}function XX(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=Hg(t.bucketOnlyServerUrl(),n.host,n._protocol),m=n.maxOperationRetryTime,b=new Sp(d,"GET",function KX(n,t){return function e(i,r){const s=function ZX(n,t,e){const i=oB(e);return null===i?null:function YX(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[VH])for(const r of e[VH]){const s=r.replace(/\/$/,""),a=n._makeStorageReference(new yl(t,s));i.prefixes.push(a)}if(e[UH])for(const r of e[UH]){const s=n._makeStorageReference(new yl(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Ap(null!==s),s}}(n,t.bucket),m);return b.urlParams=s,b.errorHandler=YC(t),b}function zH(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function nJ(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class h5{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function lB(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ap(!1)}return Ap(!!e&&-1!==(t||["active"]).indexOf(e)),e}const oJ={STATE_CHANGED:"state_changed"},dc={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cB(n){switch(n){case"running":case"pausing":case"canceling":return dc.RUNNING;case"paused":return dc.PAUSED;case"success":return dc.SUCCESS;case"canceled":return dc.CANCELED;default:return dc.ERROR}}class aJ{constructor(t,e,i){if(function IX(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function ZC(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let $H=null;class lJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=WC.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=WC.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=WC.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw QA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw QA("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw QA("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw QA("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw QA("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class cJ extends lJ{initXhr(){this.xhr_.responseType="text"}}function Lh(){return $H?$H():new cJ}class WH{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=XA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ds.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(NH(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=DH()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ds.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function iJ(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),a=zH(t,i,r),d={name:a.fullPath},h=Hg(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},x=aB(a,e),P=new Sp(h,"POST",function D(F){let U;lB(F);try{U=F.getResponseHeader("X-Goog-Upload-URL")}catch{Ap(!1)}return Ap(l5(U)),U},n.maxUploadRetryTime);return P.urlParams=d,P.headers=b,P.body=x,P.errorHandler=YC(t),P}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Lh,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function rJ(n,t,e,i){const h=new Sp(e,"POST",function s(m){const b=lB(m,["active","final"]);let x=null;try{x=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ap(!1)}x||Ap(!1);const M=Number(x);return Ap(!isNaN(M)),new h5(M,i.size(),"final"===b)},n.maxUploadRetryTime);return h.headers={"X-Goog-Upload-Command":"query"},h.errorHandler=YC(t),h}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Lh,e,i);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new h5(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=function sJ(n,t,e,i,r,s,a,d){const h=new h5(0,0);if(a?(h.current=a.current,h.total=a.total):(h.current=0,h.total=i.size()),i.size()!==h.total)throw function vX(){return new Us(Ds.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const m=h.total-h.current;let b=m;r>0&&(b=Math.min(b,r));const x=h.current;let D="";D=0===b?"finalize":m===b?"upload, finalize":"upload";const P={"X-Goog-Upload-Command":D,"X-Goog-Upload-Offset":`${h.current}`},F=i.slice(x,x+b);if(null===F)throw AH();const ne=new Sp(e,"POST",function U(de,ke){const Ye=lB(de,["active","final"]),Me=h.current+b,he=i.size();let dt;return dt="final"===Ye?d5(t,s)(de,ke):null,new h5(Me,he,"final"===Ye,dt)},t.maxUploadRetryTime);return ne.headers=P,ne.body=F.uploadData(),ne.progressCallback=d||null,ne.errorHandler=YC(n),ne}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(h){return this._error=h,void this._transition("error")}const d=this._ref.storage._makeRequest(a,Lh,r,s,!1);this._request=d,d.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=jH(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Lh,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function qH(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},h=function d(){let ne="";for(let de=0;de<2;de++)ne+=Math.random().toString().slice(2);return ne}();a["Content-Type"]="multipart/related; boundary="+h;const m=zH(t,i,r),b=aB(m,e),D=Dp.getBlob("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+h+"\r\nContent-Type: "+m.contentType+"\r\n\r\n",i,"\r\n--"+h+"--");if(null===D)throw AH();const P={name:m.fullPath},F=Hg(s,n.host,n._protocol),j=n.maxUploadRetryTime,Z=new Sp(F,"POST",d5(n,e),j);return Z.urlParams=P,Z.headers=a,Z.body=D.uploadData(),Z.errorHandler=YC(t),Z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Lh,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=SH(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=cB(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new aJ(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(cB(this._state)){case dc.SUCCESS:ZC(this._resolve.bind(null,this.snapshot))();break;case dc.CANCELED:case dc.ERROR:ZC(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(cB(this._state)){case dc.RUNNING:case dc.PAUSED:t.next&&ZC(t.next.bind(t,this.snapshot))();break;case dc.SUCCESS:t.complete&&ZC(t.complete.bind(t))();break;default:t.error&&ZC(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Yb{constructor(t,e){this._service=t,this._location=e instanceof yl?e:yl.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Yb(t,e)}get root(){const t=new yl(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LH(this._location.path)}get storage(){return this._service}get parent(){const t=function jX(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new yl(this._location.bucket,t);return new Yb(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw MH(t)}}function ZH(n,t,e){return uB.apply(this,arguments)}function uB(){return uB=(0,lt.Z)(function*(n,t,e){const r=yield KH(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield ZH(n,t,r.nextPageToken))}),uB.apply(this,arguments)}function KH(n,t){null!=t&&"number"==typeof t.maxResults&&iB("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=XX(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Lh)}function wJ(n){n._throwIfRoot("getDownloadURL");const t=function JX(n,t,e){const r=Hg(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,d=new Sp(r,"GET",function QX(n,t){return function e(i,r){const s=BH(n,r,t);return Ap(null!==s),function WX(n,t,e,i){const r=oB(t);if(null===r||!l5(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(m=>{const x=n.fullPath;return Hg("/b/"+a(n.bucket)+"/o/"+a(x),e,i)+RH({alt:"media",token:m})})[0]}(s,r,n.host,n._protocol)}}(n,e),a);return d.errorHandler=JA(t),d}(n.storage,n._location,XA());return n.storage.makeRequestWithTokens(t,Lh).then(e=>{if(null===e)throw function yX(){return new Us(Ds.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function QH(n,t){const e=function HX(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new yl(n._location.bucket,e);return new Yb(n.storage,i)}function XH(n,t){if(n instanceof dB){const e=n;if(null==e._bucket)throw function _X(){return new Us(Ds.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IH+"' property when initializing the app?")}();const i=new Yb(e,e._bucket);return null!=t?XH(i,t):i}return void 0!==t?QH(n,t):n}function IJ(n,t){if(t&&function CJ(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof dB)return function EJ(n,t){return new Yb(n,t)}(n,t);throw $C("To use ref(service, url), the first argument must be a Storage instance.")}return XH(n,t)}function JH(n,t){const e=t?.[IH];return null==e?null:yl.makeFromBucketSpec(e,n)}class dB{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=EH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?yl.makeFromBucketSpec(r,this._host):JH(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?yl.makeFromBucketSpec(this._url,t):JH(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){iB("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){iB("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,lt.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,lt.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Yb(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new wX(TH());{const a=function RX(n,t,e,i,r,s,a=!0){const d=RH(n.urlParams),h=n.url+d,m=Object.assign({},n.headers);return function MX(n,t){t&&(n["X-Firebase-GMPID"]=t)}(m,t),function AX(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(m,e),function TX(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(m,s),function kX(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(m,i),new SX(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,e){var i=this;return(0,lt.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const ez="@firebase/storage";function iz(n,t){return IJ(n=(0,J.m9)(n),t)}function OJ(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new dB(e,i,r,t,Zs.SDK_VERSION)}!function FJ(){(0,Zs._registerComponent)(new No.wA("storage",OJ,"PUBLIC").setMultipleInstances(!0)),(0,Zs.registerVersion)(ez,"0.11.2",""),(0,Zs.registerVersion)(ez,"0.11.2","esm2017")}();class f5{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class sz{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new f5(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new f5(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?a=>e(new f5(a,this,this._ref)):{next:e.next?a=>e.next(new f5(a,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class oz{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new zg(t,this._service))}get items(){return this._delegate.items.map(t=>new zg(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class zg{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function PJ(n,t){return QH(n,t)}(this._delegate,t);return new zg(e,this.storage)}get root(){return new zg(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new zg(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new sz(function SJ(n,t,e){return function gJ(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new WH(n,new Dp(t),e)}(n=(0,J.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ku.RAW,i){this._throwIfRoot("putString");const r=sB(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new sz(new WH(this._delegate,new Dp(r.data,!0),s),this)}listAll(){return function kJ(n){return function vJ(n){const t={prefixes:[],items:[]};return ZH(n,t).then(()=>t)}(n=(0,J.m9)(n))}(this._delegate).then(t=>new oz(t,this.storage))}list(t){return function MJ(n,t){return KH(n=(0,J.m9)(n),t)}(this._delegate,t||void 0).then(e=>new oz(e,this.storage))}getMetadata(){return function AJ(n){return function yJ(n){n._throwIfRoot("getMetadata");const t=jH(n.storage,n._location,XA());return n.storage.makeRequestWithTokens(t,Lh)}(n=(0,J.m9)(n))}(this._delegate)}updateMetadata(t){return function TJ(n,t){return function bJ(n,t){n._throwIfRoot("updateMetadata");const e=function eJ(n,t,e,i){const s=Hg(t.fullServerUrl(),n.host,n._protocol),d=aB(e,i),m=n.maxOperationRetryTime,b=new Sp(s,"PATCH",d5(n,i),m);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=JA(t),b}(n.storage,n._location,t,XA());return n.storage.makeRequestWithTokens(e,Lh)}(n=(0,J.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function RJ(n){return wJ(n=(0,J.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function NJ(n){return function xJ(n){n._throwIfRoot("deleteObject");const t=function tJ(n,t){const i=Hg(t.fullServerUrl(),n.host,n._protocol),d=new Sp(i,"DELETE",function a(h,m){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=JA(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Lh)}(n=(0,J.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw MH(t)}}class az{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(lz(t))throw $C("ref() expected a child path but got a URL, use refFromURL instead.");return new zg(iz(this._delegate,t),this)}refFromURL(t){if(!lz(t))throw $C("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yl.makeFromUrl(t,this._delegate.host)}catch{throw $C("refFromUrl() expected a valid full URL but got an invalid one.")}return new zg(iz(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function rz(n,t,e,i={}){!function DJ(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,J.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function lz(n){return/^[A-Za-z]+:\/\//.test(n)}function UJ(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new az(e,i)}function cz(n){const t=function HJ(n){return new qr.y(t=>{const e=a=>t.next(a);e(n.snapshot);const s=n.on("state_changed",e);return n.then(a=>{e(a),t.complete()},a=>{e(n.snapshot),(a=>{t.error(a)})(a)}),function(){s()}}).pipe(J6(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,En.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function p5(n){return{getDownloadURL:()=>(0,_n.of)(void 0).pipe(Yn.fc,(0,ir.w)(()=>n.getDownloadURL()),Yn.iC),getMetadata:()=>(0,_n.of)(void 0).pipe(Yn.fc,(0,ir.w)(()=>n.getMetadata()),Yn.iC),delete:()=>(0,yr.D)(n.delete()),child:t=>p5(n.child(t)),updateMetadata:t=>(0,yr.D)(n.updateMetadata(t)),put:(t,e)=>cz(n.put(t,e)),putString:(t,e,i)=>cz(n.putString(t,e,i)),list:t=>(0,yr.D)(n.list(t)),listAll:()=>(0,yr.D)(n.listAll())}}!function jJ(n){const t={TaskState:dc,TaskEvent:oJ,StringFormat:ku,Storage:az,Reference:zg};n.INTERNAL.registerComponent(new No.wA("storage-compat",UJ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(fu.Z);const zJ=new l.OlP("angularfire2.storageBucket"),qJ=new l.OlP("angularfire2.storage.maxUploadRetryTime"),GJ=new l.OlP("angularfire2.storage.maxOperationRetryTime"),$J=new l.OlP("angularfire2.storage.use-emulator");let WJ=(()=>{class n{constructor(e,i,r,s,a,d,h,m,b,x){const M=(0,_r.on)(e,a,i);this.storage=(0,_r.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const D=a.runOutsideAngular(()=>M.storage(r||void 0)),P=b;return P&&D.useEmulator(...P),h&&D.setMaxUploadRetryTime(h),m&&D.setMaxOperationRetryTime(m),D},[h,m])}ref(e){return p5(this.storage.ref(e))}refFromURL(e){return p5(this.storage.refFromURL(e))}upload(e,i,r){return p5(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(_r.Dh),l.LFG(_r.xv,8),l.LFG(zJ,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Yn.HU),l.LFG(qJ,8),l.LFG(GJ,8),l.LFG($J,8),l.LFG(X0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),ZJ=(()=>{class n{constructor(){ix.Z.registerVersion("angularfire",Yn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[WJ],imports:[YJ]}),n})();const KJ_firebaseConfig={apiKey:"AIzaSyBHYmcvijukFC1Ccyo9qLvvRJW69Euh_uM",authDomain:"hotelreservation-b3f6a.firebaseapp.com",projectId:"hotelreservation-b3f6a",storageBucket:"hotelreservation-b3f6a.appspot.com",messagingSenderId:"804514996630",appId:"1:804514996630:web:abb03abfc4e8c80fe13db7",measurementId:"G-5CJJE92GN3"};var Rd=Q(5619);const{isArray:XJ}=Array,{getPrototypeOf:JJ,prototype:eee,keys:tee}=Object;function uz(n){if(1===n.length){const t=n[0];if(XJ(t))return{args:t,keys:null};if(function nee(n){return n&&"object"==typeof n&&JJ(n)===eee}(t)){const e=tee(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:iee}=Array;function hB(n){return(0,En.U)(t=>function ree(n,t){return iee(t)?n(...t):n(t)}(n,t))}function dz(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var see=Q(7103);function m5(...n){const t=(0,ll.yG)(n),e=(0,ll.jO)(n),{args:i,keys:r}=uz(n);if(0===i.length)return(0,yr.D)([],t);const s=new qr.y(function oee(n,t,e=hu.y){return i=>{hz(t,()=>{const{length:r}=n,s=new Array(r);let a=r,d=r;for(let h=0;h<r;h++)hz(t,()=>{const m=(0,yr.D)(n[h],t);let b=!1;m.subscribe((0,Ti.x)(i,x=>{s[h]=x,b||(b=!0,d--),d||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>dz(r,a):hu.y));return e?s.pipe(hB(e)):s}function hz(n,t,e){n?(0,see.f)(e,n,t):t()}function e2(n){return new qr.y(t=>{(0,ws.Xf)(n()).subscribe(t)})}var aee=Q(8407);function KC(n,t){const e=(0,Ql.m)(n)?n:()=>n,i=r=>r.error(e());return new qr.y(t?r=>t.schedule(i,0,r):i)}var go=Q(7394);function fB(){return(0,ts.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Ti.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class fz extends qr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ts.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new go.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Ti.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=go.w0.EMPTY)}return t}refCount(){return fB()(this)}}var bl=Q(1631);function QC(n,t){return(0,Ql.m)(t)?(0,bl.z)(n,t,1):(0,bl.z)(n,1)}var Ho=Q(9397);function iy(n){return(0,ts.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Ti.x)(e,void 0,void 0,a=>{s=(0,ws.Xf)(n(a,iy(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function pB(n){return n<=0?()=>op.E:(0,ts.e)((t,e)=>{let i=[];t.subscribe((0,Ti.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function g5(n){return(0,ts.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function hc(n){return(0,ts.e)((t,e)=>{(0,ws.Xf)(n).subscribe((0,Ti.x)(e,()=>e.complete(),Rm.Z)),!e.closed&&t.subscribe(e)})}const Mi="primary",t2=Symbol("RouteTitle");class uee{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function XC(n){return new uee(n)}function dee(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],d=n[s];if(a.startsWith(":"))r[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Tp(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!pz(n[r],t[r]))return!1;return!0}function pz(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function mz(n){return n.length>0?n[n.length-1]:null}function ry(n){return function QJ(n){return!!n&&(n instanceof qr.y||(0,Ql.m)(n.lift)&&(0,Ql.m)(n.subscribe))}(n)?n:(0,l.QGY)(n)?(0,yr.D)(Promise.resolve(n)):(0,_n.of)(n)}const fee={exact:function vz(n,t,e){if(!Zb(n.segments,t.segments)||!_5(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!vz(n.children[i],t.children[i],e))return!1;return!0},subset:yz},gz={exact:function pee(n,t){return Tp(n,t)},subset:function mee(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>pz(n[e],t[e]))},ignored:()=>!0};function _z(n,t,e){return fee[e.paths](n.root,t.root,e.matrixParams)&&gz[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function yz(n,t,e){return bz(n,t,t.segments,e)}function bz(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Zb(r,e)||t.hasChildren()||!_5(r,e,i))}if(n.segments.length===e.length){if(!Zb(n.segments,e)||!_5(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!yz(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Zb(n.segments,r)&&_5(n.segments,r,i)&&n.children[Mi])&&bz(n.children[Mi],t,s,i)}}function _5(n,t,e){return t.every((i,r)=>gz[e](n[r].parameters,i.parameters))}class JC{constructor(t=new Tr([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=XC(this.queryParams)),this._queryParamMap}toString(){return vee.serialize(this)}}class Tr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return v5(this)}}class n2{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=XC(this.parameters)),this._parameterMap}toString(){return Cz(this)}}function Zb(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let r2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return new mB},providedIn:"root"})}return n})();class mB{parse(t){const e=new Tee(t);return new JC(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${s2(t.root,!0)}`,i=function wee(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${y5(e)}=${y5(r)}`).join("&"):`${y5(e)}=${y5(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function yee(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const vee=new mB;function v5(n){return n.segments.map(t=>Cz(t)).join("/")}function s2(n,t){if(!n.hasChildren())return v5(n);if(t){const e=n.children[Mi]?s2(n.children[Mi],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Mi&&i.push(`${r}:${s2(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function _ee(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Mi&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Mi&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Mi?[s2(n.children[Mi],!1)]:[`${r}:${s2(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mi]?`${v5(n)}/${e[0]}`:`${v5(n)}/(${e.join("//")})`}}function wz(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function y5(n){return wz(n).replace(/%3B/gi,";")}function gB(n){return wz(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function b5(n){return decodeURIComponent(n)}function xz(n){return b5(n.replace(/\+/g,"%20"))}function Cz(n){return`${gB(n.path)}${function bee(n){return Object.keys(n).map(t=>`;${gB(t)}=${gB(n[t])}`).join("")}(n.parameters)}`}const xee=/^[^\/()?;#]+/;function _B(n){const t=n.match(xee);return t?t[0]:""}const Cee=/^[^\/()?;=#]+/,Iee=/^[^=?&#]+/,See=/^[^&#]+/;class Tee{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tr([],{}):new Tr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Mi]=new Tr(t,e)),i}parseSegment(){const t=_B(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(t),new n2(b5(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Eee(n){const t=n.match(Cee);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=_B(this.remaining);r&&(i=r,this.capture(i))}t[b5(e)]=b5(i)}parseQueryParam(t){const e=function Dee(n){const t=n.match(Iee);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function Aee(n){const t=n.match(See);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=xz(e),s=xz(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=_B(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Mi);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[Mi]:new Tr([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,!1)}}function Ez(n){return n.segments.length>0?new Tr([],{[Mi]:n}):n}function Iz(n){const t={};for(const i of Object.keys(n.children)){const s=Iz(n.children[i]);if(i===Mi&&0===s.segments.length&&s.hasChildren())for(const[a,d]of Object.entries(s.children))t[a]=d;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Mee(n){if(1===n.numberOfChildren&&n.children[Mi]){const t=n.children[Mi];return new Tr(n.segments.concat(t.segments),t.children)}return n}(new Tr(n.segments,t))}function Kb(n){return n instanceof JC}function Dz(n){let t;const r=Ez(function e(s){const a={};for(const h of s.children){const m=e(h);a[h.outlet]=m}const d=new Tr(s.url,a);return s===n&&(t=d),d}(n.root));return t??r}function Sz(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return vB(r,r,r,e,i);const s=function Ree(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Tz(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Object.entries(s.outlets).forEach(([h,m])=>{d[h]="string"==typeof m?m.split("/"):m}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((d,h)=>{0==h&&"."===d||(0==h&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Tz(e,t,i)}(t);if(s.toRoot())return vB(r,r,new Tr([],{}),e,i);const a=function Nee(n,t,e){if(n.isAbsolute)return new x5(t,!0,0);if(!e)return new x5(t,!1,NaN);if(null===e.parent)return new x5(e,!0,0);const i=w5(n.commands[0])?0:1;return function Pee(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new x5(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),d=a.processChildren?a2(a.segmentGroup,a.index,s.commands):Mz(a.segmentGroup,a.index,s.commands);return vB(r,a.segmentGroup,d,e,i)}function w5(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function o2(n){return"object"==typeof n&&null!=n&&n.outlets}function vB(n,t,e,i,r){let a,s={};i&&Object.entries(i).forEach(([h,m])=>{s[h]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),a=n===t?e:Az(n,t,e);const d=Ez(Iz(a));return new JC(d,s,r)}function Az(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:Az(s,t,e)}),new Tr(n.segments,i)}class Tz{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&w5(i[0]))throw new l.vHH(4003,!1);const r=i.find(o2);if(r&&r!==mz(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class x5{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Mz(n,t,e){if(n||(n=new Tr([],{})),0===n.segments.length&&n.hasChildren())return a2(n,t,e);const i=function Fee(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],d=e[i];if(o2(d))break;const h=`${d}`,m=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&m&&"object"==typeof m&&void 0===m.outlets){if(!Rz(h,m,a))return s;i+=2}else{if(!Rz(h,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Tr(n.segments.slice(0,i.pathIndex),{});return s.children[Mi]=new Tr(n.segments.slice(i.pathIndex),n.children),a2(s,0,r)}return i.match&&0===r.length?new Tr(n.segments,{}):i.match&&!n.hasChildren()?yB(n,t,e):i.match?a2(n,0,r):yB(n,t,e)}function a2(n,t,e){if(0===e.length)return new Tr(n.segments,{});{const i=function Oee(n){return o2(n[0])?n[0].outlets:{[Mi]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Mi)&&n.children[Mi]&&1===n.numberOfChildren&&0===n.children[Mi].segments.length){const s=a2(n.children[Mi],t,e);return new Tr(n.segments,s.children)}return Object.entries(i).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(r[s]=Mz(n.children[s],t,a))}),Object.entries(n.children).forEach(([s,a])=>{void 0===i[s]&&(r[s]=a)}),new Tr(n.segments,r)}}function yB(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(o2(s)){const h=Lee(s.outlets);return new Tr(i,h)}if(0===r&&w5(e[0])){i.push(new n2(n.segments[t].path,kz(e[0]))),r++;continue}const a=o2(s)?s.outlets[Mi]:`${s}`,d=r<e.length-1?e[r+1]:null;a&&d&&w5(d)?(i.push(new n2(a,kz(d))),r+=2):(i.push(new n2(a,{})),r++)}return new Tr(i,{})}function Lee(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=yB(new Tr([],{}),0,i))}),t}function kz(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Rz(n,t,e){return n==e.path&&Tp(t,e.parameters)}const l2="imperative";class Mp{constructor(t,e){this.id=t,this.url=e}}class C5 extends Mp{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sy extends Mp{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class c2 extends Mp{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eE extends Mp{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class E5 extends Mp{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nz extends Mp{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bee extends Mp{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vee extends Mp{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Uee extends Mp{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jee extends Mp{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hee{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zee{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qee{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gee{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $ee{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wee{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pz{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bB{}class wB{constructor(t){this.url=t}}class Yee{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new u2,this.attachRef=null}}let u2=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Yee,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Oz{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=xB(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=xB(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=CB(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return CB(t,this._root).map(e=>e.value)}}function xB(n,t){if(n===t.value)return t;for(const e of t.children){const i=xB(n,e);if(i)return i}return null}function CB(n,t){if(n===t.value)return[t];for(const e of t.children){const i=CB(n,e);if(i.length)return i.unshift(t),i}return[]}class qg{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function tE(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Fz extends Oz{constructor(t,e){super(t),this.snapshot=e,EB(this,t)}toString(){return this.snapshot.toString()}}function Lz(n,t){const e=function Zee(n,t){const a=new I5([],{},{},"",{},Mi,t,null,{});return new Vz("",new qg(a,[]))}(0,t),i=new Rd.X([new n2("",{})]),r=new Rd.X({}),s=new Rd.X({}),a=new Rd.X({}),d=new Rd.X(""),h=new nE(i,r,a,d,s,Mi,t,e.root);return h.snapshot=e.root,new Fz(new qg(h,[]),e)}class nE{constructor(t,e,i,r,s,a,d,h){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=a,this.component=d,this._futureSnapshot=h,this.title=this.dataSubject?.pipe((0,En.U)(m=>m[t2]))??(0,_n.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,En.U)(t=>XC(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,En.U)(t=>XC(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bz(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Kee(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class I5{get title(){return this.data?.[t2]}constructor(t,e,i,r,s,a,d,h,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=d,this.routeConfig=h,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=XC(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=XC(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vz extends Oz{constructor(t,e){super(e),this.url=t,EB(this,e)}toString(){return Uz(this._root)}}function EB(n,t){t.value._routerState=n,t.children.forEach(e=>EB(n,e))}function Uz(n){const t=n.children.length>0?` { ${n.children.map(Uz).join(", ")} } `:"";return`${n.value}${t}`}function IB(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Tp(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Tp(t.params,e.params)||n.paramsSubject.next(e.params),function hee(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Tp(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Tp(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function DB(n,t){const e=Tp(n.params,t.params)&&function gee(n,t){return Zb(n,t)&&n.every((e,i)=>Tp(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||DB(n.parent,t.parent))}let SB=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mi,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(u2),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(D5,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,h=new Qee(e,d,r.injector);this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return n})();class Qee{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===nE?this.route:t===u2?this.childContexts:this.parent.get(t,e)}}const D5=new l.OlP("");let jz=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=m5([i.queryParams,i.params,i.data]).pipe((0,ir.w)(([s,a,d],h)=>(d={...s,...a,...d},0===h?(0,_n.of)(d):Promise.resolve(d)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const a=(0,l.qFp)(i.component);if(a)for(const{templateName:d}of a.inputs)e.activatedComponentRef.setInput(d,s[d]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();function d2(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Jee(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return d2(n,i,r);return d2(n,i)})}(n,t,e);return new qg(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(d=>d2(n,d)),a}}const i=function ete(n){return new nE(new Rd.X(n.url),new Rd.X(n.params),new Rd.X(n.queryParams),new Rd.X(n.fragment),new Rd.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>d2(n,s));return new qg(i,r)}}const AB="ngNavigationCancelingError";function Hz(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Kb(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=zz(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function zz(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[AB]=!0,i.cancellationCode=t,e&&(i.url=e),i}function qz(n){return n&&n[AB]}let Gz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(i,r){1&i&&l._UZ(0,"router-outlet")},dependencies:[SB],encapsulation:2})}return n})();function TB(n){const t=n.children&&n.children.map(TB),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Mi&&(e.component=Gz),e}function Bh(n){return n.outlet||Mi}function h2(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class lte{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),IB(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=tE(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=tE(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=tE(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=tE(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Wee(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Gee(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(IB(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),IB(d.route.value),this.activateChildRoutes(t,null,a.children)}else{const d=h2(r.snapshot);a.attachRef=null,a.route=r,a.injector=d,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class $z{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class S5{constructor(t,e){this.component=t,this.route=e}}function cte(n,t,e){const i=n._root;return f2(i,t?t._root:null,e,[i.value])}function iE(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,l.Z0I)(n)?t.get(n):n:i}function f2(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=tE(t);return n.children.forEach(a=>{(function dte(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const h=function hte(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Zb(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Zb(n.url,t.url)||!Tp(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DB(n,t)||!Tp(n.queryParams,t.queryParams);default:return!DB(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new $z(i)):(s.data=a.data,s._resolvedData=a._resolvedData),f2(n,t,s.component?d?d.children:null:e,i,r),h&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new S5(d.outlet.component,a))}else a&&p2(t,d,r),r.canActivateChecks.push(new $z(i)),f2(n,null,s.component?d?d.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,d])=>p2(d,e.getContext(a),r)),r}function p2(n,t,e){const i=tE(n),r=n.value;Object.entries(i).forEach(([s,a])=>{p2(a,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new S5(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function m2(n){return"function"==typeof n}function Wz(n){return n instanceof q0||"EmptyError"===n?.name}const A5=Symbol("INITIAL_VALUE");function rE(){return(0,ir.w)(n=>m5(n.map(t=>t.pipe(Bo(1),ec(A5)))).pipe((0,En.U)(t=>{for(const e of t)if(!0!==e){if(e===A5)return A5;if(!1===e||e instanceof JC)return e}return!0}),Ar(t=>t!==A5),Bo(1)))}function Yz(n){return(0,aee.z)((0,Ho.b)(t=>{if(Kb(t))throw Hz(0,t)}),(0,En.U)(t=>!0===t))}class T5{constructor(t){this.segmentGroup=t||null}}class Zz{constructor(t){this.urlTree=t}}function sE(n){return KC(new T5(n))}function Kz(n){return KC(new Zz(n))}class Rte{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new l.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,_n.of)(i);if(r.numberOfChildren>1||!r.children[Mi])return KC(new l.vHH(4e3,!1));r=r.children[Mi]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new JC(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const d=s.substring(1);i[r]=e[d]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return Object.entries(e.children).forEach(([d,h])=>{a[d]=this.createSegmentGroup(t,h,i,r)}),new Tr(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l.vHH(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const MB={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nte(n,t,e,i,r){const s=kB(n,t,e);return s.matched?(i=function nte(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Tte(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,_n.of)(!0);const s=r.map(a=>{const d=iE(a,n);return ry(function vte(n){return n&&m2(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))});return(0,_n.of)(s).pipe(rE(),Yz())}(i,t,e).pipe((0,En.U)(a=>!0===a?s:{...MB}))):(0,_n.of)(s)}function kB(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...MB}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||dee)(e,n,t);if(!r)return{...MB};const s={};Object.entries(r.posParams??{}).forEach(([d,h])=>{s[d]=h.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Qz(n,t,e,i){return e.length>0&&function Fte(n,t,e){return e.some(i=>M5(n,t,i)&&Bh(i)!==Mi)}(n,e,i)?{segmentGroup:new Tr(t,Ote(i,new Tr(e,n.children))),slicedSegments:[]}:0===e.length&&function Lte(n,t,e){return e.some(i=>M5(n,t,i))}(n,e,i)?{segmentGroup:new Tr(n.segments,Pte(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Tr(n.segments,n.children),slicedSegments:e}}function Pte(n,t,e,i,r){const s={};for(const a of i)if(M5(n,e,a)&&!r[Bh(a)]){const d=new Tr([],{});s[Bh(a)]=d}return{...r,...s}}function Ote(n,t){const e={};e[Mi]=t;for(const i of n)if(""===i.path&&Bh(i)!==Mi){const r=new Tr([],{});e[Bh(i)]=r}return e}function M5(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class jte{constructor(t,e,i,r,s,a,d){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=d,this.allowRedirects=!0,this.applyRedirects=new Rte(this.urlSerializer,this.urlTree)}noMatchError(t){return new l.vHH(4002,!1)}recognize(){const t=Qz(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Mi).pipe(iy(e=>{if(e instanceof Zz)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof T5?this.noMatchError(e):e}),(0,En.U)(e=>{const i=new I5([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mi,this.rootComponentType,null,{}),r=new qg(i,e),s=new Vz("",r),a=function kee(n,t,e=null,i=null){return Sz(Dz(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root),{state:s,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Mi).pipe(iy(i=>{throw i instanceof T5?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=Bz(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,yr.D)(r).pipe(QC(s=>{const a=i.children[s],d=function ote(n,t){const e=n.filter(i=>Bh(i)===t);return e.push(...n.filter(i=>Bh(i)!==t)),e}(e,s);return this.processSegmentGroup(t,d,a,s)}),Pi((s,a)=>(s.push(...a),s)),G0(null),function lee(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ar((r,s)=>n(r,s,i)):hu.y,pB(1),e?G0(t):ED(()=>new q0))}(),(0,bl.z)(s=>{if(null===s)return sE(i);const a=Xz(s);return function Hte(n){n.sort((t,e)=>t.value.outlet===Mi?-1:e.value.outlet===Mi?1:t.value.outlet.localeCompare(e.value.outlet))}(a),(0,_n.of)(a)}))}processSegment(t,e,i,r,s,a){return(0,yr.D)(e).pipe(QC(d=>this.processSegmentAgainstRoute(d._injector??t,e,d,i,r,s,a).pipe(iy(h=>{if(h instanceof T5)return(0,_n.of)(null);throw h}))),Ah(d=>!!d),iy(d=>{if(Wz(d))return function Vte(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?(0,_n.of)([]):sE(i);throw d}))}processSegmentAgainstRoute(t,e,i,r,s,a,d){return function Bte(n,t,e,i){return!!(Bh(n)===i||i!==Mi&&M5(t,e,n))&&("**"===n.path||kB(t,n,e).matched)}(i,r,s,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,a,d):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,a):sE(r):sE(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Kz(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,bl.z)(a=>{const d=new Tr(a,{});return this.processSegment(t,e,d,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:d,consumedSegments:h,remainingSegments:m,positionalParamSegments:b}=kB(e,r,s);if(!d)return sE(e);const x=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,b);return r.redirectTo.startsWith("/")?Kz(x):this.applyRedirects.lineralizeSegments(r,x).pipe((0,bl.z)(M=>this.processSegment(t,i,e,M.concat(m),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,a){let d;if("**"===i.path){const h=r.length>0?mz(r).parameters:{},m=new I5(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jz(i),Bh(i),i.component??i._loadedComponent??null,i,e9(i));d=(0,_n.of)({snapshot:m,consumedSegments:[],remainingSegments:[]}),e.children={}}else d=Nte(e,i,r,t).pipe((0,En.U)(({matched:h,consumedSegments:m,remainingSegments:b,parameters:x})=>h?{snapshot:new I5(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jz(i),Bh(i),i.component??i._loadedComponent??null,i,e9(i)),consumedSegments:m,remainingSegments:b}:null));return d.pipe((0,ir.w)(h=>null===h?sE(e):this.getChildConfig(t=i._injector??t,i,r).pipe((0,ir.w)(({routes:m})=>{const b=i._loadedInjector??t,{snapshot:x,consumedSegments:M,remainingSegments:D}=h,{segmentGroup:P,slicedSegments:F}=Qz(e,M,D,m);if(0===F.length&&P.hasChildren())return this.processChildren(b,m,P).pipe((0,En.U)(j=>null===j?null:[new qg(x,j)]));if(0===m.length&&0===F.length)return(0,_n.of)([new qg(x,[])]);const U=Bh(i)===s;return this.processSegment(b,m,P,F,U?Mi:s,!0).pipe((0,En.U)(j=>[new qg(x,j)]))}))))}getChildConfig(t,e,i){return e.children?(0,_n.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,_n.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Ate(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,_n.of)(!0);const s=r.map(a=>{const d=iE(a,n);return ry(function pte(n){return n&&m2(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))});return(0,_n.of)(s).pipe(rE(),Yz())}(t,e,i).pipe((0,bl.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Ho.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function kte(n){return KC(zz(!1,3))}())):(0,_n.of)({routes:[],injector:t})}}function zte(n){const t=n.value.routeConfig;return t&&""===t.path}function Xz(n){const t=[],e=new Set;for(const i of n){if(!zte(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Xz(i.children);t.push(new qg(i.value,r))}return t.filter(i=>!e.has(i))}function Jz(n){return n.data||{}}function e9(n){return n.resolve||{}}function t9(n){return"string"==typeof n.title||null===n.title}function RB(n){return(0,ir.w)(t=>{const e=n(t);return e?(0,yr.D)(e).pipe((0,En.U)(()=>t)):(0,_n.of)(t)})}const oE=new l.OlP("ROUTES");let NB=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,_n.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ry(e.loadComponent()).pipe((0,En.U)(n9),(0,Ho.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),g5(()=>{this.componentLoaders.delete(e)})),r=new fz(i,()=>new zn.x).pipe(fB());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,_n.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Kte(n,t,e,i){return ry(n.loadChildren()).pipe((0,En.U)(n9),(0,bl.z)(r=>r instanceof l.YKP||Array.isArray(r)?(0,_n.of)(r):(0,yr.D)(t.compileModuleAsync(r))),(0,En.U)(r=>{i&&i(n);let s,a,d=!1;return Array.isArray(r)?(a=r,!0):(s=r.create(e).injector,a=s.get(oE,[],{optional:!0,self:!0}).flat()),{routes:a.map(TB),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(g5(()=>{this.childrenLoaders.delete(i)})),a=new fz(s,()=>new zn.x).pipe(fB());return this.childrenLoaders.set(i,a),a}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n9(n){return function Qte(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let k5=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zn.x,this.transitionAbortSubject=new zn.x,this.configLoader=(0,l.f3M)(NB),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(r2),this.rootContexts=(0,l.f3M)(u2),this.inputBindingEnabled=null!==(0,l.f3M)(D5,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_n.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new zee(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Hee(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Rd.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:l2,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ar(s=>0!==s.id),(0,En.U)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),(0,ir.w)(s=>{this.currentTransition=s;let a=!1,d=!1;return(0,_n.of)(s).pipe((0,Ho.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ir.w)(h=>{const m=h.currentBrowserUrl.toString(),b=!e.navigated||h.extractedUrl.toString()!==m||m!==h.currentUrlTree.toString();if(!b&&"reload"!==(h.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const M="";return this.events.next(new eE(h.id,this.urlSerializer.serialize(h.rawUrl),M,0)),h.resolve(null),op.E}if(e.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return(0,_n.of)(h).pipe((0,ir.w)(M=>{const D=this.transitions?.getValue();return this.events.next(new C5(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),D!==this.transitions?.getValue()?op.E:Promise.resolve(M)}),function qte(n,t,e,i,r,s){return(0,bl.z)(a=>function Ute(n,t,e,i,r,s,a="emptyOnly"){return new jte(n,t,e,i,r,a,s).recognize()}(n,t,e,i,a.extractedUrl,r,s).pipe((0,En.U)(({state:d,tree:h})=>({...a,targetSnapshot:d,urlAfterRedirects:h}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Ho.b)(M=>{s.targetSnapshot=M.targetSnapshot,s.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects};const D=new Nz(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(D)}));if(b&&e.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){const{id:M,extractedUrl:D,source:P,restoredState:F,extras:U}=h,j=new C5(M,this.urlSerializer.serialize(D),P,F);this.events.next(j);const Z=Lz(0,this.rootComponentType).snapshot;return this.currentTransition=s={...h,targetSnapshot:Z,urlAfterRedirects:D,extras:{...U,skipLocationChange:!1,replaceUrl:!1}},(0,_n.of)(s)}{const M="";return this.events.next(new eE(h.id,this.urlSerializer.serialize(h.extractedUrl),M,1)),h.resolve(null),op.E}}),(0,Ho.b)(h=>{const m=new Bee(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),(0,En.U)(h=>(this.currentTransition=s={...h,guards:cte(h.targetSnapshot,h.currentSnapshot,this.rootContexts)},s)),function bte(n,t){return(0,bl.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?(0,_n.of)({...e,guardsResult:!0}):function wte(n,t,e,i){return(0,yr.D)(n).pipe((0,bl.z)(r=>function Ste(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,_n.of)(!0);const a=s.map(d=>{const h=h2(t)??r,m=iE(d,h);return ry(function _te(n){return n&&m2(n.canDeactivate)}(m)?m.canDeactivate(n,t,e,i):h.runInContext(()=>m(n,t,e,i))).pipe(Ah())});return(0,_n.of)(a).pipe(rE())}(r.component,r.route,e,t,i)),Ah(r=>!0!==r,!0))}(a,i,r,n).pipe((0,bl.z)(d=>d&&function fte(n){return"boolean"==typeof n}(d)?function xte(n,t,e,i){return(0,yr.D)(t).pipe(QC(r=>dx(function Ete(n,t){return null!==n&&t&&t(new qee(n)),(0,_n.of)(!0)}(r.route.parent,i),function Cte(n,t){return null!==n&&t&&t(new $ee(n)),(0,_n.of)(!0)}(r.route,i),function Dte(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function ute(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>e2(()=>{const d=a.guards.map(h=>{const m=h2(a.node)??e,b=iE(h,m);return ry(function gte(n){return n&&m2(n.canActivateChild)}(b)?b.canActivateChild(i,n):m.runInContext(()=>b(i,n))).pipe(Ah())});return(0,_n.of)(d).pipe(rE())}));return(0,_n.of)(s).pipe(rE())}(n,r.path,e),function Ite(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,_n.of)(!0);const r=i.map(s=>e2(()=>{const a=h2(t)??e,d=iE(s,a);return ry(function mte(n){return n&&m2(n.canActivate)}(d)?d.canActivate(t,n):a.runInContext(()=>d(t,n))).pipe(Ah())}));return(0,_n.of)(r).pipe(rE())}(n,r.route,e))),Ah(r=>!0!==r,!0))}(i,s,n,t):(0,_n.of)(d)),(0,En.U)(d=>({...e,guardsResult:d})))})}(this.environmentInjector,h=>this.events.next(h)),(0,Ho.b)(h=>{if(s.guardsResult=h.guardsResult,Kb(h.guardsResult))throw Hz(0,h.guardsResult);const m=new Vee(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(m)}),Ar(h=>!!h.guardsResult||(this.cancelNavigationTransition(h,"",3),!1)),RB(h=>{if(h.guards.canActivateChecks.length)return(0,_n.of)(h).pipe((0,Ho.b)(m=>{const b=new Uee(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}),(0,ir.w)(m=>{let b=!1;return(0,_n.of)(m).pipe(function Gte(n,t){return(0,bl.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,_n.of)(e);let s=0;return(0,yr.D)(r).pipe(QC(a=>function $te(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!t9(r)&&(s[t2]=r.title),function Wte(n,t,e,i){const r=function Yte(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,_n.of)({});const s={};return(0,yr.D)(r).pipe((0,bl.z)(a=>function Zte(n,t,e,i){const r=h2(t)??i,s=iE(n,r);return ry(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[a],t,e,i).pipe(Ah(),(0,Ho.b)(d=>{s[a]=d}))),pB(1),function cee(n){return(0,En.U)(()=>n)}(s),iy(a=>Wz(a)?op.E:KC(a)))}(s,n,t,i).pipe((0,En.U)(a=>(n._resolvedData=a,n.data=Bz(n,e).resolve,r&&t9(r)&&(n.data[t2]=r.title),null)))}(a.route,i,n,t)),(0,Ho.b)(()=>s++),pB(1),(0,bl.z)(a=>s===r.length?(0,_n.of)(e):op.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Ho.b)({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(m,"",2)}}))}),(0,Ho.b)(m=>{const b=new jee(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}))}),RB(h=>{const m=b=>{const x=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,Ho.b)(M=>{b.component=M}),(0,En.U)(()=>{})));for(const M of b.children)x.push(...m(M));return x};return m5(m(h.targetSnapshot.root)).pipe(G0(),Bo(1))}),RB(()=>this.afterPreactivation()),(0,En.U)(h=>{const m=function Xee(n,t,e){const i=d2(n,t._root,e?e._root:void 0);return new Fz(i,t)}(e.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=s={...h,targetRouterState:m},s}),(0,Ho.b)(()=>{this.events.next(new bB)}),((n,t,e,i)=>(0,En.U)(r=>(new lte(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Bo(1),(0,Ho.b)({next:h=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),e.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{a=!0}}),hc(this.transitionAbortSubject.pipe((0,Ho.b)(h=>{throw h}))),g5(()=>{a||d||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),iy(h=>{if(d=!0,qz(h))this.events.next(new c2(s.id,this.urlSerializer.serialize(s.extractedUrl),h.message,h.cancellationCode)),function tte(n){return qz(n)&&Kb(n.url)}(h)?this.events.next(new wB(h.url)):s.resolve(!1);else{this.events.next(new E5(s.id,this.urlSerializer.serialize(s.extractedUrl),h,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(h))}catch(m){s.reject(m)}}return op.E}))}))}cancelNavigationTransition(e,i,r){const s=new c2(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function i9(n){return n!==l2}let r9=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Mi);return i}getResolvedTitleForRoute(e){return e.data[t2]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Xte)},providedIn:"root"})}return n})(),Xte=(()=>{class n extends r9{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(ih))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(tne)},providedIn:"root"})}return n})();class ene{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let tne=(()=>{class n extends ene{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const R5=new l.OlP("",{providedIn:"root",factory:()=>({})});let nne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(ine)},providedIn:"root"})}return n})(),ine=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var g2=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(g2||{});function s9(n,t){n.events.pipe(Ar(e=>e instanceof sy||e instanceof c2||e instanceof E5||e instanceof eE),(0,En.U)(e=>e instanceof sy||e instanceof eE?g2.COMPLETE:e instanceof c2&&(0===e.code||1===e.code)?g2.REDIRECTING:g2.FAILED),Ar(e=>e!==g2.REDIRECTING),Bo(1)).subscribe(()=>{t()})}function rne(n){throw n}function sne(n,t,e){return t.parse("/")}const one={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ane={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Js=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new zn.x,this.options=(0,l.f3M)(R5,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||rne,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||sne,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(nne),this.routeReuseStrategy=(0,l.f3M)(Jte),this.titleStrategy=(0,l.f3M)(r9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(oE,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(k5),this.urlSerializer=(0,l.f3M)(r2),this.location=(0,l.f3M)(Qt),this.componentInputBindingEnabled=!!(0,l.f3M)(D5,{optional:!0}),this.eventsSubscription=new go.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new JC,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Lz(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(o9(i)&&this._events.next(i));if(i instanceof C5)i9(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof eE)this.rawUrlTree=r.rawUrl;else if(i instanceof Nz){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof bB)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof c2)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof wB){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||i9(r.source)};this.scheduleNavigation(s,l2,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof E5&&this.restoreHistory(r,!0),i instanceof sy&&(this.navigated=!0),o9(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),l2,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const h={...r};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const d=this.parseUrl(e);this.scheduleNavigation(d,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(TB),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:d,preserveFragment:h}=i,m=h?this.currentUrlTree.fragment:a;let x,b=null;switch(d){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}null!==b&&(b=this.removeEmptyProps(b));try{x=Dz(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),x=this.currentUrlTree.root}return Sz(x,e,b,m??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Kb(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,l2,null,i)}navigate(e,i={skipLocationChange:!1}){return function lne(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...one}:!1===i?{...ane}:i,Kb(e))return _z(this.currentUrlTree,e,r);const s=this.parseUrl(e);return _z(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let d,h,m;a?(d=a.resolve,h=a.reject,m=a.promise):m=new Promise((x,M)=>{d=x,h=M});const b=this.pendingTasks.add();return s9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:d,reject:h,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(x=>Promise.reject(x))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function o9(n){return!(n instanceof bB||n instanceof wB)}let _2=(()=>{class n{constructor(e,i,r,s,a,d){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new zn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const h=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===h||"area"===h,this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof sy&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Js),l.Y36(nE),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(zt))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&i&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return n})();class a9{}let dne=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ar(e=>e instanceof sy),QC(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,d=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,yr.D)(r).pipe((0,wd.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,_n.of)(null);const s=r.pipe((0,bl.z)(a=>null===a?(0,_n.of)(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,yr.D)([s,a]).pipe((0,wd.J)())}return s})}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Js),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(a9),l.LFG(NB))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const PB=new l.OlP("");let l9=(()=>{class n{constructor(e,i,r,s,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof C5?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sy?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof eE&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Pz&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pz(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();function Gg(n,t){return{\u0275kind:n,\u0275providers:t}}function u9(){const n=(0,l.f3M)(l.zs3);return t=>{const e=n.get(l.z2F);if(t!==e.components[0])return;const i=n.get(Js),r=n.get(d9);1===n.get(OB)&&i.initialNavigation(),n.get(h9,null,l.XFs.Optional)?.setUpPreloading(),n.get(PB,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const d9=new l.OlP("",{factory:()=>new zn.x}),OB=new l.OlP("",{providedIn:"root",factory:()=>1}),h9=new l.OlP("");function mne(n){return Gg(0,[{provide:h9,useExisting:dne},{provide:a9,useExisting:n}])}const f9=new l.OlP("ROUTER_FORROOT_GUARD"),_ne=[Qt,{provide:r2,useClass:mB},Js,u2,{provide:nE,useFactory:function c9(n){return n.routerState.root},deps:[Js]},NB,[]];function vne(){return new l.PXZ("Router",Js)}let p9=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[_ne,[],{provide:oE,multi:!0,useValue:e},{provide:f9,useFactory:xne,deps:[[Js,new l.FiY,new l.tp0]]},{provide:R5,useValue:i||{}},i?.useHash?{provide:zt,useClass:Ot}:{provide:zt,useClass:rn},{provide:PB,useFactory:()=>{const n=(0,l.f3M)(Ao),t=(0,l.f3M)(l.R0b),e=(0,l.f3M)(R5),i=(0,l.f3M)(k5),r=(0,l.f3M)(r2);return e.scrollOffset&&n.setOffset(e.scrollOffset),new l9(r,i,n,t,e)}},i?.preloadingStrategy?mne(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:vne},i?.initialNavigation?Cne(i):[],i?.bindToComponentInputs?Gg(8,[jz,{provide:D5,useExisting:jz}]).\u0275providers:[],[{provide:m9,useFactory:u9},{provide:l.tb,multi:!0,useExisting:m9}]]}}static forChild(e){return{ngModule:n,providers:[{provide:oE,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(f9,8))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();function xne(n){return"guarded"}function Cne(n){return["disabled"===n.initialNavigation?Gg(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const t=(0,l.f3M)(Js);return()=>{t.setUpLocationChangeListener()}}},{provide:OB,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gg(2,[{provide:OB,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:t=>{const e=t.get(Ft,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Js),s=t.get(d9);s9(r,()=>{i(!0)}),t.get(k5).afterPreactivation=()=>(i(!0),s.closed?(0,_n.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const m9=new l.OlP("");function Br(n){return null!=n&&"false"!=`${n}`}function fc(n,t=0){return function Ine(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function N5(n){return Array.isArray(n)?n:[n]}function zo(n){return null==n?"":"string"==typeof n?n:`${n}px`}function oy(n){return n instanceof l.SBq?n.nativeElement:n}var Sne=Q(4266);const Ane=["addListener","removeListener"],Tne=["addEventListener","removeEventListener"],Mne=["on","off"];function FB(n,t,e,i){if((0,Ql.m)(e)&&(i=e,e=void 0),i)return FB(n,t,e).pipe(hB(i));const[r,s]=function Nne(n){return(0,Ql.m)(n.addEventListener)&&(0,Ql.m)(n.removeEventListener)}(n)?Tne.map(a=>d=>n[a](t,d,e)):function kne(n){return(0,Ql.m)(n.addListener)&&(0,Ql.m)(n.removeListener)}(n)?Ane.map(g9(n,t)):function Rne(n){return(0,Ql.m)(n.on)&&(0,Ql.m)(n.off)}(n)?Mne.map(g9(n,t)):[];if(!r&&(0,Sne.z)(n))return(0,bl.z)(a=>FB(a,t,e))((0,ws.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new qr.y(a=>{const d=(...h)=>a.next(1<h.length?h:h[0]);return r(d),()=>s(d)})}function g9(n,t){return e=>i=>n[e](t,i)}var _9=Q(1954);const v2={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=v2;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new go.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=v2;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=v2;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var v9=Q(2631);new class One extends v9.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Pne extends _9.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=v2.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(v2.cancelAnimationFrame(e),t._scheduled=void 0)}});let LB,Lne=1;const P5={};function y9(n){return n in P5&&(delete P5[n],!0)}const Bne={setImmediate(n){const t=Lne++;return P5[t]=!0,LB||(LB=Promise.resolve()),LB.then(()=>y9(t)&&n()),t},clearImmediate(n){y9(n)}},{setImmediate:Vne,clearImmediate:Une}=Bne,O5={setImmediate(...n){const{delegate:t}=O5;return(t?.setImmediate||Vne)(...n)},clearImmediate(n){const{delegate:t}=O5;return(t?.clearImmediate||Une)(n)},delegate:void 0};new class Hne extends v9.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class jne extends _9.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=O5.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(O5.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var Gne=Q(671);function b9(n,t=du.z){return function qne(n){return(0,ts.e)((t,e)=>{let i=!1,r=null,s=null,a=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const m=r;r=null,e.next(m)}a&&e.complete()},h=()=>{s=null,a&&e.complete()};t.subscribe((0,Ti.x)(e,m=>{i=!0,r=m,s||(0,ws.Xf)(n(m)).subscribe(s=(0,Ti.x)(e,d,h))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function Wne(n=0,t,e=du.P){let i=-1;return null!=t&&((0,Gne.K)(t)?e=t:i=t),new qr.y(r=>{let s=function $ne(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let BB;try{BB=typeof Intl<"u"&&Intl.v8BreakIterator}catch{BB=!1}let aE,eo=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Yd(n){return n===Or}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!BB)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const w9=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function x9(){if(aE)return aE;if("object"!=typeof document||!document)return aE=new Set(w9),aE;let n=document.createElement("input");return aE=new Set(w9.filter(t=>(n.setAttribute("type",t),n.type===t))),aE}let y2,Qb,VB;function $g(n){return function Yne(){if(null==y2&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>y2=!0}))}finally{y2=y2||!1}return y2}()?n:!!n.capture}function Zne(){if(null==Qb){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qb=!1,Qb;if("scrollBehavior"in document.documentElement.style)Qb=!0;else{const n=Element.prototype.scrollTo;Qb=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qb}function b2(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function ay(n){return n.composedPath?n.composedPath()[0]:n.target}function UB(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Xne=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function Jne(){return(0,l.f3M)(je)}}),eie=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Vh=(()=>{class n{constructor(e){this.value="ltr",this.change=new l.vpe,e&&(this.value=function tie(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?eie.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Xne,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),w2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})(),iie=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new zn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new qr.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(b9(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,_n.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Ar(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=oy(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>FB(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.R0b),l.LFG(eo),l.LFG(je,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jB=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new zn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(b9(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(eo),l.LFG(l.R0b),l.LFG(je,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),x2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})(),C9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[w2,x2,w2,x2]})}return n})();class HB{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Xb extends HB{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class L5 extends HB{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class oie extends HB{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class B5{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Xb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof L5?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof oie?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class aie extends B5{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const d=a.element,h=this._document.createComment("dom-portal");d.parentNode.insertBefore(h,d),this.outletElement.appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(d,h)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Jb=(()=>{class n extends B5{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const a=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(d,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(a,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(je))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]})}return n})(),lE=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();function Ru(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const I9=Zne();class _ie{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=zo(-this._previousScrollPosition.left),t.style.top=zo(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),I9&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),I9&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class vie{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Ar(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class D9{enable(){}disable(){}attach(){}}function zB(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function S9(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class yie{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();zB(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let bie=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new D9,this.close=a=>new vie(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new _ie(this._viewportRuler,this._document),this.reposition=a=>new yie(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(iie),l.LFG(jB),l.LFG(l.R0b),l.LFG(je))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class D2{constructor(t){if(this.scrollStrategy=new D9,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class wie{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let A9=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(je))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xie=(()=>{class n extends A9{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const d=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(je),l.LFG(l.R0b,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cie=(()=>{class n extends A9{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ay(s)},this._clickListener=s=>{const a=ay(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){const b=h[m];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(a)||b.overlayElement.contains(d))break;const x=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(s)):x.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(je),l.LFG(eo),l.LFG(l.R0b,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j5=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||UB()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),UB()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(je),l.LFG(eo))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class S2{constructor(t,e,i,r,s,a,d,h,m,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=d,this._location=h,this._outsideClickDispatcher=m,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new zn.x,this._attachments=new zn.x,this._detachments=new zn.x,this._locationChanges=go.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new zn.x,this._outsidePointerEvents=new zn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Bo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=zo(this._config.width),t.height=zo(this._config.height),t.minWidth=zo(this._config.minWidth),t.minHeight=zo(this._config.minHeight),t.maxWidth=zo(this._config.maxWidth),t.maxHeight=zo(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=N5(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(hc((0,Ps.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const T9="cdk-overlay-connected-position-bounding-box",Eie=/([A-Za-z%]+)$/;class M9{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new zn.x,this._resizeSubscription=go.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(T9),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let d of this._preferredPositions){let h=this._getOriginPoint(t,r,d),m=this._getOverlayPoint(h,e,d),b=this._getOverlayFit(m,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,h);this._canFitWithFlexibleDimensions(b,m,i)?s.push({position:d,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,d)}):(!a||a.overlayFit.visibleArea<b.visibleArea)&&(a={overlayFit:b,overlayPoint:m,originPoint:h,position:d,overlayRect:e})}if(s.length){let d=null,h=-1;for(const m of s){const b=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);b>h&&(h=b,d=m)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ew(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(T9),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?a:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=R9(e);let{x:a,y:d}=t,h=this._getOffset(r,"x"),m=this._getOffset(r,"y");h&&(a+=h),m&&(d+=m);let M=0-d,D=d+s.height-i.height,P=this._subtractOverflows(s.width,0-a,a+s.width-i.width),F=this._subtractOverflows(s.height,M,D),U=P*F;return{visibleArea:U,isCompletelyWithinViewport:s.width*s.height===U,fitsInViewportVertically:F===s.height,fitsInViewportHorizontally:P==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=k9(this._overlayRef.getConfig().minHeight),d=k9(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=a&&a<=r)&&(t.fitsInViewportHorizontally||null!=d&&d<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=R9(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),h=Math.max(s.top-i.top-t.y,0),m=Math.max(s.left-i.left-t.x,0);let b=0,x=0;return b=r.width<=s.width?m||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,x=r.height<=s.height?h||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:b,y:x},{x:t.x+b,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new wie(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,d,b,x,M;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const D=Math.min(i.bottom-t.y+i.top,t.y),P=this._lastBoundingBoxSize.height;s=2*D,a=t.y-D,s>P&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-P/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)M=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)x=t.x,b=i.right-t.x;else{const D=Math.min(i.right-t.x+i.left,t.x),P=this._lastBoundingBoxSize.width;b=2*D,x=t.x-D,b>P&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-P/2)}return{top:a,left:x,bottom:d,right:M,width:b,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=zo(i.height),r.top=zo(i.top),r.bottom=zo(i.bottom),r.width=zo(i.width),r.left=zo(i.left),r.right=zo(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=zo(s)),a&&(r.maxWidth=zo(a))}this._lastBoundingBoxSize=i,ew(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ew(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ew(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();ew(i,this._getExactOverlayY(e,t,b)),ew(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",h=this._getOffset(e,"x"),m=this._getOffset(e,"y");h&&(d+=`translateX(${h}px) `),m&&(d+=`translateY(${m}px)`),i.transform=d.trim(),a.maxHeight&&(r?i.maxHeight=zo(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=zo(a.maxWidth):s&&(i.maxWidth="")),ew(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=zo(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=zo(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:S9(t,i),isOriginOutsideView:zB(t,i),isOverlayClipped:S9(e,i),isOverlayOutsideView:zB(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&N5(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function ew(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function k9(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Eie);return e&&"px"!==e?null:parseFloat(t)}return n||null}function R9(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const N9="cdk-global-overlay-wrapper";class Iie{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(N9),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:d}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),m=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,x=this._xOffset,M="rtl"===this._overlayRef.getConfig().direction;let D="",P="",F="";h?F="flex-start":"center"===b?(F="center",M?P=x:D=x):M?"left"===b||"end"===b?(F="flex-end",D=x):("right"===b||"start"===b)&&(F="flex-start",P=x):"left"===b||"start"===b?(F="flex-start",D=x):("right"===b||"end"===b)&&(F="flex-end",P=x),t.position=this._cssPosition,t.marginLeft=h?"0":D,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":P,e.justifyContent=F,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(N9),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Die=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Iie}flexibleConnectedTo(e){return new M9(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(jB),l.LFG(je),l.LFG(eo),l.LFG(j5))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sie=0,Nu=(()=>{class n{constructor(e,i,r,s,a,d,h,m,b,x,M,D){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=d,this._ngZone=h,this._document=m,this._directionality=b,this._location=x,this._outsideClickDispatcher=M,this._animationsModuleType=D}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new D2(e);return a.direction=a.direction||this._directionality.value,new S2(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Sie++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new aie(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(bie),l.LFG(j5),l.LFG(l._Vd),l.LFG(Die),l.LFG(xie),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(je),l.LFG(Vh),l.LFG(Qt),l.LFG(Cie),l.LFG(l.QbO,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Aie=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],P9=new l.OlP("cdk-connected-overlay-scroll-strategy");let qB=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),O9=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Br(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Br(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Br(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Br(e)}get push(){return this._push}set push(e){this._push=Br(e)}constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=go.w0.EMPTY,this._attachSubscription=go.w0.EMPTY,this._detachSubscription=go.w0.EMPTY,this._positionSubscription=go.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new L5(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Aie);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ru(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new D2({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof qB?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function sie(n,t=!1){return(0,ts.e)((e,i)=>{let r=0;e.subscribe((0,Ti.x)(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Nu),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(P9),l.Y36(Vh,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[l.TTD]})}return n})();const Mie={provide:P9,deps:[Nu],useFactory:function Tie(n){return()=>n.scrollStrategies.reposition()}};let dE=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[Nu,Mie],imports:[w2,lE,C9,C9]})}return n})();function F9(n){return Ar((t,e)=>n<=e)}let kie=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),L9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[kie]})}return n})();const B9=new Set;let tw,Rie=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Pie}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Nie(n,t){if(!B9.has(n))try{tw||(tw=document.createElement("style"),t&&(tw.nonce=t),tw.setAttribute("type","text/css"),document.head.appendChild(tw)),tw.sheet&&(tw.sheet.insertRule(`@media ${n} {body{ }}`,0),B9.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(eo),l.LFG(l.Ojb,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pie(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let GB=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new zn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return V9(N5(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=m5(V9(N5(e)).map(a=>this._registerQuery(a).observable));return s=dx(s.pipe(Bo(1)),s.pipe(F9(1),J6(0))),s.pipe((0,En.U)(a=>{const d={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:m})=>{d.matches=d.matches||h,d.breakpoints[m]=h}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new qr.y(a=>{const d=h=>this._zone.run(()=>a.next(h));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(ec(i),(0,En.U)(({matches:a})=>({query:e,matches:a})),hc(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Rie),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V9(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function j9(n,t,e){const r=H9(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function H9(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}class Vie{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new zn.x,this._typeaheadSubscription=go.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new zn.x,this.change=new zn.x,t instanceof l.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ho.b)(e=>this._pressedLetters.push(e)),J6(t),Ar(()=>this._pressedLetters.length>0),(0,En.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(s<a?s:a-1,-1);break}return;default:return void((r||Ru(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class Uie extends Vie{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let H5=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Hie(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function jie(n){try{return n.frameElement}catch{return null}}(function Kie(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===q9(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=q9(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Yie(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Zie(n){return!function qie(n){return function $ie(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function zie(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Gie(n){return function Wie(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||z9(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(eo))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function z9(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function q9(n){if(!z9(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Qie{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Bo(1)).subscribe(t)}}let z5=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Qie(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(H5),l.LFG(l.R0b),l.LFG(je))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xie=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Br(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Br(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=b2(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(z5),l.Y36(je))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[l.TTD]})}return n})();function G9(n){return 0===n.buttons||0===n.detail}function $9(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Jie=new l.OlP("cdk-input-modality-detector-options"),ere={ignoreKeys:[18,17,224,91,16]},hE=$g({passive:!0,capture:!0});let tre=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Rd.X(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(d=>d===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ay(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(G9(a)?"keyboard":"mouse"),this._mostRecentTarget=ay(a))},this._onTouchstart=a=>{$9(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ay(a))},this._options={...ere,...s},this.modalityDetected=this._modality.pipe(F9(1)),this.modalityChanged=this.modalityDetected.pipe((0,$a.x)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,hE),r.addEventListener("mousedown",this._onMousedown,hE),r.addEventListener("touchstart",this._onTouchstart,hE)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hE),document.removeEventListener("mousedown",this._onMousedown,hE),document.removeEventListener("touchstart",this._onTouchstart,hE))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(eo),l.LFG(l.R0b),l.LFG(je),l.LFG(Jie,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const nre=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ire(){return null}}),rre=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let sre=0,$B=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+sre++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],a=s.getAttribute("aria-owns");a?-1===a.indexOf(e)&&s.setAttribute("aria-owns",a+" "+e):s.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(nre,8),l.LFG(l.R0b),l.LFG(je),l.LFG(rre,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ore=new l.OlP("cdk-focus-monitor-default-options"),q5=$g({passive:!0,capture:!0});let A2=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new zn.x,this._rootNodeFocusAndBlurListener=d=>{for(let m=ay(d);m;m=m.parentElement)"focus"===d.type?this._onFocus(d,m):this._onBlur(d,m)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=oy(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,_n.of)();const s=function Qne(n){if(function Kne(){if(null==VB){const n=typeof document<"u"?document.head:null;VB=!(!n||!n.createShadowRoot&&!n.attachShadow)}return VB}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const d={checkChildren:i,subject:new zn.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=oy(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=oy(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,h])=>this._originChanged(d,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=ay(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,q5),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,q5)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hc(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,q5),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,q5),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.R0b),l.LFG(eo),l.LFG(tre),l.LFG(je,8),l.LFG(ore,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),are=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new l.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(A2))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();const Y9="cdk-high-contrast-black-on-white",Z9="cdk-high-contrast-white-on-black",WB="cdk-high-contrast-active";let K9=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,l.f3M)(GB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(WB,Y9,Z9),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(WB,Y9):2===i&&e.add(WB,Z9)}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(eo),l.LFG(je))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Q9=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(K9))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[L9]})}return n})();function lre(n,t){}class G5{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let X9=(()=>{class n extends B5{constructor(e,i,r,s,a,d,h,m){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=d,this._overlayRef=h,this._focusMonitor=m,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const x=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),x},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=b2(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=b2();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=b2())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(z5),l.Y36(je,8),l.Y36(G5),l.Y36(H5),l.Y36(l.R0b),l.Y36(S2),l.Y36(A2))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&l.Gf(Jb,7),2&i){let s;l.iGM(s=l.CRH())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&l.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&l.YNc(0,lre,0,0,"ng-template",0)},dependencies:[Jb],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class YB{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new zn.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ru(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const J9=new l.OlP("DialogScrollStrategy"),cre=new l.OlP("DialogData"),ure=new l.OlP("DefaultDialogConfig"),hre={provide:J9,deps:[Nu],useFactory:function dre(n){return()=>n.scrollStrategies.block()}};let fre=0,eq=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,s,a,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new zn.x,this._afterOpenedAtThisLevel=new zn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=e2(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ec(void 0))),this._scrollStrategy=d}open(e,i){(i={...this._defaultOptions||new G5,...i}).id=i.id||"cdk-dialog-"+fre++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),d=new YB(a,i),h=this._attachContainer(a,d,i);return d.containerInstance=h,this._attachDialogContent(e,d,h,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){ZB(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){ZB(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),ZB(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new D2({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:G5,useValue:r},{provide:YB,useValue:i},{provide:S2,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,a.push(...r.container.providers(r))):d=X9;const h=new Xb(d,r.viewContainerRef,l.zs3.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,i,r,s){if(e instanceof l.Rgc){const a=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new L5(e,null,d,a))}else{const a=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new Xb(e,s.viewContainerRef,a,s.componentFactoryResolver));i.componentRef=d,i.componentInstance=d.instance}}_createInjector(e,i,r,s){const a=e.injector||e.viewContainerRef?.injector,d=[{provide:cre,useValue:e.data},{provide:YB,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,r)):d.push(...e.providers)),e.direction&&(!a||!a.get(Vh,null,{optional:!0}))&&d.push({provide:Vh,useValue:{value:e.direction,change:(0,_n.of)()}}),l.zs3.create({parent:a||s,providers:d})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Nu),l.LFG(l.zs3),l.LFG(ure,8),l.LFG(n,12),l.LFG(j5),l.LFG(J9))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();function ZB(n,t){let e=n.length;for(;e--;)t(n[e])}let pre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[eq,hre],imports:[dE,lE,Q9,lE]})}return n})();const mre=["text"];function gre(n,t){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",6),2&n){const e=l.oxw();l.Q6J("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function _re(n,t){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",7),2&n){const e=l.oxw();l.Q6J("disabled",e.disabled)}}function vre(n,t){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij("(",e.group.label,")")}}const yre=[[["mat-icon"]],"*"],bre=["mat-icon","*"],xre=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function wre(){return!0}});let xr=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!UB()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(K9),l.LFG(xre,8),l.LFG(je))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[w2,w2]})}return n})();function iq(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Br(t)}constructor(...t){super(...t),this._disabled=!1}}}function KB(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function rq(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Br(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Cre(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?fc(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function sq(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const Ere=new l.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Ire(){return(0,l.f3M)(l.soG)}});class Qa{constructor(){this._localeChanges=new zn.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const nw=new l.OlP("mat-date-formats"),Dre=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function QB(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let Sre=(()=>{class n extends Qa{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return QB(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return QB(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return QB(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Dre.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ere,8),l.LFG(eo))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const Are={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Tre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[{provide:Qa,useClass:Sre}]})}return n})(),Mre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[{provide:nw,useValue:Are}],imports:[Tre]})}return n})(),oq=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[xr,xr]})}return n})();class kre{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lq=$g({passive:!0,capture:!0});class Rre{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=ay(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const a=s.get(i);a?a.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,lq)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,lq)))}}const cq={enterDuration:225,exitDuration:150},uq=$g({passive:!0,capture:!0}),dq=["mousedown","touchstart"],hq=["mouseup","mouseleave","touchend","touchcancel"];class $5{static#e=this._eventManager=new Rre;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=oy(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...cq,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function Pre(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,h=e-r.top,m=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-a+"px",b.style.top=h-a+"px",b.style.height=2*a+"px",b.style.width=2*a+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(b);const x=window.getComputedStyle(b),D=x.transitionDuration,P="none"===x.transitionProperty||"0s"===D||"0s, 0s"===D||0===r.width&&0===r.height,F=new kre(this,b,i,P);b.style.transform="scale3d(1, 1, 1)",F.state=0,i.persistent||(this._mostRecentTransientRipple=F);let U=null;return!P&&(m||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const j=()=>this._finishRippleTransition(F),Z=()=>this._destroyRipple(F);b.addEventListener("transitionend",j),b.addEventListener("transitioncancel",Z),U={onTransitionEnd:j,onTransitionCancel:Z}}),this._activeRipples.set(F,U),(P||!m)&&this._finishRippleTransition(F),F}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...cq,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=oy(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,dq.forEach(i=>{$5._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{hq.forEach(e=>{this._triggerElement.addEventListener(e,this,uq)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=G9(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!$9(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(dq.forEach(e=>$5._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&hq.forEach(e=>t.removeEventListener(e,this,uq)))}}const fq=new l.OlP("mat-ripple-global-options");let pq=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new $5(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(eo),l.Y36(fq,8),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),W5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[xr,xr]})}return n})(),Ore=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),Fre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[xr]})}return n})();const mq=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),gq=new l.OlP("MatOptgroup");let Lre=0;class Bre{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Vre=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Br(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Lre++,this.onSelectionChange=new l.vpe,this._stateChanges=new zn.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ru(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Bre(this,e))}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275dir=l.lG2({type:n,viewQuery:function(i,r){if(1&i&&l.Gf(mre,7),2&i){let s;l.iGM(s=l.CRH())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),_q=(()=>{class n extends Vre{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(mq,8),l.Y36(gq,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&l.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&i&&(l.Ikx("id",r.id),l.uIk("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),l.ekj("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:bre,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(l.F$t(yre),l.YNc(0,gre,1,2,"mat-pseudo-checkbox",0),l.Hsn(1),l.TgZ(2,"span",1,2),l.Hsn(4,1),l.qZA(),l.YNc(5,_re,1,1,"mat-pseudo-checkbox",3),l.YNc(6,vre,2,1,"span",4),l._UZ(7,"div",5)),2&i&&(l.Q6J("ngIf",r.multiple),l.xp6(5),l.Q6J("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),l.xp6(1),l.Q6J("ngIf",r.group&&r.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[pq,ma,Ore],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),vq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[W5,qs,xr,Fre]})}return n})();const yq={capture:!0},bq=["focus","click","mouseenter","touchstart"],XB="mat-ripple-loader-uninitialized",JB="mat-ripple-loader-class-name",wq="mat-ripple-loader-centered",Y5="mat-ripple-loader-disabled";let Hre=(()=>{class n{constructor(){this._document=(0,l.f3M)(je,{optional:!0}),this._animationMode=(0,l.f3M)(l.QbO,{optional:!0}),this._globalRippleOptions=(0,l.f3M)(fq,{optional:!0}),this._platform=(0,l.f3M)(eo),this._ngZone=(0,l.f3M)(l.R0b),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${XB}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of bq)this._document?.addEventListener(e,this._onInteraction,yq)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of bq)this._document?.removeEventListener(i,this._onInteraction,yq)}configureRipple(e,i){e.setAttribute(XB,""),(i.className||!e.hasAttribute(JB))&&e.setAttribute(JB,i.className||""),i.centered&&e.setAttribute(wq,""),i.disabled&&e.setAttribute(Y5,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(Y5,""):e.removeAttribute(Y5)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(JB)),e.append(r);const s=new pq(new l.SBq(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=e,s.centered=e.hasAttribute(wq),s.disabled=e.hasAttribute(Y5),this.attachRipple(e,s),s}attachRipple(e,i){e.removeAttribute(XB),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xq{}class zre{}const Zg="*";function Kg(n,t){return{type:7,name:n,definitions:t,options:{}}}function qc(n,t=null){return{type:4,styles:t,timings:n}}function Eq(n,t=null){return{type:2,steps:n,options:t}}function ns(n){return{type:6,styles:n,offset:null}}function kp(n,t,e){return{type:0,name:n,styles:t,options:e}}function Iq(n){return{type:5,steps:n}}function pc(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function eV(n=null){return{type:9,options:n}}function tV(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class M2{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Dq{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,d)=>Math.max(a,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function qre(n,t){}class Z5{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const iV="mdc-dialog--open",Sq="mdc-dialog--opening",Aq="mdc-dialog--closing";let Wre=(()=>{class n extends X9{constructor(e,i,r,s,a,d,h,m){super(e,i,r,s,a,d,h,m),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(z5),l.Y36(je,8),l.Y36(Z5),l.Y36(H5),l.Y36(l.R0b),l.Y36(S2),l.Y36(A2))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();const Tq="--mat-dialog-transition-duration";function Mq(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?fc(n.substring(0,n.length-2)):n.endsWith("s")?1e3*fc(n.substring(0,n.length-1)):"0"===n?0:null}let Yre=(()=>{class n extends Wre{constructor(e,i,r,s,a,d,h,m,b){super(e,i,r,s,a,d,h,b),this._animationMode=m,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Mq(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Mq(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Tq,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Sq,iV)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(iV),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(iV),this._animationsEnabled?(this._hostElement.style.setProperty(Tq,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Aq)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Sq,Aq)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(z5),l.Y36(je,8),l.Y36(Z5),l.Y36(H5),l.Y36(l.R0b),l.Y36(S2),l.Y36(l.QbO,8),l.Y36(A2))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(l.Ikx("id",r._config.id),l.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),l.ekj("_mat-animation-noopable",!r._animationsEnabled))},features:[l.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,qre,0,0,"ng-template",2),l.qZA()())},dependencies:[Jb],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class rV{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new zn.x,this._beforeClosed=new zn.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Ar(r=>"opened"===r.state),Bo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ar(r=>"closed"===r.state),Bo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ps.T)(this.backdropClick(),this.keydownEvents().pipe(Ar(r=>27===r.keyCode&&!this.disableClose&&!Ru(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function Zre(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ar(e=>"closing"===e.state),Bo(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Kre=new l.OlP("MatMdcDialogData"),Qre=new l.OlP("mat-mdc-dialog-default-options"),kq=new l.OlP("mat-mdc-dialog-scroll-strategy"),Jre={provide:kq,deps:[Nu],useFactory:function Xre(n){return()=>n.scrollStrategies.block()}};let ese=0,tse=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,s,a,d,h,m,b,x){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=h,this._dialogContainerType=m,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new zn.x,this._afterOpenedAtThisLevel=new zn.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Z5,this.afterAllClosed=e2(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ec(void 0))),this._scrollStrategy=d,this._dialog=i.get(eq)}open(e,i){let r;(i={...this._defaultOptions||new Z5,...i}).id=i.id||`${this._idPrefix}${ese++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:G5,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,d,h)=>(r=new this._dialogRefConstructor(a,i,h),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),K5=(()=>{class n extends tse{constructor(e,i,r,s,a,d,h,m){super(e,i,s,d,h,a,rV,Yre,Kre,m),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Nu),l.LFG(l.zs3),l.LFG(Qt,8),l.LFG(Qre,8),l.LFG(kq),l.LFG(n,12),l.LFG(j5),l.LFG(l.QbO,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),nse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[K5,Jre],imports:[pre,dE,lE,xr,xr]})}return n})();const ise=["mat-button",""],rse=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],sse=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ase=["mat-icon-button",""],lse=["*"],cse=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],use=KB(iq(rq(class{constructor(n){this._elementRef=n}})));let Nq=(()=>{class n extends use{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Br(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=Br(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,l.f3M)(A2),this._rippleLoader=(0,l.f3M)(Hre),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const a=e.nativeElement.classList;for(const d of cse)this._hasHostAttributes(d.selector)&&d.mdcClasses.forEach(h=>{a.add(h)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275dir=l.lG2({type:n,features:[l.qOj]})}return n})(),uy=(()=>{class n extends Nq{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(eo),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:ise,ngContentSelectors:sse,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(l.F$t(rse),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&i&&l.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Pq=(()=>{class n extends Nq{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(eo),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:ase,ngContentSelectors:lse,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Q5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[xr,W5,xr]})}return n})(),fse=(()=>{class n{constructor(e){this.dialogRef=e}ngOnInit(){}closePopup(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(rV))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-warn"]],decls:7,vars:0,consts:[[1,"popup-content"],["mat-button","",1,"close-button",3,"click"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Invalid date selection!"),l.qZA(),l.TgZ(3,"p"),l._uU(4,"Departure date should be later than arrival"),l.qZA(),l.TgZ(5,"button",1),l.NdJ("click",function(){return r.closePopup()}),l._uU(6,"Close"),l.qZA()())},dependencies:[uy],styles:["[_nghost-%COMP%]{display:block}.popup-content[_ngcontent-%COMP%]{text-align:center}h2[_ngcontent-%COMP%]{color:#3498db}p[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]{margin-top:0;background-color:#df4b57;margin-bottom:5%}@media only screen and (max-width: 600px){h2[_ngcontent-%COMP%]{font-size:1.5em}p[_ngcontent-%COMP%]{font-size:.8em;margin-bottom:10px}button[_ngcontent-%COMP%]{font-size:.9em;margin-bottom:3%}}@media only screen and (min-width: 601px) and (max-width: 768px){h2[_ngcontent-%COMP%]{font-size:1.8em}p[_ngcontent-%COMP%]{font-size:1em;margin-bottom:15px}button[_ngcontent-%COMP%]{font-size:1em;margin-bottom:4%}}"]})}return n})(),fE=(()=>{class n{constructor(){this.selectedOptions={},this.availabilityCheckCallback=()=>{}}getSelectedOptions(){return{...this.selectedOptions}}setSelectedOptions(e){this.selectedOptions={...e};const i=e.arrivalDate?e.arrivalDate.getTime():0,r=e.departureDate?e.departureDate.getTime():0,s=Math.ceil((r-i)/864e5);this.stay=s,console.log(s),this.availabilityCheckCallback&&this.availabilityCheckCallback()}getStayDays(){return this.stay}onAvailabilityCheck(e){this.availabilityCheckCallback=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pse=(()=>{class n{constructor(e){this.sharedService=e}getAvailableRooms(){const e=this.sharedService.getSelectedOptions();return[].filter(r=>this.isRoomAvailableForSelectedOptions(r,e))}isRoomAvailableForSelectedOptions(e,i){return void 0===i.people||!0}calculateTotalAmount(e,i,r=!0){const s=e.data.price*i;return s-s*(i>=3&&r?.05:0)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(fE))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mse=["*"],vse=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],yse=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],bse=new l.OlP("MAT_CARD_CONFIG");let iw=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(bse,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&l.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:mse,decls:1,vars:0,template:function(i,r){1&i&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),rw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),sw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),ow=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),k2=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),aw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:yse,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(l.F$t(vse),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0})}return n})(),pE=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}return n})(),Cse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[xr,qs,xr]})}return n})();class Ese{constructor(t){this._box=t,this._destroyed=new zn.x,this._resizeSubject=new zn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new qr.y(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Ar(e=>e.some(i=>i.target===t)),gv({bufferSize:1,refCount:!0}),hc(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Ise=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,l.f3M)(l.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Ese(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Dse=["notch"],Sse=["matFormFieldNotchedOutline",""],Ase=["*"],Tse=["textField"],Mse=["iconPrefixContainer"],kse=["textPrefixContainer"];function Rse(n,t){1&n&&l._UZ(0,"span",19)}function Nse(n,t){if(1&n&&(l.TgZ(0,"label",17),l.Hsn(1,1),l.YNc(2,Rse,1,0,"span",18),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),l.uIk("for",e._control.id),l.xp6(2),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Pse(n,t){if(1&n&&l.YNc(0,Nse,3,5,"label",16),2&n){const e=l.oxw();l.Q6J("ngIf",e._hasFloatingLabel())}}function Ose(n,t){1&n&&l._UZ(0,"div",20)}function Fse(n,t){}function Lse(n,t){if(1&n&&l.YNc(0,Fse,0,0,"ng-template",22),2&n){l.oxw(2);const e=l.MAs(1);l.Q6J("ngTemplateOutlet",e)}}function Bse(n,t){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,Lse,1,1,"ng-template",9),l.qZA()),2&n){const e=l.oxw();l.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),l.xp6(1),l.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function Vse(n,t){1&n&&(l.TgZ(0,"div",23,24),l.Hsn(2,2),l.qZA())}function Use(n,t){1&n&&(l.TgZ(0,"div",25,26),l.Hsn(2,3),l.qZA())}function jse(n,t){}function Hse(n,t){if(1&n&&l.YNc(0,jse,0,0,"ng-template",22),2&n){l.oxw();const e=l.MAs(1);l.Q6J("ngTemplateOutlet",e)}}function zse(n,t){1&n&&(l.TgZ(0,"div",27),l.Hsn(1,4),l.qZA())}function qse(n,t){1&n&&(l.TgZ(0,"div",28),l.Hsn(1,5),l.qZA())}function Gse(n,t){1&n&&l._UZ(0,"div",29)}function $se(n,t){if(1&n&&(l.TgZ(0,"div",30),l.Hsn(1,6),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Wse(n,t){if(1&n&&(l.TgZ(0,"mat-hint",34),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function Yse(n,t){if(1&n&&(l.TgZ(0,"div",31),l.YNc(1,Wse,2,2,"mat-hint",32),l.Hsn(2,7),l._UZ(3,"div",33),l.Hsn(4,8),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const Zse=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Kse=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let sV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]})}return n})();const Qse=new l.OlP("MatError");let Xse=0,oV=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Xse++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(l.Ikx("id",r.id),l.uIk("align",null),l.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const Jse=new l.OlP("MatPrefix"),Oq=new l.OlP("MatSuffix");let eoe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[l._Bn([{provide:Oq,useExisting:n}])]})}return n})();const Fq=new l.OlP("FloatingLabelParent");let Lq=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,l.f3M)(Ise),this._ngZone=(0,l.f3M)(l.R0b),this._parent=(0,l.f3M)(Fq),this._resizeSubscription=new go.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function toe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const Bq="mdc-line-ripple--active",X5="mdc-line-ripple--deactivating";let Vq=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,a=s.contains(X5);"opacity"===r.propertyName&&a&&s.remove(Bq,X5)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(X5),e.add(Bq)}deactivate(){this._elementRef.nativeElement.classList.add(X5)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),Uq=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&l.Gf(Dse,5),2&i){let s;l.iGM(s=l.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Sse,ngContentSelectors:Ase,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1,2),l.Hsn(3),l.qZA(),l._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const noe={transitionMessages:Kg("transitionMessages",[kp("enter",ns({opacity:1,transform:"translateY(0%)"})),pc("void => enter",[ns({opacity:0,transform:"translateY(-5px)"}),qc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let aV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n})}return n})();const J5=new l.OlP("MatFormField"),ioe=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let jq=0,ooe=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Br(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,a,d,h,m){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=a,this._defaults=d,this._animationMode=h,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+jq++,this._hintLabelId="mat-mdc-hint-"+jq++,this._subscriptAnimationState="",this._destroyed=new zn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,d&&(d.appearance&&(this.appearance=d.appearance),this._hideRequiredMarker=!!d?.hideRequiredMarker,d.color&&(this.color=d.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(hc(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ps.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(hc(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(hc(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(Vh),l.Y36(eo),l.Y36(ioe,8),l.Y36(l.QbO,8),l.Y36(je))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(l.Suo(s,sV,5),l.Suo(s,sV,7),l.Suo(s,aV,5),l.Suo(s,Jse,5),l.Suo(s,Oq,5),l.Suo(s,Qse,5),l.Suo(s,oV,5)),2&i){let a;l.iGM(a=l.CRH())&&(r._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(r._formFieldControl=a.first),l.iGM(a=l.CRH())&&(r._prefixChildren=a),l.iGM(a=l.CRH())&&(r._suffixChildren=a),l.iGM(a=l.CRH())&&(r._errorChildren=a),l.iGM(a=l.CRH())&&(r._hintChildren=a)}},viewQuery:function(i,r){if(1&i&&(l.Gf(Tse,5),l.Gf(Mse,5),l.Gf(kse,5),l.Gf(Lq,5),l.Gf(Uq,5),l.Gf(Vq,5)),2&i){let s;l.iGM(s=l.CRH())&&(r._textField=s.first),l.iGM(s=l.CRH())&&(r._iconPrefixContainer=s.first),l.iGM(s=l.CRH())&&(r._textPrefixContainer=s.first),l.iGM(s=l.CRH())&&(r._floatingLabel=s.first),l.iGM(s=l.CRH())&&(r._notchedOutline=s.first),l.iGM(s=l.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&l.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:J5,useExisting:n},{provide:Fq,useExisting:n}])],ngContentSelectors:Kse,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(l.F$t(Zse),l.YNc(0,Pse,1,1,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.NdJ("click",function(a){return r._control.onContainerClick(a)}),l.YNc(4,Ose,1,0,"div",3),l.TgZ(5,"div",4),l.YNc(6,Bse,2,2,"div",5),l.YNc(7,Vse,3,0,"div",6),l.YNc(8,Use,3,0,"div",7),l.TgZ(9,"div",8),l.YNc(10,Hse,1,1,"ng-template",9),l.Hsn(11),l.qZA(),l.YNc(12,zse,2,0,"div",10),l.YNc(13,qse,2,0,"div",11),l.qZA(),l.YNc(14,Gse,1,0,"div",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,$se,2,1,"div",14),l.YNc(17,Yse,5,2,"div",15),l.qZA()),2&i&&(l.xp6(2),l.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),l.xp6(2),l.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),l.xp6(2),l.Q6J("ngIf",r._hasOutline()),l.xp6(1),l.Q6J("ngIf",r._hasIconPrefix),l.xp6(1),l.Q6J("ngIf",r._hasTextPrefix),l.xp6(2),l.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),l.xp6(2),l.Q6J("ngIf",r._hasTextSuffix),l.xp6(1),l.Q6J("ngIf",r._hasIconSuffix),l.xp6(1),l.Q6J("ngIf",!r._hasOutline()),l.xp6(1),l.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[ma,Wd,ss,Gd,oV,Lq,Uq,Vq],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[noe.transitionMessages]},changeDetection:0})}return n})(),eP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[xr,qs,L9,xr]})}return n})();const qq=$g({passive:!0});let aoe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return op.E;const i=oy(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new zn.x,a="cdk-text-field-autofilled",d=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,qq),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,qq)}}),s}stopMonitoring(e){const i=oy(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(eo),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),loe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();let $q=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n})}return n})(),lw=(()=>{class n extends $q{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,features:[l.qOj]})}return n})();const Pu=new l.OlP("NgValueAccessor"),uoe={provide:Pu,useExisting:(0,l.Gpc)(()=>mE),multi:!0},hoe=new l.OlP("CompositionEventMode");let mE=(()=>{class n extends $q{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function doe(){const n=ee()?ee().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(hoe,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([uoe]),l.qOj]})}return n})();function dy(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Yq(n){return null!=n&&"number"==typeof n.length}const Xa=new l.OlP("NgValidators"),hy=new l.OlP("NgAsyncValidators"),foe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lV{static min(t){return function Zq(n){return t=>{if(dy(t.value)||dy(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Kq(n){return t=>{if(dy(t.value)||dy(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Qq(t)}static requiredTrue(t){return function Xq(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Jq(n){return dy(n.value)||foe.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function eG(n){return t=>dy(t.value)||!Yq(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function tG(n){return t=>Yq(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function nG(n){if(!n)return tP;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(dy(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return lG(t)}static composeAsync(t){return cG(t)}}function Qq(n){return dy(n.value)?{required:!0}:null}function tP(n){return null}function iG(n){return null!=n}function rG(n){return(0,l.QGY)(n)?(0,yr.D)(n):n}function sG(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function oG(n,t){return t.map(e=>e(n))}function aG(n){return n.map(t=>function poe(n){return!n.validate}(t)?t:e=>t.validate(e))}function lG(n){if(!n)return null;const t=n.filter(iG);return 0==t.length?null:function(e){return sG(oG(e,t))}}function cV(n){return null!=n?lG(aG(n)):null}function cG(n){if(!n)return null;const t=n.filter(iG);return 0==t.length?null:function(e){return function Gq(...n){const t=(0,ll.jO)(n),{args:e,keys:i}=uz(n),r=new qr.y(s=>{const{length:a}=e;if(!a)return void s.complete();const d=new Array(a);let h=a,m=a;for(let b=0;b<a;b++){let x=!1;(0,ws.Xf)(e[b]).subscribe((0,Ti.x)(s,M=>{x||(x=!0,m--),d[b]=M},()=>h--,void 0,()=>{(!h||!x)&&(m||s.next(i?dz(i,d):d),s.complete())}))}});return t?r.pipe(hB(t)):r}(oG(e,t).map(rG)).pipe((0,En.U)(sG))}}function uV(n){return null!=n?cG(aG(n)):null}function uG(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function dG(n){return n._rawValidators}function hG(n){return n._rawAsyncValidators}function dV(n){return n?Array.isArray(n)?n:[n]:[]}function nP(n,t){return Array.isArray(n)?n.includes(t):n===t}function fG(n,t){const e=dV(t);return dV(n).forEach(r=>{nP(e,r)||e.push(r)}),e}function pG(n,t){return dV(t).filter(e=>!nP(n,e))}class mG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cV(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=uV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class mc extends mG{get formDirective(){return null}get path(){return null}}class Rp extends mG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gG{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let iP=(()=>{class n extends gG{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Rp,2))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]})}return n})(),rP=(()=>{class n extends gG{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(mc,10))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]})}return n})();const R2="VALID",oP="INVALID",gE="PENDING",N2="DISABLED";function pV(n){return(aP(n)?n.validators:n)||null}function mV(n,t){return(aP(t)?t.asyncValidators:n)||null}function aP(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class bG{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===R2}get invalid(){return this.status===oP}get pending(){return this.status==gE}get disabled(){return this.status===N2}get enabled(){return this.status!==N2}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(fG(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fG(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(pG(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(pG(t,this._rawAsyncValidators))}hasValidator(t){return nP(this._rawValidators,t)}hasAsyncValidator(t){return nP(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gE,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=N2,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=R2,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===R2||this.status===gE)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?N2:R2}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gE,this._hasOwnPendingAsyncValidator=!0;const e=rG(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?N2:this.errors?oP:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gE)?gE:this._anyControlsHaveStatus(oP)?oP:R2}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){aP(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function voe(n){return Array.isArray(n)?cV(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function yoe(n){return Array.isArray(n)?uV(n):n||null}(this._rawAsyncValidators)}}class gV extends bG{constructor(t,e,i){super(pV(e),mV(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function yG(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function vG(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const _E=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>lP}),lP="always";function P2(n,t,e=lP){_V(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function xoe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wG(n,t)})}(n,t),function Eoe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Coe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wG(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function woe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function uP(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),hP(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function dP(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function _V(n,t){const e=dG(n);null!==t.validator?n.setValidators(uG(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=hG(n);null!==t.asyncValidator?n.setAsyncValidators(uG(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();dP(t._rawValidators,r),dP(t._rawAsyncValidators,r)}function hP(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=dG(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=hG(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return dP(t._rawValidators,i),dP(t._rawAsyncValidators,i),e}function wG(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xG(n,t){_V(n,t)}function CG(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const Toe={provide:mc,useExisting:(0,l.Gpc)(()=>fy)},O2=(()=>Promise.resolve())();let fy=(()=>{class n extends mc{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new gV({},cV(e),uV(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){O2.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),P2(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){O2.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){O2.then(()=>{const i=this._findContainer(e.path),r=new gV({});xG(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){O2.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){O2.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,CG(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Xa,10),l.Y36(hy,10),l.Y36(_E,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Toe]),l.qOj]})}return n})();function EG(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function IG(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const DG=class extends bG{constructor(t=null,e,i){super(pV(e),mV(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),aP(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=IG(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){EG(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){EG(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){IG(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Roe={provide:Rp,useExisting:(0,l.Gpc)(()=>F2)},TG=(()=>Promise.resolve())();let F2=(()=>{class n extends Rp{constructor(e,i,r,s,a,d){super(),this._changeDetectorRef=a,this.callSetDisabledState=d,this.control=new DG,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function bV(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===mE?e=s:function Soe(n){return Object.getPrototypeOf(n.constructor)===lw}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function yV(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){P2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){TG.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,l.VuI)(i);TG.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function cP(n,t){return[...t.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(mc,9),l.Y36(Xa,10),l.Y36(hy,10),l.Y36(Pu,10),l.Y36(l.sBO,8),l.Y36(_E,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Roe]),l.qOj,l.TTD]})}return n})(),fP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),kG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const Boe={provide:mc,useExisting:(0,l.Gpc)(()=>L2)};let L2=(()=>{class n extends mc{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hP(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return P2(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){uP(e.control||null,e,!1),function Aoe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,CG(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(uP(i||null,e),(n=>n instanceof DG)(r)&&(P2(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);xG(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Ioe(n,t){return hP(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_V(this.form,this),this._oldForm&&hP(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Xa,10),l.Y36(hy,10),l.Y36(_E,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Boe]),l.qOj,l.TTD]})}return n})(),cw=(()=>{class n{constructor(){this._validator=tP}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):tP,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,features:[l.TTD]})}return n})();const Koe={provide:Xa,useExisting:(0,l.Gpc)(()=>vE),multi:!0};let vE=(()=>{class n extends cw{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=e=>Qq}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Koe]),l.qOj]})}return n})(),nae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[kG]})}return n})(),rae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:_E,useValue:e.callSetDisabledState??lP}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[nae]})}return n})();const ZG=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),sae=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let oae=0;const aae=sq(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new zn.x}});let lae=(()=>{class n extends aae{get disabled(){return this._disabled}set disabled(e){this._disabled=Br(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(lV.required)??!1}set required(e){this._required=Br(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&x9().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Br(e)}constructor(e,i,r,s,a,d,h,m,b,x){super(d,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=m,this._formField=x,this._uid="mat-input-"+oae++,this.focused=!1,this.stateChanges=new zn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(P=>x9().has(P)),this._iOSKeyupListener=P=>{const F=P.target;!F.value&&0===F.selectionStart&&0===F.selectionEnd&&(F.setSelectionRange(1,1),F.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,D=M.nodeName.toLowerCase();this._inputValueAccessor=h||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===D,this._isTextarea="textarea"===D,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){sae.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(eo),l.Y36(Rp,10),l.Y36(fy,8),l.Y36(L2,8),l.Y36(oq),l.Y36(ZG,10),l.Y36(aoe),l.Y36(l.R0b),l.Y36(J5,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(l.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),l.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),l.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:aV,useExisting:n}]),l.qOj,l.TTD]})}return n})(),cae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[xr,eP,eP,loe,xr]})}return n})();const uae=["mat-calendar-body",""];function dae(n,t){if(1&n&&(l.TgZ(0,"tr",3)(1,"td",4),l._uU(2),l.qZA()()),2&n){const e=l.oxw();l.xp6(1),l.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),l.uIk("colspan",e.numCols),l.xp6(1),l.hij(" ",e.label," ")}}function hae(n,t){if(1&n&&(l.TgZ(0,"td",4),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),l.uIk("colspan",e._firstRowOffset),l.xp6(1),l.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function fae(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",8)(1,"button",9),l.NdJ("click",function(r){const a=l.CHM(e).$implicit,d=l.oxw(2);return l.KtG(d._cellClicked(a,r))})("focus",function(r){const a=l.CHM(e).$implicit,d=l.oxw(2);return l.KtG(d._emitActiveDateChange(a,r))}),l.TgZ(2,"span",10),l._uU(3),l.qZA(),l._UZ(4,"span",11),l.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw().index,s=l.oxw();l.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),l.uIk("data-mat-row",r)("data-mat-col",i),l.xp6(1),l.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),l.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),l.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null)("aria-describedby",s._getDescribedby(e.compareValue)),l.xp6(1),l.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),l.xp6(1),l.hij(" ",e.displayValue," ")}}function pae(n,t){if(1&n&&(l.TgZ(0,"tr",5),l.YNc(1,hae,2,6,"td",6),l.YNc(2,fae,5,48,"td",7),l.qZA()),2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.xp6(1),l.Q6J("ngIf",0===i&&r._firstRowOffset),l.xp6(1),l.Q6J("ngForOf",e)}}function mae(n,t){if(1&n&&(l.TgZ(0,"th",5)(1,"span",6),l._uU(2),l.qZA(),l.TgZ(3,"span",7),l._uU(4),l.qZA()()),2&n){const e=t.$implicit;l.xp6(2),l.Oqu(e.long),l.xp6(2),l.Oqu(e.narrow)}}const gae=["*"];function _ae(n,t){}function vae(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-month-view",5),l.NdJ("activeDateChange",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s.activeDate=r)})("_userSelection",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._dateSelected(r))})("dragStarted",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._dragStarted(r))})("dragEnded",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._dragEnded(r))}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function yae(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-year-view",6),l.NdJ("activeDateChange",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s.activeDate=r)})("monthSelected",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._goToDateInView(r,"month"))}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function bae(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-multi-year-view",7),l.NdJ("activeDateChange",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s.activeDate=r)})("yearSelected",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._goToDateInView(r,"year"))}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function wae(n,t){}const xae=["button"];function Cae(n,t){1&n&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"path",4),l.qZA())}const Eae=[[["","matDatepickerToggleIcon",""]]],Iae=["[matDatepickerToggleIcon]"];let B2=(()=>{class n{constructor(){this.changes=new zn.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class IV{constructor(t,e,i,r,s={},a=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=a,this.rawValue=d}}let Dae=1;const KG=$g({passive:!1,capture:!0}),py=$g({passive:!0,capture:!0}),pP=$g({passive:!0});let yE=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=(0,l.f3M)(eo),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new l.vpe,this.previewChange=new l.vpe,this.activeDateChange=new l.vpe,this.dragStarted=new l.vpe,this.dragEnded=new l.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const s=QG(r),a=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),SV(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:a?.enabled?a:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const s=SV(r.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const a=this._getCellFromElement(s);this.dragEnded.emit({value:a?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const s=QG(r);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+Dae++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,KG),r.addEventListener("mouseenter",this._enterHandler,py),r.addEventListener("focus",this._enterHandler,py),r.addEventListener("mouseleave",this._leaveHandler,py),r.addEventListener("blur",this._leaveHandler,py),r.addEventListener("mousedown",this._mousedownHandler,pP),r.addEventListener("touchstart",this._mousedownHandler,pP),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,KG),e.removeEventListener("mouseenter",this._enterHandler,py),e.removeEventListener("focus",this._enterHandler,py),e.removeEventListener("mouseleave",this._leaveHandler,py),e.removeEventListener("blur",this._leaveHandler,py),e.removeEventListener("mousedown",this._mousedownHandler,pP),e.removeEventListener("touchstart",this._mousedownHandler,pP),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Bo(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return AV(e,this.startValue,this.endValue)}_isRangeEnd(e){return TV(e,this.startValue,this.endValue)}_isInRange(e){return MV(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return AV(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const a=this.rows[i-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const a=this.rows[i+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return TV(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return MV(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return AV(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return TV(e,this.previewStart,this.previewEnd)}_isInPreview(e){return MV(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=SV(e);if(i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[l.TTD],attrs:uae,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){1&i&&(l.YNc(0,dae,3,6,"tr",0),l.YNc(1,pae,3,2,"tr",1),l.TgZ(2,"label",2),l._uU(3),l.qZA(),l.TgZ(4,"label",2),l._uU(5),l.qZA()),2&i&&(l.Q6J("ngIf",r._firstRowOffset<r.labelMinRequiredCells),l.xp6(1),l.Q6J("ngForOf",r.rows),l.xp6(1),l.Q6J("id",r._startDateLabelId),l.xp6(1),l.hij(" ",r.startDateAccessibleName,"\n"),l.xp6(1),l.Q6J("id",r._endDateLabelId),l.xp6(1),l.hij(" ",r.endDateAccessibleName,"\n"))},dependencies:[Jc,zs,ma],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return n})();function DV(n){return"TD"===n?.nodeName}function SV(n){let t;return DV(n)?t=n:DV(n.parentNode)?t=n.parentNode:DV(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function AV(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function TV(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function MV(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function QG(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class gc{constructor(t,e){this.start=t,this.end=e}}let my=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new zn.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),Sae=(()=>{class n extends my{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Qa))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const XG={provide:my,deps:[[new l.FiY,new l.tp0,my],Qa],useFactory:function Tae(n,t){return n||new Sae(t)}},mP=new l.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let JG=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof gc?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=a,this._rerenderSubscription=go.w0.EMPTY,this.activeDrag=null,this.selectedChange=new l.vpe,this._userSelection=new l.vpe,this.dragStarted=new l.vpe,this.dragEnded=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ec(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,a;this._selected instanceof gc?(s=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):s=a=this._getDateInCurrentMonth(this._selected),(s!==i||a!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Ru(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){const a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((a,d)=>({long:a,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(a),h=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),m=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new IV(r+1,i[r],h,d,m,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof gc?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.sBO),l.Y36(nw,8),l.Y36(Qa,8),l.Y36(Vh,8),l.Y36(mP,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(1&i&&l.Gf(yE,5),2&i){let s;l.iGM(s=l.CRH())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[l.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,r){1&i&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l.YNc(3,mae,5,2,"th",2),l.qZA(),l.TgZ(4,"tr"),l._UZ(5,"th",3),l.qZA()(),l.TgZ(6,"tbody",4),l.NdJ("selectedValueChange",function(a){return r._dateSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("previewChange",function(a){return r._previewChanged(a)})("dragStarted",function(a){return r.dragStarted.emit(a)})("dragEnded",function(a){return r._dragEnded(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),l.qZA()()),2&i&&(l.xp6(3),l.Q6J("ngForOf",r._weekdays),l.xp6(3),l.Q6J("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[zs,yE],encapsulation:2,changeDetection:0})}return n})();const Ou=24;let e$=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),t$(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof gc?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=go.w0.EMPTY,this.selectedChange=new l.vpe,this.yearSelected=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ec(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-V2(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<Ou;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-V2(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ou-V2(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-Ou:-Ou);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*Ou:Ou);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return V2(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new IV(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof gc){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.sBO),l.Y36(Qa,8),l.Y36(Vh,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(1&i&&l.Gf(yE,5),2&i){let s;l.iGM(s=l.CRH())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l._UZ(3,"th",2),l.qZA()(),l.TgZ(4,"tbody",3),l.NdJ("selectedValueChange",function(a){return r._yearSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),l.qZA()()),2&i&&(l.xp6(4),l.Q6J("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[yE],encapsulation:2,changeDetection:0})}return n})();function t$(n,t,e,i,r){const s=n.getYear(t),a=n.getYear(e),d=n$(n,i,r);return Math.floor((s-d)/Ou)===Math.floor((a-d)/Ou)}function V2(n,t,e,i){return function Nae(n,t){return(n%t+t)%t}(n.getYear(t)-n$(n,e,i),Ou)}function n$(n,t,e){let i=0;return e?i=n.getYear(e)-Ou+1:t&&(i=n.getYear(t)),i}let i$=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof gc?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=go.w0.EMPTY,this.selectedChange=new l.vpe,this.monthSelected=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ec(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(r,"year"):void 0;return new IV(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof gc?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.sBO),l.Y36(nw,8),l.Y36(Qa,8),l.Y36(Vh,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(1&i&&l.Gf(yE,5),2&i){let s;l.iGM(s=l.CRH())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l._UZ(3,"th",2),l.qZA()(),l.TgZ(4,"tbody",3),l.NdJ("selectedValueChange",function(a){return r._monthSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),l.qZA()()),2&i&&(l.xp6(4),l.Q6J("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[yE],encapsulation:2,changeDetection:0})}return n})(),Pae=1,Oae=(()=>{class n{constructor(e,i,r,s,a){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+Pae++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ou)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ou)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):t$(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-V2(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+Ou-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(B2),l.Y36((0,l.Gpc)(()=>NV)),l.Y36(Qa,8),l.Y36(nw,8),l.Y36(l.sBO))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:gae,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,r){1&i&&(l.F$t(),l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return r.currentPeriodClicked()}),l.TgZ(3,"span",3),l._uU(4),l.qZA(),l.O4$(),l.TgZ(5,"svg",4),l._UZ(6,"polygon",5),l.qZA()(),l.kcU(),l._UZ(7,"div",6),l.Hsn(8),l.TgZ(9,"button",7),l.NdJ("click",function(){return r.previousClicked()}),l.qZA(),l.TgZ(10,"button",8),l.NdJ("click",function(){return r.nextClicked()}),l.qZA()()(),l.TgZ(11,"label",9),l._uU(12),l.qZA()),2&i&&(l.xp6(2),l.uIk("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),l.xp6(2),l.Oqu(r.periodButtonText),l.xp6(1),l.ekj("mat-calendar-invert","month"!==r.calendar.currentView),l.xp6(4),l.Q6J("disabled",!r.previousEnabled()),l.uIk("aria-label",r.prevButtonLabel),l.xp6(1),l.Q6J("disabled",!r.nextEnabled()),l.uIk("aria-label",r.nextButtonLabel),l.xp6(1),l.Q6J("id",r._periodButtonLabelId),l.xp6(1),l.Oqu(r.periodButtonDescription))},dependencies:[uy,Pq],encapsulation:2,changeDetection:0})}return n})(),NV=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof gc?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new l.vpe,this.yearSelected=new l.vpe,this.monthSelected=new l.vpe,this.viewChanged=new l.vpe(!0),this._userSelection=new l.vpe,this._userDragDrop=new l.vpe,this._activeDrag=null,this.stateChanges=new zn.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Xb(this.headerComponent||Oae),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof gc||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(B2),l.Y36(Qa,8),l.Y36(nw,8),l.Y36(l.sBO))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(1&i&&(l.Gf(JG,5),l.Gf(i$,5),l.Gf(e$,5)),2&i){let s;l.iGM(s=l.CRH())&&(r.monthView=s.first),l.iGM(s=l.CRH())&&(r.yearView=s.first),l.iGM(s=l.CRH())&&(r.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[l._Bn([XG]),l.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,r){1&i&&(l.YNc(0,_ae,0,0,"ng-template",0),l.TgZ(1,"div",1),l.YNc(2,vae,1,11,"mat-month-view",2),l.YNc(3,yae,1,6,"mat-year-view",3),l.YNc(4,bae,1,6,"mat-multi-year-view",4),l.qZA()),2&i&&(l.Q6J("cdkPortalOutlet",r._calendarHeaderPortal),l.xp6(1),l.Q6J("ngSwitch",r.currentView),l.xp6(1),l.Q6J("ngSwitchCase","month"),l.xp6(1),l.Q6J("ngSwitchCase","year"),l.xp6(1),l.Q6J("ngSwitchCase","multi-year"))},dependencies:[ss,Gd,are,Jb,JG,i$,e$],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return n})();const r$={transformPanel:Kg("transformPanel",[pc("void => enter-dropdown",qc("120ms cubic-bezier(0, 0, 0.2, 1)",Iq([ns({opacity:0,transform:"scale(1, 0.8)"}),ns({opacity:1,transform:"scale(1, 1)"})]))),pc("void => enter-dialog",qc("150ms cubic-bezier(0, 0, 0.2, 1)",Iq([ns({opacity:0,transform:"scale(0.7)"}),ns({transform:"none",opacity:1})]))),pc("* => void",qc("100ms linear",ns({opacity:0})))]),fadeInCalendar:Kg("fadeInCalendar",[kp("void",ns({opacity:0})),kp("enter",ns({opacity:1})),pc("void => *",qc("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Fae=0;const s$=new l.OlP("mat-datepicker-scroll-strategy"),Bae={provide:s$,deps:[Nu],useFactory:function Lae(n){return()=>n.scrollStrategies.reposition()}},Vae=KB(class{constructor(n){this._elementRef=n}});let Uae=(()=>{class n extends Vae{constructor(e,i,r,s,a,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=a,this._subscriptions=new go.w0,this._animationDone=new zn.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof gc;if(s&&this._rangeSelectionStrategy){const a=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(a,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(my),l.Y36(Qa),l.Y36(mP,8),l.Y36(B2))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(1&i&&l.Gf(NV,5),2&i){let s;l.iGM(s=l.CRH())&&(r._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,r){1&i&&l.WFA("@transformPanel.start",function(a){return r._handleAnimationEvent(a)})("@transformPanel.done",function(a){return r._handleAnimationEvent(a)}),2&i&&(l.d8E("@transformPanel",r._animationState),l.ekj("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[l.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,r){if(1&i&&(l.TgZ(0,"div",0)(1,"mat-calendar",1),l.NdJ("yearSelected",function(a){return r.datepicker._selectYear(a)})("monthSelected",function(a){return r.datepicker._selectMonth(a)})("viewChanged",function(a){return r.datepicker._viewChanged(a)})("_userSelection",function(a){return r._handleUserSelection(a)})("_userDragDrop",function(a){return r._handleUserDragDrop(a)}),l.qZA(),l.YNc(2,wae,0,0,"ng-template",2),l.TgZ(3,"button",3),l.NdJ("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),l._uU(4),l.qZA()()),2&i){let s;l.ekj("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),l.uIk("aria-modal",!0)("aria-labelledby",null!==(s=r._dialogLabelId)&&void 0!==s?s:void 0),l.xp6(1),l.Q6J("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),l.xp6(1),l.Q6J("cdkPortalOutlet",r._actionsPortal),l.xp6(1),l.ekj("cdk-visually-hidden",!r._closeButtonFocused),l.Q6J("color",r.color||"primary"),l.xp6(1),l.Oqu(r._closeButtonText)}},dependencies:[Jc,uy,Xie,Jb,NV],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[r$.transformPanel,r$.fadeInCalendar]},changeDetection:0})}return n})(),o$=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Br(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Br(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Br(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function Dne(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){Br(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,s,a,d,h){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=a,this._dir=d,this._model=h,this._inputStateChanges=go.w0.EMPTY,this._document=(0,l.f3M)(je),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new l.vpe,this.monthSelected=new l.vpe,this.viewChanged=new l.vpe(!0),this.openedStream=new l.vpe,this.closedStream=new l.vpe,this._opened=!1,this.id="mat-datepicker-"+Fae++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new zn.x,this._scrollStrategy=s}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof M9&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=b2(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Bo(1)).subscribe(()=>{const a=this._document.activeElement;e&&(!a||a===this._document.activeElement||s.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Xb(Uae,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new D2({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const a=s.keyCode;(38===a||40===a||37===a||39===a||33===a||34===a)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Bo(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",a="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:a}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return(0,Ps.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Ar(r=>27===r.keyCode&&!Ru(r)||this.datepickerInput&&Ru(r,"altKey")&&38===r.keyCode&&i.every(s=>!Ru(r,s)))))}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Nu),l.Y36(l.R0b),l.Y36(l.s_b),l.Y36(s$),l.Y36(Qa,8),l.Y36(Vh,8),l.Y36(my))};static#t=this.\u0275dir=l.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[l.TTD]})}return n})(),jae=(()=>{class n extends o${static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[l._Bn([XG,{provide:o$,useExisting:n}]),l.qOj],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})();class gP{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let Hae=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Br(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new gP(this,this._elementRef.nativeElement)),this.dateChange.emit(new gP(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new l.vpe,this.dateInput=new l.vpe,this.stateChanges=new zn.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=go.w0.EMPTY,this._localeSubscription=go.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!a||this._dateAdapter.compareDate(d,a)<=0?null:{matDatepickerMin:{min:d,actual:a}}},this._maxValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!a||this._dateAdapter.compareDate(d,a)>=0?null:{matDatepickerMax:{max:d,actual:a}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function zae(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){Ru(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!Ru(e,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new gP(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new gP(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Qa,8),l.Y36(nw,8))};static#t=this.\u0275dir=l.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[l.TTD]})}return n})();const qae={provide:Pu,useExisting:(0,l.Gpc)(()=>PV),multi:!0},Gae={provide:Xa,useExisting:(0,l.Gpc)(()=>PV),multi:!0};let PV=(()=>{class n extends Hae{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=go.w0.EMPTY,this._validator=lV.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Qa,8),l.Y36(nw,8),l.Y36(J5,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,r){1&i&&l.NdJ("input",function(a){return r._onInput(a.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(a){return r._onKeydown(a)}),2&i&&(l.Ikx("disabled",r.disabled),l.uIk("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(null==r._datepicker?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[l._Bn([qae,Gae,{provide:ZG,useExisting:n}]),l.qOj]})}return n})(),$ae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),Wae=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Br(e)}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=go.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:(0,_n.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,_n.of)(),r=this.datepicker?(0,Ps.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,_n.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Ps.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(B2),l.Y36(l.sBO),l.$8M("tabindex"))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,s){if(1&i&&l.Suo(s,$ae,5),2&i){let a;l.iGM(a=l.CRH())&&(r._customIcon=a.first)}},viewQuery:function(i,r){if(1&i&&l.Gf(xae,5),2&i){let s;l.iGM(s=l.CRH())&&(r._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){1&i&&l.NdJ("click",function(a){return r._open(a)}),2&i&&(l.uIk("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),l.ekj("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[l.TTD],ngContentSelectors:Iae,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){1&i&&(l.F$t(Eae),l.TgZ(0,"button",0,1),l.YNc(2,Cae,2,0,"svg",2),l.Hsn(3),l.qZA()),2&i&&(l.Q6J("disabled",r.disabled)("disableRipple",r.disableRipple),l.uIk("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),l.xp6(2),l.Q6J("ngIf",!r._customIcon))},dependencies:[ma,Pq],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),Kae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[B2,Bae],imports:[qs,Q5,dE,Q9,lE,xr,x2]})}return n})();class Qae{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new zn.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const Xae=["trigger"],Jae=["panel"];function ele(n,t){if(1&n&&(l.TgZ(0,"span",10),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.placeholder)}}function tle(n,t){if(1&n&&(l.TgZ(0,"span",14),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Oqu(e.triggerValue)}}function nle(n,t){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function ile(n,t){if(1&n&&(l.TgZ(0,"span",11),l.YNc(1,tle,2,1,"span",12),l.YNc(2,nle,1,0,"ng-content",13),l.qZA()),2&n){const e=l.oxw();l.Q6J("ngSwitch",!!e.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function rle(n,t){if(1&n){const e=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"div",15,16),l.NdJ("@transformPanel.done",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._handleKeydown(r))}),l.Hsn(2,1),l.qZA()}if(2&n){const e=l.oxw();l.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),l.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),l.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const sle=[[["mat-select-trigger"]],"*"],ole=["mat-select-trigger","*"],ale={transformPanelWrap:Kg("transformPanelWrap",[pc("* => void",tV("@transformPanel",[eV()],{optional:!0}))]),transformPanel:Kg("transformPanel",[kp("void",ns({opacity:0,transform:"scale(1, 0.8)"})),pc("void => showing",qc("120ms cubic-bezier(0, 0, 0.2, 1)",ns({opacity:1,transform:"scale(1, 1)"}))),pc("* => void",qc("100ms linear",ns({opacity:0})))])};let l$=0;const c$=new l.OlP("mat-select-scroll-strategy"),cle=new l.OlP("MAT_SELECT_CONFIG"),ule={provide:c$,deps:[Nu],useFactory:function lle(n){return()=>n.scrollStrategies.reposition()}},dle=new l.OlP("MatSelectTrigger");class hle{constructor(t,e){this.source=t,this.value=e}}const fle=rq(Cre(iq(sq(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new zn.x}}))));let ple=(()=>{class n extends fle{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(lV.required)??!1}set required(e){this._required=Br(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Br(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Br(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=fc(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,s,a,d,h,m,b,x,M,D,P,F){super(a,s,h,m,x),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=b,this._liveAnnouncer=P,this._defaultOptions=F,this._panelOpen=!1,this._compareWith=(U,j)=>U===j,this._uid="mat-select-"+l$++,this._triggerAriaLabelledBy=null,this._destroy=new zn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+l$++,this._panelDoneAnimatingStream=new zn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=e2(()=>{const U=this.options;return U?U.changes.pipe(ec(U),(0,ir.w)(()=>(0,Ps.T)(...U.map(j=>j.onSelectionChange)))):this._ngZone.onStable.pipe(Bo(1),(0,ir.w)(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(Ar(U=>U),(0,En.U)(()=>{})),this._closedStream=this.openedChange.pipe(Ar(U=>!U),(0,En.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=F?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=F.typeaheadDebounceInterval),this._scrollStrategyFactory=D,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(M)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Qae(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,$a.x)(),hc(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(hc(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(ec(null),hc(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&j9(this._trackedModal,"aria-owns",i),function Fie(n,t,e){const i=H9(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(j9(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!Ru(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;a.onKeydown(e);const h=this.selected;h&&d!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Ru(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(d?h.select():h.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Bo(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new Uie(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ps.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(hc(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ps.T)(...this.options.map(i=>i._stateChanges)).pipe(hc(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(jB),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(oq),l.Y36(l.SBq),l.Y36(Vh,8),l.Y36(fy,8),l.Y36(L2,8),l.Y36(J5,8),l.Y36(Rp,10),l.$8M("tabindex"),l.Y36(c$),l.Y36($B),l.Y36(cle,8))};static#t=this.\u0275dir=l.lG2({type:n,viewQuery:function(i,r){if(1&i&&(l.Gf(Xae,5),l.Gf(Jae,5),l.Gf(O9,5)),2&i){let s;l.iGM(s=l.CRH())&&(r.trigger=s.first),l.iGM(s=l.CRH())&&(r.panel=s.first),l.iGM(s=l.CRH())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]})}return n})(),mle=(()=>{class n extends ple{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(hc(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function Ure(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),a=i._getHostElement();r.scrollTop=0===e&&1===s?0:function jre(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new hle(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof qB?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Br(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(l.Suo(s,dle,5),l.Suo(s,_q,5),l.Suo(s,gq,5)),2&i){let a;l.iGM(a=l.CRH())&&(r.customTrigger=a.first),l.iGM(a=l.CRH())&&(r.options=a),l.iGM(a=l.CRH())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&l.NdJ("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(l.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),l.ekj("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[l._Bn([{provide:aV,useExisting:n},{provide:mq,useExisting:n}]),l.qOj],ngContentSelectors:ole,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(l.F$t(sle),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return r.toggle()}),l.TgZ(3,"div",2),l.YNc(4,ele,2,1,"span",3),l.YNc(5,ile,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5)(7,"div",6),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()()()(),l.YNc(10,rle,3,9,"ng-template",9),l.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const s=l.MAs(1);l.xp6(3),l.Q6J("ngSwitch",r.empty),l.uIk("id",r._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(5),l.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Jc,ss,Gd,df,O9,qB],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[ale.transformPanel]},changeDetection:0})}return n})(),gle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[ule],imports:[qs,dE,vq,xr,x2,eP,vq,xr]})}return n})();const _le=["arrivalDateInput"],vle=["departureDateInput"],yle=["peopleNumber"];function ble(n,t){if(1&n&&(l.TgZ(0,"div",29),l._UZ(1,"img",30),l.qZA()),2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.ekj("active",i===r.activeSlide),l.xp6(1),l.Q6J("src",e,l.LSH)("alt","Hotel Photo "+(i+1))}}function wle(n,t){if(1&n&&(l.ynx(0),l.TgZ(1,"span",28),l._uU(2,"star"),l.qZA(),l.BQk()),2&n){const e=t.index,i=l.oxw().$implicit;l.xp6(1),l.Udp("color",e<i.rating?"rgb(255, 210, 48)":"gray")}}const xle=function(){return[0,1,2,3,4]};function Cle(n,t){if(1&n&&(l.TgZ(0,"mat-card",31)(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA(),l.TgZ(4,"mat-card-subtitle"),l._uU(5),l.qZA()(),l.TgZ(6,"mat-card-content")(7,"p"),l._uU(8),l.qZA(),l.YNc(9,wle,3,2,"ng-container",32),l.qZA()()),2&n){const e=t.$implicit;l.xp6(3),l.Oqu(e.name),l.xp6(2),l.Oqu(e.subtitle),l.xp6(3),l.Oqu(e.content),l.xp6(1),l.Q6J("ngForOf",l.DdM(4,xle))}}let Ele=(()=>{class n{constructor(e,i,r,s){this.sharedService=e,this.dialog=i,this.roomService=r,this.router=s,this.selected1=2,this.photos=["assets/photos/1.jpg","assets/photos/3.jpg","assets/photos/4.jpg","assets/photos/5.jpg","assets/photos/6.jpg"],this.reviews=[{name:"Shiva Hari",subtitle:"Customer",content:"Really good place to stay in",rating:4},{name:"Bishnu Koirala",subtitle:"Customer, CTO at HamroTech",content:"Good Services. Liked my stay here",rating:5}],this.activeSlide=0;const a=(new Date).getFullYear();this.minDate=new Date,this.maxDate=new Date(a+1,11,31)}ngOnInit(){setInterval(()=>{this.nextSlide()},3e3)}nextSlide(){this.activeSlide=(this.activeSlide+1)%this.photos.length}openWarnPopup(){this.dialog.open(fse,{width:"400px"}).afterClosed().subscribe(()=>{})}checkAvailability(){const e=new Date(this.arriveDateInput.nativeElement.value),i=new Date(this.departDateInput.nativeElement.value);e.getTime()>=i.getTime()?(console.log("Invalid date selection"),this.openWarnPopup()):(this.sharedService.setSelectedOptions({arrivalDate:e,departureDate:i,people:this.selected1}),this.router.navigate(["/book-room"]))}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(fE),l.Y36(K5),l.Y36(pse),l.Y36(Js))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(i,r){if(1&i&&(l.Gf(_le,5),l.Gf(vle,5),l.Gf(yle,5)),2&i){let s;l.iGM(s=l.CRH())&&(r.arriveDateInput=s.first),l.iGM(s=l.CRH())&&(r.departDateInput=s.first),l.iGM(s=l.CRH())&&(r.peopleNumber=s.first)}},decls:71,vars:10,consts:[[1,"photo-section"],[1,"slideshow-container"],["class","mySlides fade",3,"active",4,"ngFor","ngForOf"],[1,"booking-section"],[1,"select-section"],[1,"example-full-width"],["id","arrivalDateInput","matInput","",3,"min","matDatepicker"],["arrivalDateInput",""],["matSuffix","",3,"for"],["picker",""],["id","departureDateInput","matInput","",3,"min","matDatepicker"],["departureDateInput",""],["picker2",""],[3,"value","valueChange"],["peopleNumber",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"btn",3,"disabled","click"],[1,"reviews-section"],[1,"reviews"],["class","example-card",4,"ngFor","ngForOf"],[1,"col"],[1,"hotel-info-section"],[1,"description"],[1,"contact-section"],[1,"contact-info"],[1,"material-icons"],[1,"mySlides","fade"],[3,"src","alt"],[1,"example-card"],[4,"ngFor","ngForOf"]],template:function(i,r){if(1&i&&(l.TgZ(0,"div")(1,"section",0)(2,"div",1),l.YNc(3,ble,2,4,"div",2),l.qZA()(),l.TgZ(4,"section",3)(5,"h2"),l._uU(6,"Book Your Room"),l.qZA(),l.TgZ(7,"h4"),l._uU(8,"Select arrival and departure dates to check availability"),l.qZA()()(),l.TgZ(9,"section",4)(10,"mat-form-field",5)(11,"mat-label"),l._uU(12,"Choose arrival date"),l.qZA(),l._UZ(13,"input",6,7)(15,"mat-datepicker-toggle",8)(16,"mat-datepicker",null,9),l.qZA(),l.TgZ(18,"mat-form-field",5)(19,"mat-label"),l._uU(20,"Choose departure date"),l.qZA(),l._UZ(21,"input",10,11)(23,"mat-datepicker-toggle",8)(24,"mat-datepicker",null,12),l.qZA(),l.TgZ(26,"mat-form-field")(27,"mat-label"),l._uU(28,"People"),l.qZA(),l.TgZ(29,"mat-select",13,14),l.NdJ("valueChange",function(a){return r.selected1=a}),l.TgZ(31,"mat-option",15),l._uU(32,"1"),l.qZA(),l.TgZ(33,"mat-option",16),l._uU(34,"2"),l.qZA(),l.TgZ(35,"mat-option",17),l._uU(36,"3"),l.qZA(),l.TgZ(37,"mat-option",18),l._uU(38,"4"),l.qZA()(),l.TgZ(39,"mat-hint"),l._uU(40,"Default selection is for 2 people"),l.qZA()(),l.TgZ(41,"button",19),l.NdJ("click",function(){return r.checkAvailability()}),l._uU(42,"Check Availability"),l.qZA()(),l.TgZ(43,"section",20)(44,"h2"),l._uU(45,"Customer Reviews"),l.qZA(),l.TgZ(46,"div",21),l.YNc(47,Cle,10,5,"mat-card",22),l.qZA()(),l.TgZ(48,"div",23)(49,"section",24)(50,"h2"),l._uU(51,"About Us"),l.qZA(),l.TgZ(52,"div",25)(53,"p"),l._uU(54," Your Oasis of Comfort and Luxury! Nestled in the heart of a bustling city, Aqore Hotel invites you to experience a harmonious blend of modern elegance and timeless hospitality. Our prime location ensures easy access to the city's vibrant attractions, while our tranquil ambiance provides a peaceful retreat for both business and leisure travelers."),l.qZA()()(),l.TgZ(55,"section",26)(56,"h2"),l._uU(57,"Contact Us"),l.qZA(),l.TgZ(58,"div",27)(59,"p")(60,"span",28),l._uU(61,"email"),l.qZA(),l._uU(62," info@hotelreservationexample.com"),l.qZA(),l.TgZ(63,"p")(64,"span",28),l._uU(65,"phone"),l.qZA(),l._uU(66," +1 123-456-7890"),l.qZA(),l.TgZ(67,"p")(68,"span",28),l._uU(69,"map"),l.qZA(),l._uU(70," 123 Hotel Street, City, Country"),l.qZA()()()()),2&i){const s=l.MAs(14),a=l.MAs(17),d=l.MAs(22),h=l.MAs(25),m=l.MAs(30);l.xp6(3),l.Q6J("ngForOf",r.photos),l.xp6(10),l.Q6J("min",r.minDate)("matDatepicker",a),l.xp6(2),l.Q6J("for",a),l.xp6(6),l.Q6J("min",r.minDate)("matDatepicker",h),l.xp6(2),l.Q6J("for",h),l.xp6(6),l.Q6J("value",r.selected1),l.xp6(12),l.Q6J("disabled",!s.value||!d.value||!m.value),l.xp6(6),l.Q6J("ngForOf",r.reviews)}},dependencies:[zs,iw,sw,aw,ow,rw,ooe,sV,oV,eoe,lae,jae,PV,Wae,mle,_q],styles:[".photo-section[_ngcontent-%COMP%]{position:relative;height:70vh;margin-bottom:20px}.slideshow-container[_ngcontent-%COMP%]{max-width:100%;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.mySlides[_ngcontent-%COMP%]{display:none;position:absolute;width:100%;height:100%;object-fit:cover;opacity:.7;transition:opacity .5s}img[_ngcontent-%COMP%]{width:100%;height:100%}.active[_ngcontent-%COMP%]{display:block;opacity:1}.booking-section[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-50%);z-index:2;text-align:center;padding:10px;background-color:#f1f1f1}.select-section[_ngcontent-%COMP%]{position:absolute;top:65%;left:15%;z-index:2;text-align:center;padding:20px;margin-top:20px;background-color:#f1f1f1}.select-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:18px;color:#f1f1f1;background-color:#35965d;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.select-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#bd4a3a}.reviews-section[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#f1f1f1}.reviews[_ngcontent-%COMP%]{display:flex}.example-card[_ngcontent-%COMP%]{max-width:400px;left:30%;padding:20px;margin:20px}.col[_ngcontent-%COMP%]{display:flex}.contact-section[_ngcontent-%COMP%]{text-align:right;padding:20px;background-color:#f9f9f9}.hotel-info-section[_ngcontent-%COMP%]{text-align:left;padding:20px;max-width:70%;background-color:#fcfcfc}@media screen and (max-width: 768px){.photo-section[_ngcontent-%COMP%]{height:50vh}.booking-section[_ngcontent-%COMP%]{width:100%;top:50%;transform:translate(-50%,-50%)}.select-section[_ngcontent-%COMP%]{left:0;width:100%;top:75%;padding:10px}.select-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:10%}.reviews-section[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#f1f1f1;margin-top:20px}.reviews[_ngcontent-%COMP%]{display:flex;padding-top:150%;padding-right:40%;flex-wrap:wrap;justify-content:center}.example-card[_ngcontent-%COMP%]{max-width:100%;width:100%;padding:20px;margin:10px}.col[_ngcontent-%COMP%]{flex-direction:column}.contact-section[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#f9f9f9}.hotel-info-section[_ngcontent-%COMP%]{text-align:center;padding:20px;max-width:100%;background-color:#fcfcfc}}"]})}return n})();function Ile(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.action())}),l._uU(2),l.qZA()()}if(2&n){const e=l.oxw();l.xp6(2),l.hij(" ",e.data.action," ")}}const Dle=["label"];function Sle(n,t){}const Ale=Math.pow(2,31)-1;class FV{constructor(t,e){this._overlayRef=e,this._afterDismissed=new zn.x,this._afterOpened=new zn.x,this._onAction=new zn.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Ale))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const u$=new l.OlP("MatSnackBarData");class Nd{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Tle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),Mle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),kle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),Rle=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(FV),l.Y36(u$))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0),l._uU(1),l.qZA(),l.YNc(2,Ile,3,1,"div",1)),2&i&&(l.xp6(1),l.hij(" ",r.data.message,"\n"),l.xp6(1),l.Q6J("ngIf",r.hasAction))},dependencies:[ma,uy,Tle,Mle,kle],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const Nle={snackBarState:Kg("state",[kp("void, hidden",ns({transform:"scale(0.8)",opacity:0})),kp("visible",ns({transform:"scale(1)",opacity:1})),pc("* => visible",qc("150ms cubic-bezier(0, 0, 0.2, 1)")),pc("* => void, * => hidden",qc("75ms cubic-bezier(0.4, 0.0, 1, 1)",ns({opacity:0})))])};let Ple=0,Ole=(()=>{class n extends B5{constructor(e,i,r,s,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=a,this._document=(0,l.f3M)(je),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new zn.x,this._onExit=new zn.x,this._onEnter=new zn.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Ple++,this.attachDomPortal=d=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Bo(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],a=s.getAttribute("aria-owns");this._trackedModals.add(s),a?-1===a.indexOf(e)&&s.setAttribute("aria-owns",a+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(eo),l.Y36(Nd))};static#t=this.\u0275dir=l.lG2({type:n,viewQuery:function(i,r){if(1&i&&l.Gf(Jb,7),2&i){let s;l.iGM(s=l.CRH())&&(r._portalOutlet=s.first)}},features:[l.qOj]})}return n})(),Fle=(()=>{class n extends Ole{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&l.Gf(Dle,7),2&i){let s;l.iGM(s=l.CRH())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&l.WFA("@state.done",function(a){return r.onAnimationEnd(a)}),2&i&&l.d8E("@state",r._animationState)},features:[l.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),l.YNc(4,Sle,0,0,"ng-template",4),l.qZA(),l._UZ(5,"div"),l.qZA()()),2&i&&(l.xp6(5),l.uIk("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Jb],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Nle.snackBarState]}})}return n})(),d$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[dE,lE,qs,Q5,xr,xr]})}return n})();const h$=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Lle(){return new Nd}});let Ble=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,s,a,d){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Nd,useValue:i}]}),a=new Xb(this.snackBarContainerComponent,i.viewContainerRef,s),d=e.attach(a);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const r={...new Nd,...this._defaultConfig,...i},s=this._createOverlay(r),a=this._attachSnackBarContainer(s,r),d=new FV(a,s);if(e instanceof l.Rgc){const h=new L5(e,null,{$implicit:r.data,snackBarRef:d});d.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(r,d),m=new Xb(e,void 0,h),b=a.attachComponentPortal(m);d.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(hc(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new D2;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return l.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:FV,useValue:i},{provide:u$,useValue:e.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Nu),l.LFG($B),l.LFG(l.zs3),l.LFG(GB),l.LFG(n,12),l.LFG(h$))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),gy=(()=>{class n extends Ble{constructor(e,i,r,s,a,d){super(e,i,r,s,a,d),this.simpleSnackBarComponent=Rle,this.snackBarContainerComponent=Fle,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Nu),l.LFG($B),l.LFG(l.zs3),l.LFG(GB),l.LFG(n,12),l.LFG(h$))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:d$})}return n})(),_P=(()=>{class n{constructor(e,i,r){this.firestore=e,this._snackBar=i,this.router=r}getRoomsCollection(){return this.firestore.collection("rooms").valueChanges()}addRoom(e){return this.firestore.collection("rooms").add(e)}updateRoomBookingStatus(e,i,r){return this.firestore.collection("rooms",a=>a.where("name","==",e)).get().toPromise().then(a=>{if(a&&!a.empty){const h=a.docs[0].id,m=this.firestore.collection("rooms").doc(h);return console.log(r),this.openSnackBar("Check My rooms to view booked rooms","Ok"),m.update({booked:!0,booker:i,stay:r})}return console.log("No matching documents found."),Promise.reject("No matching documents found.")}).catch(a=>(console.error("Error updating room booking status:",a),Promise.reject(a)))}removeBooking(e){return this.firestore.collection("rooms",r=>r.where("name","==",e)).get().toPromise().then(r=>{if(r&&!r.empty){const a=r.docs[0].id,d=this.firestore.collection("rooms").doc(a);return this.openSnackBar("Your booking for this room is cancelled","Ok"),d.update({booked:!1,booker:" "}).then(()=>{this.router.navigate(["/"])})}return console.log("No matching documents found."),Promise.reject("No matching documents found.")}).catch(r=>(console.error("Error updating room booking status:",r),Promise.reject(r)))}getUserRooms(e){return this.firestore.collection("rooms",r=>r.where("booker","==",e)).get().toPromise().then(r=>r&&!r.empty?r.docs.map(s=>({id:s.id,data:s.data()})):[]).catch(r=>{throw console.error("Error fetching user rooms:",r),r})}getAllRoomIds(){this.firestore.collection("rooms").get().subscribe(i=>{i.empty?console.log("No documents found in the collection."):i.forEach(r=>{console.log("Room ID:",r.id)})})}update(){this.firestore.doc("rooms").set({booked:!0})}openSnackBar(e,i){const r=new Nd;r.verticalPosition="top",r.horizontalPosition="center",r.duration=3e3,this._snackBar.open(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(X6),l.LFG(gy),l.LFG(Js))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vle(n,t){if(1&n&&(l.TgZ(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA(),l.TgZ(4,"mat-card-subtitle"),l._uU(5),l.qZA()(),l._UZ(6,"img",3),l.TgZ(7,"mat-card-content",4)(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"p")(13,"span",5),l._uU(14,"Rs."),l.qZA(),l.TgZ(15,"span",6),l._uU(16),l.qZA(),l.TgZ(17,"span",7),l._uU(18,"/Day"),l.qZA()()(),l.TgZ(19,"mat-card-actions")(20,"button",8),l._uU(21,"Book Now"),l.qZA()()()),2&n){const e=t.$implicit;l.xp6(3),l.Oqu(e.name),l.xp6(2),l.Oqu(e.subtitle),l.xp6(1),l.Q6J("src",e.photo,l.LSH),l.xp6(3),l.Oqu(e.description),l.xp6(2),l.hij("Accommodates: ",e.accommodation," People"),l.xp6(5),l.Oqu(e.price)}}let f$=(()=>{class n{constructor(e){this.firestoreService=e,this.rooms$=this.firestoreService.getRoomsCollection(),this.newRoomName=""}addRoom(){""!==this.newRoomName.trim()&&this.firestoreService.addRoom({name:this.newRoomName}).then(()=>{console.log("Room added successfully!"),this.newRoomName=""}).catch(i=>{console.error("Error adding room: ",i)})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(_P))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-room-vacancy"]],decls:3,vars:3,consts:[[1,"rooms"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-image","","alt","Photo of a room",3,"src"],[1,"card-content"],[1,"currency"],[1,"price"],[1,"period"],[1,"btn"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0),l.YNc(1,Vle,22,6,"mat-card",1),l.ALo(2,"async"),l.qZA()),2&i&&(l.xp6(1),l.Q6J("ngForOf",l.lcZ(2,1,r.rooms$)))},dependencies:[zs,iw,k2,sw,aw,pE,ow,rw,ff],styles:[".rooms[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.example-card[_ngcontent-%COMP%]{width:calc(33.33% - 40px);margin:20px;display:flex;flex-direction:column;border-radius:8px;overflow:hidden;box-shadow:0 0 10px #0000001a;transition:transform .3s}.example-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}mat-card-content[_ngcontent-%COMP%]{flex-grow:1;padding:16px}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:16px}p[_ngcontent-%COMP%]{margin-bottom:10px}p[_ngcontent-%COMP%]   span.currency[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#333}p[_ngcontent-%COMP%]   span.price[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#7658e4}p[_ngcontent-%COMP%]   span.period[_ngcontent-%COMP%]{font-size:1em;color:#333}.rooms[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:18px;color:#f1f1f1;background-color:#35965d;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.rooms[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#bd4a3a}@media only screen and (max-width: 1200px){.example-card[_ngcontent-%COMP%]{width:calc(50% - 40px)}}@media only screen and (max-width: 768px){.example-card[_ngcontent-%COMP%]{width:calc(100% - 40px)}}"]})}return n})(),uw=(()=>{class n{constructor(e,i){this.afAuth=e,this.firestore=i,this.user$=this.afAuth.authState}signUp(e,i,r){return this.afAuth.createUserWithEmailAndPassword(e,i).then(s=>{const a=s.user?.uid;return this.storeUserData(a,e,r),s})}storeUserData(e,i,r){e&&this.firestore.collection("users").doc(e).set({email:i,name:r}).then(()=>{console.log("User data stored successfully")}).catch(s=>{console.error("Error storing user data:",s)})}signIn(e,i){return this.afAuth.signInWithEmailAndPassword(e,i)}signInAsAdmin(e,i){return this.afAuth.signInWithEmailAndPassword(e,i)}userExists(e){var i=this;return(0,lt.Z)(function*(){try{const r=yield i.firestore.collection("users",s=>s.where("email","==",e)).get().pipe(Ah()).toPromise();return!(!r||r.empty)}catch(r){return console.error("Error checking user existence:",r),!1}})()}isUserLoggedIn(){return this.user$.pipe((0,En.U)(e=>!!e))}signOut(){return this.afAuth.signOut()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(eb),l.LFG(X6))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ule(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-card",8)(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA(),l.TgZ(4,"mat-card-subtitle"),l._uU(5),l.qZA()(),l._UZ(6,"img",9),l.TgZ(7,"mat-card-content",10)(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"p")(13,"span",11),l._uU(14,"Rs."),l.qZA(),l.TgZ(15,"span",12),l._uU(16),l.qZA(),l.TgZ(17,"span",13),l._uU(18,"/Day"),l.qZA()()(),l.TgZ(19,"mat-card-actions")(20,"button",14),l.NdJ("click",function(){const s=l.CHM(e).$implicit,a=l.oxw();return l.KtG(a.selectRoom(s))}),l._uU(21,"Book Room"),l.qZA()()()}if(2&n){const e=t.$implicit;l.xp6(3),l.Oqu(e.name),l.xp6(2),l.Oqu(e.subtitle),l.xp6(1),l.Q6J("src",e.photo,l.LSH),l.xp6(3),l.Oqu(e.description),l.xp6(2),l.hij("Accommodates: ",e.accommodation," People"),l.xp6(5),l.Oqu(e.price)}}let jle=(()=>{class n{constructor(e,i,r,s,a){this.authService=e,this.firestoreService=i,this.sharedService=r,this._snackBar=s,this.router=a,this.availableRooms=[],this.selectedOptions={},this.person=this.selectedOptions.people,this.invoiceData=null}ngOnInit(){this.sharedService.onAvailabilityCheck(()=>{this.updateAvailableRooms()}),this.stay=this.sharedService.getStayDays(),this.updateAvailableRooms(),this.selectedOptions=this.sharedService.getSelectedOptions()}updateAvailableRooms(){this.firestoreService.getRoomsCollection().subscribe(e=>{this.availableRooms=e.filter(i=>!i.booked)})}openSnackBar(e,i){const r=new Nd;r.verticalPosition="top",r.horizontalPosition="center",r.duration=3e3,this._snackBar.open(e,i,r)}selectRoom(e){this.selectedRoom=e.name,console.log("Selected Room:",this.selectedRoom),this.bookRoom()}bookRoom(){this.authService.user$.subscribe(e=>{if(e){const i=e.email||"";console.log("Attempting to book room:",this.selectedRoom);const r=this.sharedService.getSelectedOptions(),s=r?.arrivalDate,a=r?.departureDate,h=this.stay??0;console.log(h),s&&a?(console.log("All values provided.",this.selectedRoom),this.firestoreService.updateRoomBookingStatus(this.selectedRoom,i,h),console.log(i)):this.openSnackBar("Please select arrival and departure dates first.","Close")}else this.openSnackBar("User must be logged in","Login"),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(uw),l.Y36(_P),l.Y36(fE),l.Y36(gy),l.Y36(Js))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-book-room"]],decls:31,vars:11,consts:[[1,"book-room-container"],[1,"your-stay"],[1,"stay-details"],[1,"stay-item"],[1,"stay-label"],[1,"stay-value"],[1,"rooms"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-image","","alt","Photo of a room",3,"src"],[1,"card-content"],[1,"currency"],[1,"price"],[1,"period"],[1,"btn",3,"click"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h2"),l._uU(3,"Your Stay"),l.qZA(),l.TgZ(4,"div",2)(5,"div",3)(6,"span",4),l._uU(7,"Check-in"),l.qZA(),l.TgZ(8,"span",5),l._uU(9,"After 12:30 PM"),l.qZA()(),l.TgZ(10,"div",3)(11,"span",4),l._uU(12,"Check-out"),l.qZA(),l.TgZ(13,"span",5),l._uU(14,"Before 10:00 AM"),l.qZA()(),l.TgZ(15,"div",3)(16,"span",4),l._uU(17,"Dates"),l.qZA(),l.TgZ(18,"span",5),l._uU(19),l.ALo(20,"date"),l.ALo(21,"date"),l.qZA()(),l.TgZ(22,"div",3)(23,"span",4),l._uU(24,"People"),l.qZA(),l.TgZ(25,"span",5),l._uU(26),l.qZA()()(),l.TgZ(27,"h2"),l._uU(28),l.qZA(),l.TgZ(29,"div",6),l.YNc(30,Ule,22,6,"mat-card",7),l.qZA()()()),2&i&&(l.xp6(19),l.AsE("",l.xi3(20,5,r.selectedOptions.arrivalDate,"EEE, MMM d, y")," - ",l.xi3(21,8,r.selectedOptions.departureDate,"EEE, MMM d, y"),""),l.xp6(7),l.Oqu(r.selectedOptions.people),l.xp6(2),l.hij("Available Rooms for ",r.selectedOptions.people," People:"),l.xp6(2),l.Q6J("ngForOf",r.availableRooms))},dependencies:[zs,iw,k2,sw,aw,pE,ow,rw,_s],styles:[".rooms[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.example-card[_ngcontent-%COMP%]{width:calc(33.33% - 40px);margin:20px;display:flex;flex-direction:column;border-radius:8px;overflow:hidden;box-shadow:0 0 10px #0000001a;transition:transform .3s}.example-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}mat-card-content[_ngcontent-%COMP%]{flex-grow:1;padding:16px}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:16px}p[_ngcontent-%COMP%]{margin-bottom:10px}p[_ngcontent-%COMP%]   span.currency[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#333}p[_ngcontent-%COMP%]   span.price[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#7658e4}p[_ngcontent-%COMP%]   span.period[_ngcontent-%COMP%]{font-size:1em;color:#333}.rooms[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:18px;color:#f1f1f1;background-color:#35965d;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.rooms[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#bd4a3a}.book-room-container[_ngcontent-%COMP%]{display:block;justify-content:space-between}.your-stay[_ngcontent-%COMP%]{background-color:#f8f8f8;padding:20px;border-radius:8px;top:20px;right:20px}.stay-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.stay-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);text-align:center}.stay-label[_ngcontent-%COMP%]{font-weight:700;display:block;margin-bottom:5px}.stay-value[_ngcontent-%COMP%]{color:#333}.rooms[_ngcontent-%COMP%]{flex:0 0 55%}@media only screen and (max-width: 1200px){.example-card[_ngcontent-%COMP%]{width:calc(50% - 40px)}}@media only screen and (max-width: 768px){.example-card[_ngcontent-%COMP%]{width:calc(100% - 40px)}}"]})}return n})();function Hle(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-card",5)(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA(),l.TgZ(4,"mat-card-subtitle"),l._uU(5),l.qZA()(),l._UZ(6,"img",6),l.TgZ(7,"mat-card-content",7)(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"p")(13,"span",8),l._uU(14,"Rs."),l.qZA(),l.TgZ(15,"span",9),l._uU(16),l.qZA(),l.TgZ(17,"span",10),l._uU(18,"/Day"),l.qZA()()(),l.TgZ(19,"mat-card-actions")(20,"button",11),l.NdJ("click",function(){const s=l.CHM(e).$implicit,a=l.oxw(2);return l.KtG(a.selectRoom(s))}),l._uU(21,"Update Room Information"),l.qZA()()()}if(2&n){const e=t.$implicit;l.xp6(3),l.Oqu(e.name),l.xp6(2),l.Oqu(e.subtitle),l.xp6(1),l.Q6J("src",e.photo,l.LSH),l.xp6(3),l.Oqu(e.description),l.xp6(2),l.hij("Accommodates: ",e.accommodation," People"),l.xp6(5),l.Oqu(e.price)}}function zle(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div")(1,"div",1)(2,"h2"),l._uU(3,"Not booked rooms"),l.qZA(),l.TgZ(4,"button",2),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.showBooked())}),l._uU(5,"See Booked Rooms"),l.qZA()(),l.TgZ(6,"div",3),l.YNc(7,Hle,22,6,"mat-card",4),l.qZA()()}if(2&n){const e=l.oxw();l.xp6(7),l.Q6J("ngForOf",e.availableRooms)}}function qle(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-card",5)(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA(),l.TgZ(4,"mat-card-subtitle"),l._uU(5),l.qZA()(),l._UZ(6,"img",6),l.TgZ(7,"mat-card-content",7)(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"p")(13,"span",8),l._uU(14,"Rs."),l.qZA(),l.TgZ(15,"span",9),l._uU(16),l.qZA(),l.TgZ(17,"span",10),l._uU(18,"/Day"),l.qZA()()(),l.TgZ(19,"mat-card-actions")(20,"button",11),l.NdJ("click",function(){const s=l.CHM(e).$implicit,a=l.oxw(2);return l.KtG(a.selectRoom(s))}),l._uU(21,"Update Room Information"),l.qZA()()()}if(2&n){const e=t.$implicit;l.xp6(3),l.Oqu(e.name),l.xp6(2),l.Oqu(e.subtitle),l.xp6(1),l.Q6J("src",e.photo,l.LSH),l.xp6(3),l.Oqu(e.description),l.xp6(2),l.hij("Accommodates: ",e.accommodation," People"),l.xp6(5),l.Oqu(e.price)}}function Gle(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div")(1,"div",1)(2,"h2"),l._uU(3,"Booked rooms"),l.qZA(),l.TgZ(4,"button",2),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.showUnBooked())}),l._uU(5,"See Not Booked Rooms"),l.qZA()(),l.TgZ(6,"div",3),l.YNc(7,qle,22,6,"mat-card",4),l.qZA()()}if(2&n){const e=l.oxw();l.xp6(7),l.Q6J("ngForOf",e.bookedRooms)}}let p$=(()=>{class n{constructor(e,i,r,s,a){this.authService=e,this.firestoreService=i,this._snackBar=r,this.sharedService=s,this.router=a,this.availableRooms=[],this.bookedRooms=[],this.selectedOptions={},this.showIsBooked=!1,this.showNotBooked=!0}ngOnInit(){this.sharedService.onAvailabilityCheck(()=>{this.updateAvailableRooms()}),this.updateAvailableRooms(),this.selectedOptions=this.sharedService.getSelectedOptions()}updateAvailableRooms(){this.firestoreService.getRoomsCollection().subscribe(e=>{this.availableRooms=e.filter(i=>!i.booked),this.bookedRooms=e.filter(i=>i.booked)})}openSnackBar(e,i){const r=new Nd;r.verticalPosition="top",r.horizontalPosition="center",r.duration=3e3,this._snackBar.open(e,i,r)}selectRoom(e){this.selectedRoom=e.name,console.log("Selected Room:",this.selectedRoom),this.changeStatus()}changeStatus(){}showBooked(){this.showIsBooked=!0,this.showNotBooked=!1}showUnBooked(){this.showIsBooked=!1,this.showNotBooked=!0}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(uw),l.Y36(_P),l.Y36(gy),l.Y36(fE),l.Y36(Js))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-admin-dashboard"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"top"],["mat-stroked-button","",1,"btn",3,"click"],[1,"rooms"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-image","","alt","Photo of a room",3,"src"],[1,"card-content"],[1,"currency"],[1,"price"],[1,"period"],[1,"btn",3,"click"]],template:function(i,r){1&i&&(l.YNc(0,zle,8,1,"div",0),l.YNc(1,Gle,8,1,"div",0)),2&i&&(l.Q6J("ngIf",r.showNotBooked),l.xp6(1),l.Q6J("ngIf",r.showIsBooked))},dependencies:[zs,ma,iw,k2,sw,aw,pE,ow,rw,uy],styles:[".rooms[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.example-card[_ngcontent-%COMP%]{width:calc(33.33% - 40px);margin:20px;display:flex;flex-direction:column;border-radius:8px;overflow:hidden;box-shadow:0 0 10px #0000001a;transition:transform .3s}.example-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.top[_ngcontent-%COMP%]{text-align:center;margin-top:50px}mat-card-content[_ngcontent-%COMP%]{flex-grow:1;padding:16px}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:16px}p[_ngcontent-%COMP%]{margin-bottom:10px}p[_ngcontent-%COMP%]   span.currency[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#333}p[_ngcontent-%COMP%]   span.price[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#7658e4}p[_ngcontent-%COMP%]   span.period[_ngcontent-%COMP%]{font-size:1em;color:#333}.rooms[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:18px;color:#f1f1f1;background-color:#35965d;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.rooms[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#bd4a3a}@media only screen and (max-width: 1200px){.example-card[_ngcontent-%COMP%]{width:calc(50% - 40px)}}@media only screen and (max-width: 768px){.example-card[_ngcontent-%COMP%]{width:calc(100% - 40px)}}"]})}return n})();const m$=["*"];class Wle{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new Yle(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class Yle{constructor(t,e){this.row=t,this.col=e}}const g$=new l.OlP("MAT_GRID_LIST");let _$=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(fc(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(fc(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(g$,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,r){2&i&&l.uIk("rowspan",r.rowspan)("colspan",r.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:m$,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,r){1&i&&(l.F$t(),l.TgZ(0,"div",0),l.Hsn(1),l.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return n})();const Zle=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class LV{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=v$(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":dw(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(t,i,r,s),this.setRowStyles(t,e,r,s)}setColStyles(t,e,i,r){let s=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,e)),t._setStyle("width",dw(this.getTileSize(s,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class Kle extends LV{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=v$(this.fixedRowHeight),Zle.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",dw(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",dw(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class Qle extends LV{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",dw(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",dw(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class Xle extends LV{setRowStyles(t,e){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(s,e)),t._setStyle("height",dw(this.getTileSize(s,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function dw(n){return`calc(${n})`}function v$(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let ece=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(fc(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new Xle:e&&e.indexOf(":")>-1?new Qle(e):new Kle(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Wle);const e=this._tileCoordinator,i=this._tiles.filter(s=>!s._gridList||s._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((s,a)=>{const d=e.positions[a];this._tileStyler.setStyle(s,d.row,d.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Vh,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(i,r,s){if(1&i&&l.Suo(s,_$,5),2&i){let a;l.iGM(a=l.CRH())&&(r._tiles=a)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,r){2&i&&l.uIk("cols",r.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[l._Bn([{provide:g$,useExisting:n}])],ngContentSelectors:m$,decls:2,vars:0,template:function(i,r){1&i&&(l.F$t(),l.TgZ(0,"div"),l.Hsn(1),l.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return n})(),tce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[aq,xr,aq,xr]})}return n})();function nce(n,t){if(1&n&&(l.TgZ(0,"mat-grid-tile"),l._UZ(1,"img",2),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Q6J("src",e.src,l.LSH)("alt",e.alt)}}let ice=(()=>{class n{constructor(){this.galleryPhotos=[{src:"assets/photos/1.jpg",alt:"Photo 1"},{src:"assets/photos/2.jpg",alt:"Photo 2"},{src:"assets/photos/3.jpg",alt:"Photo 3"},{src:"assets/photos/4.jpg",alt:"Photo 4"},{src:"assets/photos/5.jpg",alt:"Photo 5"},{src:"assets/photos/6.jpg",alt:"Photo 6"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-gallery"]],decls:2,vars:1,consts:[["cols","3","gutterSize","16px"],[4,"ngFor","ngForOf"],[3,"src","alt"]],template:function(i,r){1&i&&(l.TgZ(0,"mat-grid-list",0),l.YNc(1,nce,2,2,"mat-grid-tile",1),l.qZA()),2&i&&(l.xp6(1),l.Q6J("ngForOf",r.galleryPhotos))},dependencies:[zs,ece,_$],styles:["mat-grid-list[_ngcontent-%COMP%]{margin:2%}mat-grid-tile[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;cursor:pointer;transition:transform .3s ease-in-out}mat-grid-tile[_ngcontent-%COMP%]:hover{transform:scale(1.1)}img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:8px}"]})}return n})(),BV=(()=>{class n{constructor(e){this.dialogRef=e}ngOnInit(){}closePopup(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(rV))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-offers"]],decls:12,vars:0,consts:[[1,"popup-content"],[1,"popup-header"],["src","assets/photos/offer.png","alt","Clock Icon",1,"clock-icon"],[1,"discount-message"],["mat-button","",1,"close-button",3,"click"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h2"),l._uU(3,"Dear valued customer,"),l.qZA()(),l._UZ(4,"img",2),l.TgZ(5,"p",3),l._uU(6,"Get "),l.TgZ(7,"span"),l._uU(8," 5% "),l.qZA(),l._uU(9,"OFF on bookings of 3 or more rooms!!"),l.qZA(),l.TgZ(10,"button",4),l.NdJ("click",function(){return r.closePopup()}),l._uU(11,"Close"),l.qZA()())},dependencies:[uy],styles:[".popup-content[_ngcontent-%COMP%]{font-family:Arial,sans-serif;max-width:400px;padding:20px;border-radius:10px;box-shadow:0 0 20px #0003;background-color:#fff;text-align:center}.popup-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:15px}.clock-icon[_ngcontent-%COMP%]{width:100%;height:15% px;margin-right:10px}span[_ngcontent-%COMP%]{font-size:25px;color:red}h2[_ngcontent-%COMP%]{color:#333}.discount-message[_ngcontent-%COMP%]{font-size:16px;color:#555;margin-bottom:20px}.close-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.close-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return n})();var Wr=Q(1002),Vr=Uint8Array,Pa=Uint16Array,_y=Uint32Array,bE=new Vr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wE=new Vr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),U2=new Vr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b$=function(n,t){for(var e=new Pa(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];var r=new _y(e[30]);for(i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)r[s]=s-e[i]<<5|i;return[e,r]},w$=b$(bE,2),VV=w$[0],vP=w$[1];VV[28]=258,vP[258]=28;for(var x$=b$(wE,0),C$=x$[0],UV=x$[1],j2=new Pa(32768),fs=0;fs<32768;++fs){var vy=(43690&fs)>>>1|(21845&fs)<<1;j2[fs]=((65280&(vy=(61680&(vy=(52428&vy)>>>2|(13107&vy)<<2))>>>4|(3855&vy)<<4))>>>8|(255&vy)<<8)>>>1}var Pd=function(n,t,e){for(var i=n.length,r=0,s=new Pa(t);r<i;++r)++s[n[r]-1];var d,a=new Pa(t);for(r=0;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;if(e){d=new Pa(1<<t);var h=15-t;for(r=0;r<i;++r)if(n[r])for(var m=r<<4|n[r],b=t-n[r],x=a[n[r]-1]++<<b,M=x|(1<<b)-1;x<=M;++x)d[j2[x]>>>h]=m}else for(d=new Pa(i),r=0;r<i;++r)d[r]=j2[a[n[r]-1]++]>>>15-n[r];return d},Qg=new Vr(288);for(fs=0;fs<144;++fs)Qg[fs]=8;for(fs=144;fs<256;++fs)Qg[fs]=9;for(fs=256;fs<280;++fs)Qg[fs]=7;for(fs=280;fs<288;++fs)Qg[fs]=8;var xE=new Vr(32);for(fs=0;fs<32;++fs)xE[fs]=5;var E$=Pd(Qg,9,0),I$=Pd(Qg,9,1),D$=Pd(xE,5,0),S$=Pd(xE,5,1),yP=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Od=function(n,t,e){var i=t/8>>0;return(n[i]|n[i+1]<<8)>>>(7&t)&e},bP=function(n,t){var e=t/8>>0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>>(7&t)},H2=function(n){return(n/8>>0)+(7&n&&1)},hw=function(n,t,e){(null==t||t<0)&&(t=0),(null==e||e>n.length)&&(e=n.length);var i=new(n instanceof Pa?Pa:n instanceof _y?_y:Vr)(e-t);return i.set(n.subarray(t,e)),i},Np=function(n,t,e){var i=t/8>>0;n[i]|=e<<=7&t,n[i+1]|=e>>>8},CE=function(n,t,e){var i=t/8>>0;n[i]|=e<<=7&t,n[i+1]|=e>>>8,n[i+2]|=e>>>16},xP=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,s=e.slice();if(!r)return[new Vr(0),0];if(1==r){var a=new Vr(e[0].s+1);return a[e[0].s]=1,[a,1]}e.sort(function(ke,Ye){return ke.f-Ye.f}),e.push({s:-1,f:25001});var d=e[0],h=e[1],m=0,b=1,x=2;for(e[0]={s:-1,f:d.f+h.f,l:d,r:h};b!=r-1;)d=e[e[m].f<e[x].f?m++:x++],h=e[m!=b&&e[m].f<e[x].f?m++:x++],e[b++]={s:-1,f:d.f+h.f,l:d,r:h};var M=s[0].s;for(i=1;i<r;++i)s[i].s>M&&(M=s[i].s);var D=new Pa(M+1),P=CP(e[b-1],D,0);if(P>t){i=0;var F=0,U=P-t,j=1<<U;for(s.sort(function(Ye,Me){return D[Me.s]-D[Ye.s]||Ye.f-Me.f});i<r;++i){var Z=s[i].s;if(!(D[Z]>t))break;F+=j-(1<<P-D[Z]),D[Z]=t}for(F>>>=U;F>0;){var ne=s[i].s;D[ne]<t?F-=1<<t-D[ne]++-1:++i}for(;i>=0&&F;--i){var de=s[i].s;D[de]==t&&(--D[de],++F)}P=t}return[new Vr(D),P]},CP=function(n,t,e){return-1==n.s?Math.max(CP(n.l,t,e+1),CP(n.r,t,e+1)):t[n.s]=e},jV=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Pa(++t),i=0,r=n[0],s=1,a=function(h){e[i++]=h},d=1;d<=t;++d)if(n[d]==r&&d!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=n[d]}return[e.subarray(0,i),t]},EE=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},z2=function(n,t,e){var i=e.length,r=H2(t+2);n[r]=255&i,n[r+1]=i>>>8,n[r+2]=255^n[r],n[r+3]=255^n[r+1];for(var s=0;s<i;++s)n[r+s+4]=e[s];return 8*(r+4+i)},HV=function(n,t,e,i,r,s,a,d,h,m,b){Np(t,b++,e),++r[256];for(var x=xP(r,15),M=x[0],D=x[1],P=xP(s,15),F=P[0],U=P[1],j=jV(M),Z=j[0],ne=j[1],de=jV(F),ke=de[0],Ye=de[1],Me=new Pa(19),he=0;he<Z.length;++he)Me[31&Z[he]]++;for(he=0;he<ke.length;++he)Me[31&ke[he]]++;for(var dt=xP(Me,7),gt=dt[0],re=dt[1],ie=19;ie>4&&!gt[U2[ie-1]];--ie);var Ee,Le,De,Je,we=m+5<<3,ye=EE(r,Qg)+EE(s,xE)+a,ht=EE(r,M)+EE(s,F)+a+14+3*ie+EE(Me,gt)+(2*Me[16]+3*Me[17]+7*Me[18]);if(we<=ye&&we<=ht)return z2(t,b,n.subarray(h,h+m));if(Np(t,b,1+(ht<ye)),b+=2,ht<ye){Ee=Pd(M,D,0),Le=M,De=Pd(F,U,0),Je=F;var ct=Pd(gt,re,0);for(Np(t,b,ne-257),Np(t,b+5,Ye-1),Np(t,b+10,ie-4),b+=14,he=0;he<ie;++he)Np(t,b+3*he,gt[U2[he]]);b+=3*ie;for(var sn=[Z,ke],$=0;$<2;++$){var ae=sn[$];for(he=0;he<ae.length;++he)Np(t,b,ct[le=31&ae[he]]),b+=gt[le],le>15&&(Np(t,b,ae[he]>>>5&127),b+=ae[he]>>>12)}}else Ee=E$,Le=Qg,De=D$,Je=xE;for(he=0;he<d;++he)if(i[he]>255){var le;CE(t,b,Ee[257+(le=i[he]>>>18&31)]),b+=Le[le+257],le>7&&(Np(t,b,i[he]>>>23&31),b+=bE[le]);var Se=31&i[he];CE(t,b,De[Se]),b+=Je[Se],Se>3&&(CE(t,b,i[he]>>>5&8191),b+=wE[Se])}else CE(t,b,Ee[i[he]]),b+=Le[i[he]];return CE(t,b,Ee[256]),b+Le[256]},A$=new _y([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),T$=new Vr(0),IP=function(n,t,e,i,r){return function(n,t,e,i,r,s){var a=n.length,d=new Vr(i+a+5*(1+Math.floor(a/7e3))+r),h=d.subarray(i,d.length-r),m=0;if(!t||a<8)for(var b=0;b<=a;b+=65535){var x=b+65535;x<a?m=z2(h,m,n.subarray(b,x)):(h[b]=s,m=z2(h,m,n.subarray(b,a)))}else{for(var M=A$[t-1],D=M>>>13,P=8191&M,F=(1<<e)-1,U=new Pa(32768),j=new Pa(F+1),Z=Math.ceil(e/3),ne=2*Z,de=function(li){return(n[li]^n[li+1]<<Z^n[li+2]<<ne)&F},ke=new _y(25e3),Ye=new Pa(288),Me=new Pa(32),he=0,dt=0,gt=(b=0,0),re=0,ie=0;b<a;++b){var we=de(b),ye=32767&b,ht=j[we];if(U[ye]=ht,j[we]=ye,re<=b){var Ee=a-b;if((he>7e3||gt>24576)&&Ee>423){m=HV(n,h,0,ke,Ye,Me,dt,gt,ie,b-ie,m),gt=he=dt=0,ie=b;for(var Le=0;Le<286;++Le)Ye[Le]=0;for(Le=0;Le<30;++Le)Me[Le]=0}var De=2,Je=0,ct=P,sn=ye-ht&32767;if(Ee>2&&we==de(b-sn))for(var $=Math.min(D,Ee)-1,ae=Math.min(32767,b),le=Math.min(258,Ee);sn<=ae&&--ct&&ye!=ht;){if(n[b+De]==n[b+De-sn]){for(var Se=0;Se<le&&n[b+Se]==n[b+Se-sn];++Se);if(Se>De){if(De=Se,Je=sn,Se>$)break;var Ve=Math.min(sn,Se-2),Ge=0;for(Le=0;Le<Ve;++Le){var tt=b-sn+Le+32768&32767,Kt=tt-U[tt]+32768&32767;Kt>Ge&&(Ge=Kt,ht=tt)}}}sn+=(ye=ht)-(ht=U[ye])+32768&32767}if(Je){ke[gt++]=268435456|vP[De]<<18|UV[Je];var Wt=31&vP[De],xn=31&UV[Je];dt+=bE[Wt]+wE[xn],++Ye[257+Wt],++Me[xn],re=b+De,++he}else ke[gt++]=n[b],++Ye[n[b]]}}m=HV(n,h,s,ke,Ye,Me,dt,gt,ie,b-ie,m),s||(m=z2(h,m,T$))}return hw(d,0,i+H2(m)+r)}(n,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):12+t.mem,e,i,!r)};function G2(n,t){void 0===t&&(t={});var e=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,s=e.length,a=0;a!=s;){for(var d=Math.min(a+5552,s);a<d;++a)r+=i+=e[a];i%=65521,r%=65521}n=i,t=r},d:function(){return(n>>>8<<16|(255&t)<<8|t>>>8)+2*((255&n)<<23)}}}();e.p(n);var i=IP(n,t,2,4);return function(n,t){var e=t.level,i=0==e?0:e<6?1:9==e?3:2;n[0]=120,n[1]=i<<6|(i?32-2*i:1)}(i,t),function(n,t,e){for(;e;++t)n[t]=e,e>>>=8}(i,i.length-4,e.d()),i}function AP(n,t){return function(n,t,e){var i=n.length,r=!t||e,s=!e||e.i;e||(e={}),t||(t=new Vr(3*i));var a=function(Ve){var Ge=t.length;if(Ve>Ge){var tt=new Vr(Math.max(2*Ge,Ve));tt.set(t),t=tt}},d=e.f||0,h=e.p||0,m=e.b||0,b=e.l,x=e.d,M=e.m,D=e.n,P=8*i;do{if(!b){e.f=d=Od(n,h,1);var F=Od(n,h+1,3);if(h+=3,!F){var j=n[(U=H2(h)+4)-4]|n[U-3]<<8,Z=U+j;if(Z>i){if(s)throw"unexpected EOF";break}r&&a(m+j),t.set(n.subarray(U,Z),m),e.b=m+=j,e.p=h=8*Z;continue}if(1==F)b=I$,x=S$,M=9,D=5;else{if(2!=F)throw"invalid block type";var ne=Od(n,h,31)+257,de=Od(n,h+10,15)+4,ke=ne+Od(n,h+5,31)+1;h+=14;for(var Ye=new Vr(ke),Me=new Vr(19),he=0;he<de;++he)Me[U2[he]]=Od(n,h+3*he,7);h+=3*de;var dt=yP(Me),gt=(1<<dt)-1;if(!s&&h+ke*(dt+7)>P)break;var re=Pd(Me,dt,1);for(he=0;he<ke;){var U,ie=re[Od(n,h,gt)];if(h+=15&ie,(U=ie>>>4)<16)Ye[he++]=U;else{var we=0,ye=0;for(16==U?(ye=3+Od(n,h,3),h+=2,we=Ye[he-1]):17==U?(ye=3+Od(n,h,7),h+=3):18==U&&(ye=11+Od(n,h,127),h+=7);ye--;)Ye[he++]=we}}var ht=Ye.subarray(0,ne),Ee=Ye.subarray(ne);M=yP(ht),D=yP(Ee),b=Pd(ht,M,1),x=Pd(Ee,D,1)}if(h>P)throw"unexpected EOF"}r&&a(m+131072);for(var Le=(1<<M)-1,De=(1<<D)-1,Je=M+D+18;s||h+Je<P;){var ct=(we=b[bP(n,h)&Le])>>>4;if((h+=15&we)>P)throw"unexpected EOF";if(!we)throw"invalid length/literal";if(ct<256)t[m++]=ct;else{if(256==ct){b=null;break}var sn=ct-254;ct>264&&(sn=Od(n,h,(1<<($=bE[he=ct-257]))-1)+VV[he],h+=$);var ae=x[bP(n,h)&De],le=ae>>>4;if(!ae)throw"invalid distance";if(h+=15&ae,Ee=C$[le],le>3){var $=wE[le];Ee+=bP(n,h)&(1<<$)-1,h+=$}if(h>P)throw"unexpected EOF";r&&a(m+131072);for(var Se=m+sn;m<Se;m+=4)t[m]=t[m-Ee],t[m+1]=t[m+1-Ee],t[m+2]=t[m+2-Ee],t[m+3]=t[m+3-Ee];m=Se}}e.l=b,e.p=h,e.b=m,b&&(d=1,e.m=M,e.d=x,e.n=D)}while(!d);return m==t.length?t:hw(t,0,m)}((function(n){if(8!=(15&n[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(32&n[1])throw"invalid zlib data: preset dictionaries not supported"}(n),n.subarray(2,-4)),t)}var ai=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function YV(){ai.console&&"function"==typeof ai.console.log&&ai.console.log.apply(ai.console,arguments)}var Yr={log:YV,warn:function(n){ai.console&&("function"==typeof ai.console.warn?ai.console.warn.apply(ai.console,arguments):YV.call(null,arguments))},error:function(n){ai.console&&("function"==typeof ai.console.error?ai.console.error.apply(ai.console,arguments):YV(n))}};function ZV(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){fw(i.response,t,e)},i.onerror=function(){Yr.error("could not download file")},i.send()}function Y$(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function MP(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var $2,KV,fw=ai.saveAs||("object"!==(typeof window>"u"?"undefined":(0,Wr.Z)(window))||window!==ai?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=ai.URL||ai.webkitURL,r=document.createElement("a");r.download=t=t||n.name||"download",r.rel="noopener","string"==typeof n?(r.href=n,r.origin!==location.origin?Y$(r.href)?ZV(n,t,e):MP(r,r.target="_blank"):MP(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){MP(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download","string"==typeof n)if(Y$(n))ZV(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){MP(i)})}else navigator.msSaveOrOpenBlob((r=n,void 0===(s=e)?s={autoBom:!1}:"object"!==(0,Wr.Z)(s)&&(Yr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r),t);var r,s}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof n)return ZV(n,t,e);var r="application/octet-stream"===n.type,s=/constructor/i.test(ai.HTMLElement)||ai.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&"object"===(typeof FileReader>"u"?"undefined":(0,Wr.Z)(FileReader))){var d=new FileReader;d.onloadend=function(){var b=d.result;b=a?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=b:location=b,i=null},d.readAsDataURL(n)}else{var h=ai.URL||ai.webkitURL,m=h.createObjectURL(n);i?i.location=m:location.href=m,i=null,setTimeout(function(){h.revokeObjectURL(m)},4e4)}});function Z$(n){var t;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],i=0;i<e.length;i++){var s=e[i].process,a=e[i].re.exec(n);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),m=this.b.toString(16);return 1==d.length&&(d="0"+d),1==h.length&&(h="0"+h),1==m.length&&(m="0"+m),"#"+d+h+m}}function QV(n,t){var e=n[0],i=n[1],r=n[2],s=n[3];e=wl(e,i,r,s,t[0],7,-680876936),s=wl(s,e,i,r,t[1],12,-389564586),r=wl(r,s,e,i,t[2],17,606105819),i=wl(i,r,s,e,t[3],22,-1044525330),e=wl(e,i,r,s,t[4],7,-176418897),s=wl(s,e,i,r,t[5],12,1200080426),r=wl(r,s,e,i,t[6],17,-1473231341),i=wl(i,r,s,e,t[7],22,-45705983),e=wl(e,i,r,s,t[8],7,1770035416),s=wl(s,e,i,r,t[9],12,-1958414417),r=wl(r,s,e,i,t[10],17,-42063),i=wl(i,r,s,e,t[11],22,-1990404162),e=wl(e,i,r,s,t[12],7,1804603682),s=wl(s,e,i,r,t[13],12,-40341101),r=wl(r,s,e,i,t[14],17,-1502002290),e=xl(e,i=wl(i,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=xl(s,e,i,r,t[6],9,-1069501632),r=xl(r,s,e,i,t[11],14,643717713),i=xl(i,r,s,e,t[0],20,-373897302),e=xl(e,i,r,s,t[5],5,-701558691),s=xl(s,e,i,r,t[10],9,38016083),r=xl(r,s,e,i,t[15],14,-660478335),i=xl(i,r,s,e,t[4],20,-405537848),e=xl(e,i,r,s,t[9],5,568446438),s=xl(s,e,i,r,t[14],9,-1019803690),r=xl(r,s,e,i,t[3],14,-187363961),i=xl(i,r,s,e,t[8],20,1163531501),e=xl(e,i,r,s,t[13],5,-1444681467),s=xl(s,e,i,r,t[2],9,-51403784),r=xl(r,s,e,i,t[7],14,1735328473),e=Cl(e,i=xl(i,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=Cl(s,e,i,r,t[8],11,-2022574463),r=Cl(r,s,e,i,t[11],16,1839030562),i=Cl(i,r,s,e,t[14],23,-35309556),e=Cl(e,i,r,s,t[1],4,-1530992060),s=Cl(s,e,i,r,t[4],11,1272893353),r=Cl(r,s,e,i,t[7],16,-155497632),i=Cl(i,r,s,e,t[10],23,-1094730640),e=Cl(e,i,r,s,t[13],4,681279174),s=Cl(s,e,i,r,t[0],11,-358537222),r=Cl(r,s,e,i,t[3],16,-722521979),i=Cl(i,r,s,e,t[6],23,76029189),e=Cl(e,i,r,s,t[9],4,-640364487),s=Cl(s,e,i,r,t[12],11,-421815835),r=Cl(r,s,e,i,t[15],16,530742520),e=El(e,i=Cl(i,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=El(s,e,i,r,t[7],10,1126891415),r=El(r,s,e,i,t[14],15,-1416354905),i=El(i,r,s,e,t[5],21,-57434055),e=El(e,i,r,s,t[12],6,1700485571),s=El(s,e,i,r,t[3],10,-1894986606),r=El(r,s,e,i,t[10],15,-1051523),i=El(i,r,s,e,t[1],21,-2054922799),e=El(e,i,r,s,t[8],6,1873313359),s=El(s,e,i,r,t[15],10,-30611744),r=El(r,s,e,i,t[6],15,-1560198380),i=El(i,r,s,e,t[13],21,1309151649),e=El(e,i,r,s,t[4],6,-145523070),s=El(s,e,i,r,t[11],10,-1120210379),r=El(r,s,e,i,t[2],15,718787259),i=El(i,r,s,e,t[9],21,-343485551),n[0]=by(e,n[0]),n[1]=by(i,n[1]),n[2]=by(r,n[2]),n[3]=by(s,n[3])}function kP(n,t,e,i,r,s){return t=by(by(t,n),by(i,s)),by(t<<r|t>>>32-r,e)}function wl(n,t,e,i,r,s,a){return kP(t&e|~t&i,n,t,r,s,a)}function xl(n,t,e,i,r,s,a){return kP(t&i|e&~i,n,t,r,s,a)}function Cl(n,t,e,i,r,s,a){return kP(t^e^i,n,t,r,s,a)}function El(n,t,e,i,r,s,a){return kP(e^(t|~i),n,t,r,s,a)}function K$(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)QV(i,mce(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(QV(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,QV(i,r),i}function mce(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}$2=ai.atob.bind(ai),KV=ai.btoa.bind(ai);var Q$="0123456789abcdef".split("");function gce(n){for(var t="",e=0;e<4;e++)t+=Q$[n>>8*e+4&15]+Q$[n>>8*e&15];return t}function _ce(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function XV(n){return K$(n).map(_ce).join("")}var vce="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var t=0;t<n.length;t++)n[t]=gce(n[t]);return n.join("")}(K$("hello"));function by(n,t){if(vce){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function JV(n,t){var e,i,r;if(n!==e){for(var a=(r=n,new Array(1+(256/n.length>>0)+1).join(r)),d=[],h=0;h<256;h++)d[h]=h;var m=0;for(h=0;h<256;h++){var b=d[h];m=(m+b+a.charCodeAt(h))%256,d[h]=d[m],d[m]=b}e=n,i=d}else d=i;var x=t.length,M=0,D=0,P="";for(h=0;h<x;h++)D=(D+(b=d[M=(M+1)%256]))%256,d[M]=d[D],d[D]=b,a=d[(d[M]+d[D])%256],P+=String.fromCharCode(t.charCodeAt(h)^a);return P}var X$={print:4,modify:8,copy:16,"annot-forms":32};function DE(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(d){if(void 0!==X$.perm)throw new Error("Invalid permission: "+d);r+=X$[d]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=XV(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=JV(this.encryptionKey,this.padding)}function SE(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);t+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return t}function J$(n){if("object"!==(0,Wr.Z)(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof i||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[i,!!r],s},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],0===Object.keys(t[i]).length&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var a=t[e][s];try{a[0].apply(n,i)}catch(d){ai.console&&Yr.error("jsPDF PubSub Error",d.message,d)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function RP(n){if(!(this instanceof RP))return new RP(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function eW(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function pw(n,t,e,i,r){if(!(this instanceof pw))return new pw(n,t,e,i,r);this.type="axial"===n?2:3,this.coords=t,this.colors=e,eW.call(this,i,r)}function AE(n,t,e,i,r){if(!(this instanceof AE))return new AE(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,eW.call(this,i,r)}function ii(n){var t,e="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],a=[],d=1,h=16,m="S",b=null;"object"===(0,Wr.Z)(n=n||{})&&(e=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,null!==(b=n.encryption||null)&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),d="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(t=n.precision),void 0!==n.floatPrecision&&(h=n.floatPrecision),m=n.defaultPathOperation||"S"),a=n.filters||(!0===s?["FlateEncode"]:a),i=i||"mm",e=(""+(e||"P")).toLowerCase();var x=n.putOnlyUsedFonts||!1,M={},D={internal:{},__private__:{}};D.__private__.PubSub=J$;var P="1.3",F=D.__private__.getPdfVersion=function(){return P};D.__private__.setPdfVersion=function(T){P=T};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};D.__private__.getPageFormats=function(){return U};var j=D.__private__.getPageFormat=function(T){return U[T]};r=r||"a4";var ne="compat";function de(){this.saveGraphicsState(),pe(new ri(yn,0,0,-yn,0,My()*yn).toString()+" cm"),this.setFontSize(this.getFontSize()/yn),m="n",ne="advanced"}function ke(){this.restoreGraphicsState(),m="S",ne="compat"}var Ye=D.__private__.combineFontStyleAndFontWeight=function(T,z){if("bold"==T&&"normal"==z||"bold"==T&&400==z||"normal"==T&&"italic"==z||"bold"==T&&"italic"==z)throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(T=400==z||"normal"===z?"italic"===T?"italic":"normal":700!=z&&"bold"!==z||"normal"!==T?(700==z?"bold":z)+""+T:"bold"),T};D.advancedAPI=function(T){var z="compat"===ne;return z&&de.call(this),"function"!=typeof T||(T(this),z&&ke.call(this)),this},D.compatAPI=function(T){var z="advanced"===ne;return z&&ke.call(this),"function"!=typeof T||(T(this),z&&de.call(this)),this},D.isAdvancedAPI=function(){return"advanced"===ne};var Me,he=function(T){if("advanced"!==ne)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},dt=D.roundToPrecision=D.__private__.roundToPrecision=function(T,z){var ce=t||z;if(isNaN(T)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(ce).replace(/0+$/,"")};Me=D.hpf=D.__private__.hpf="number"==typeof h?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return dt(T,h)}:"smart"===h?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return dt(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return dt(T,16)};var gt=D.f2=D.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return dt(T,2)},re=D.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return dt(T,3)},ie=D.scale=D.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===ne?T*yn:"advanced"===ne?T:void 0},ye=function(T){return ie(function(T){return"compat"===ne?My()-T:"advanced"===ne?T:void 0}(T))};D.__private__.setPrecision=D.setPrecision=function(T){"number"==typeof parseInt(T,10)&&(t=parseInt(T,10))};var ht,Ee="00000000000000000000000000000000",Le=D.__private__.getFileId=function(){return Ee},De=D.__private__.setFileId=function(T){return Ee=void 0!==T&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():Ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==b&&(Dl=new DE(b.userPermissions,b.userPassword,b.ownerPassword,Ee)),Ee};D.setFileId=function(T){return De(T),this},D.getFileId=function(){return Le()};var Je=D.__private__.convertDateToPDFDate=function(T){var z=T.getTimezoneOffset(),ce=z<0?"+":"-",xe=Math.floor(Math.abs(z/60)),ze=Math.abs(z%60),vt=[ce,le(xe),"'",le(ze),"'"].join("");return["D:",T.getFullYear(),le(T.getMonth()+1),le(T.getDate()),le(T.getHours()),le(T.getMinutes()),le(T.getSeconds()),vt].join("")},ct=D.__private__.convertPDFDateToDate=function(T){var z=parseInt(T.substr(2,4),10),ce=parseInt(T.substr(6,2),10)-1,xe=parseInt(T.substr(8,2),10),ze=parseInt(T.substr(10,2),10),vt=parseInt(T.substr(12,2),10),qt=parseInt(T.substr(14,2),10);return new Date(z,ce,xe,ze,vt,qt,0)},sn=D.__private__.setCreationDate=function(T){var z;if(void 0===T&&(T=new Date),T instanceof Date)z=Je(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=T}return ht=z},$=D.__private__.getCreationDate=function(T){var z=ht;return"jsDate"===T&&(z=ct(ht)),z};D.setCreationDate=function(T){return sn(T),this},D.getCreationDate=function(T){return $(T)};var ae,le=D.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},Se=D.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},Ve=0,Ge=[],tt=[],et=0,Kt=[],Wt=[],xn=!1,Sn=tt;D.__private__.setCustomOutputDestination=function(T){xn=!0,Sn=T};var wt=function(T){xn||(Sn=T)};D.__private__.resetCustomOutputDestination=function(){xn=!1,Sn=tt};var pe=D.__private__.out=function(T){return T=T.toString(),et+=T.length+1,Sn.push(T),Sn},Di=D.__private__.write=function(T){return pe(1===arguments.length?T.toString():Array.prototype.join.call(arguments," "))},jn=D.__private__.getArrayBuffer=function(T){for(var z=T.length,ce=new ArrayBuffer(z),xe=new Uint8Array(ce);z--;)xe[z]=T.charCodeAt(z);return ce},Yt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];D.__private__.getStandardFonts=function(){return Yt};var cn=n.fontSize||16;D.__private__.setFontSize=D.setFontSize=function(T){return cn="advanced"===ne?T/yn:T,this};var vn,mn=D.__private__.getFontSize=D.getFontSize=function(){return"compat"===ne?cn:cn*yn},Gn=n.R2L||!1;D.__private__.setR2L=D.setR2L=function(T){return Gn=T,this},D.__private__.getR2L=D.getR2L=function(){return Gn};var wi,Ri=D.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))vn=T;else if(isNaN(T)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');vn=T}else vn=parseInt(T,10)};D.__private__.getZoomMode=function(){return vn};var Ui,tr=D.__private__.setPageMode=function(T){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');wi=T};D.__private__.getPageMode=function(){return wi};var Ur=D.__private__.setLayoutMode=function(T){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');Ui=T};D.__private__.getLayoutMode=function(){return Ui},D.__private__.setDisplayMode=D.setDisplayMode=function(T,z,ce){return Ri(T),Ur(z),tr(ce),this};var di={title:"",subject:"",author:"",keywords:"",creator:""};D.__private__.getDocumentProperty=function(T){if(-1===Object.keys(di).indexOf(T))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return di[T]},D.__private__.getDocumentProperties=function(){return di},D.__private__.setDocumentProperties=D.setProperties=D.setDocumentProperties=function(T){for(var z in di)di.hasOwnProperty(z)&&T[z]&&(di[z]=T[z]);return this},D.__private__.setDocumentProperty=function(T,z){if(-1===Object.keys(di).indexOf(T))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return di[T]=z};var Gi,yn,Il,cr,Gh,Zr={},Ss={},Bp=[],Cr={},xw={},no={},$h={},e_=null,io=0,xi=[],Er=new J$(D),Cw=n.hotfixes||[],Ja={},Vp={},Up=[],ri=function T(z,ce,xe,ze,vt,qt){if(!(this instanceof T))return new T(z,ce,xe,ze,vt,qt);isNaN(z)&&(z=1),isNaN(ce)&&(ce=0),isNaN(xe)&&(xe=0),isNaN(ze)&&(ze=1),isNaN(vt)&&(vt=0),isNaN(qt)&&(qt=0),this._matrix=[z,ce,xe,ze,vt,qt]};Object.defineProperty(ri.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(ri.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(ri.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(ri.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(ri.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(ri.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(ri.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(ri.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(ri.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(ri.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(ri.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(ri.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(ri.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ri.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ri.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ri.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),ri.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Me).join(T)},ri.prototype.multiply=function(T){return new ri(T.sx*this.sx+T.shy*this.shx,T.sx*this.shy+T.shy*this.sy,T.shx*this.sx+T.sy*this.shx,T.shx*this.shy+T.sy*this.sy,T.tx*this.sx+T.ty*this.shx+this.tx,T.tx*this.shy+T.ty*this.sy+this.ty)},ri.prototype.decompose=function(){var T=this.sx,z=this.shy,ce=this.shx,xe=this.sy,ze=this.tx,vt=this.ty,qt=Math.sqrt(T*T+z*z),Cn=(T/=qt)*ce+(z/=qt)*xe;ce-=T*Cn,xe-=z*Cn;var Wn=Math.sqrt(ce*ce+xe*xe);return Cn/=Wn,T*(xe/=Wn)<z*(ce/=Wn)&&(T=-T,z=-z,Cn=-Cn,qt=-qt),{scale:new ri(qt,0,0,Wn,0,0),translate:new ri(1,0,0,1,ze,vt),rotate:new ri(T,z,-z,T,0,0),skew:new ri(1,0,Cn,1,0,0)}},ri.prototype.toString=function(T){return this.join(" ")},ri.prototype.inversed=function(){var T=this.sx,z=this.shy,ce=this.shx,xe=this.sy,ze=this.tx,vt=this.ty,qt=1/(T*xe-z*ce),Cn=xe*qt,Wn=-z*qt,Si=-ce*qt,Fi=T*qt;return new ri(Cn,Wn,Si,Fi,-Cn*ze-Si*vt,-Wn*ze-Fi*vt)},ri.prototype.applyToPoint=function(T){return new ZE(T.x*this.sx+T.y*this.shx+this.tx,T.x*this.shy+T.y*this.sy+this.ty)},ri.prototype.applyToRectangle=function(T){var z=this.applyToPoint(T),ce=this.applyToPoint(new ZE(T.x+T.w,T.y+T.h));return new uT(z.x,z.y,ce.x-z.x,ce.y-z.y)},ri.prototype.clone=function(){return new ri(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},D.Matrix=ri;var Wh=D.matrixMult=function(T,z){return z.multiply(T)},jp=new ri(1,0,0,1,0,0);D.unitMatrix=D.identityMatrix=jp;var $c=function(T,z){if(!xw[T]){var ce=(z instanceof pw?"Sh":"P")+(Object.keys(Cr).length+1).toString(10);z.id=ce,xw[T]=ce,Cr[ce]=z,Er.publish("addPattern",z)}};D.ShadingPattern=pw,D.TilingPattern=AE,D.addShadingPattern=function(T,z){return he("addShadingPattern()"),$c(T,z),this},D.beginTilingPattern=function(T){he("beginTilingPattern()"),EO(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},D.endTilingPattern=function(T,z){he("endTilingPattern()"),z.stream=Wt[ae].join("\n"),$c(T,z),Er.publish("endTilingPattern",z),Up.pop().restore()};var T,ha=D.__private__.newObject=function(){var T=qo();return Bu(T,!0),T},qo=D.__private__.newObjectDeferred=function(){return Ve++,Ge[Ve]=function(){return et},Ve},Bu=function(T,z){return z="boolean"==typeof z&&z,Ge[T]=et,z&&pe(T+" 0 obj"),T},FE=D.__private__.newAdditionalObject=function(){var T={objId:qo(),content:""};return Kt.push(T),T},t_=qo(),Yh=qo(),Zh=D.__private__.decodeColorString=function(T){var z=T.split(" ");if(2!==z.length||"g"!==z[1]&&"G"!==z[1])5===z.length&&("k"===z[4]||"K"===z[4])&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ce=parseFloat(z[0]);z=[ce,ce,ce,"r"]}for(var xe="#",ze=0;ze<3;ze++)xe+=("0"+Math.floor(255*parseFloat(z[ze])).toString(16)).slice(-2);return xe},Kh=D.__private__.encodeColorString=function(T){var z;"string"==typeof T&&(T={ch1:T});var ce=T.ch1,xe=T.ch2,ze=T.ch3,vt=T.ch4,qt="draw"===T.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ce&&"#"!==ce.charAt(0)){var Cn=new Z$(ce);if(Cn.ok)ce=Cn.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ce&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),"string"==typeof ce&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var Wn=parseInt(ce.substr(1),16);ce=Wn>>16&255,xe=Wn>>8&255,ze=255&Wn}if(void 0===xe||void 0===vt&&ce===xe&&xe===ze)z="string"==typeof ce?ce+" "+qt[0]:2===T.precision?gt(ce/255)+" "+qt[0]:re(ce/255)+" "+qt[0];else if(void 0===vt||"object"===(0,Wr.Z)(vt)){if(vt&&!isNaN(vt.a)&&0===vt.a)return["1.","1.","1.",qt[1]].join(" ");z="string"==typeof ce?[ce,xe,ze,qt[1]].join(" "):2===T.precision?[gt(ce/255),gt(xe/255),gt(ze/255),qt[1]].join(" "):[re(ce/255),re(xe/255),re(ze/255),qt[1]].join(" ")}else z="string"==typeof ce?[ce,xe,ze,vt,qt[2]].join(" "):2===T.precision?[gt(ce),gt(xe),gt(ze),gt(vt),qt[2]].join(" "):[re(ce),re(xe),re(ze),re(vt),qt[2]].join(" ");return z},Hp=D.__private__.getFilters=function(){return a},Ld=D.__private__.putStream=function(T){var z=(T=T||{}).data||"",ce=T.filters||Hp(),xe=T.alreadyAppliedFilters||[],ze=T.addLength1||!1,vt=z.length,qt=T.objectId,Cn=function(Sl){return Sl};if(null!==b&&void 0===qt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==b&&(Cn=Dl.encryptor(qt,0));var Wn={};!0===ce&&(ce=["FlateEncode"]);var Si=T.additionalKeyValues||[],Fi=(Wn=void 0!==ii.API.processDataByFilters?ii.API.processDataByFilters(z,ce):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(0!==Wn.data.length&&(Si.push({key:"Length",value:Wn.data.length}),!0===ze&&Si.push({key:"Length1",value:vt})),0!=Fi.length)if(Fi.split("/").length-1==1)Si.push({key:"Filter",value:Fi});else{Si.push({key:"Filter",value:"["+Fi+"]"});for(var Xi=0;Xi<Si.length;Xi+=1)if("DecodeParms"===Si[Xi].key){for(var js=[],ro=0;ro<Wn.reverseChain.split("/").length-1;ro+=1)js.push("null");js.push(Si[Xi].value),Si[Xi].value="["+js.join(" ")+"]"}}pe("<<");for(var Go=0;Go<Si.length;Go++)pe("/"+Si[Go].key+" "+Si[Go].value);pe(">>"),0!==Wn.data.length&&(pe("stream"),pe(Cn(Wn.data)),pe("endstream"))},zp=D.__private__.putPage=function(T){var z=T.number,ce=T.data,xe=T.objId,ze=T.contentsObjId;Bu(xe,!0),pe("<</Type /Page"),pe("/Parent "+T.rootDictionaryObjId+" 0 R"),pe("/Resources "+T.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(Me(T.mediaBox.bottomLeftX))+" "+parseFloat(Me(T.mediaBox.bottomLeftY))+" "+Me(T.mediaBox.topRightX)+" "+Me(T.mediaBox.topRightY)+"]"),null!==T.cropBox&&pe("/CropBox ["+Me(T.cropBox.bottomLeftX)+" "+Me(T.cropBox.bottomLeftY)+" "+Me(T.cropBox.topRightX)+" "+Me(T.cropBox.topRightY)+"]"),null!==T.bleedBox&&pe("/BleedBox ["+Me(T.bleedBox.bottomLeftX)+" "+Me(T.bleedBox.bottomLeftY)+" "+Me(T.bleedBox.topRightX)+" "+Me(T.bleedBox.topRightY)+"]"),null!==T.trimBox&&pe("/TrimBox ["+Me(T.trimBox.bottomLeftX)+" "+Me(T.trimBox.bottomLeftY)+" "+Me(T.trimBox.topRightX)+" "+Me(T.trimBox.topRightY)+"]"),null!==T.artBox&&pe("/ArtBox ["+Me(T.artBox.bottomLeftX)+" "+Me(T.artBox.bottomLeftY)+" "+Me(T.artBox.topRightX)+" "+Me(T.artBox.topRightY)+"]"),"number"==typeof T.userUnit&&1!==T.userUnit&&pe("/UserUnit "+T.userUnit),Er.publish("putPage",{objId:xe,pageContext:xi[z],pageNumber:z,page:ce}),pe("/Contents "+ze+" 0 R"),pe(">>"),pe("endobj");var vt=ce.join("\n");return"advanced"===ne&&(vt+="\nQ"),Bu(ze,!0),Ld({data:vt,filters:Hp(),objectId:ze}),pe("endobj"),xe},Ew=D.__private__.putPages=function(){var T,z,ce=[];for(T=1;T<=io;T++)xi[T].objId=qo(),xi[T].contentsObjId=qo();for(T=1;T<=io;T++)ce.push(zp({number:T,data:Wt[T],objId:xi[T].objId,contentsObjId:xi[T].contentsObjId,mediaBox:xi[T].mediaBox,cropBox:xi[T].cropBox,bleedBox:xi[T].bleedBox,trimBox:xi[T].trimBox,artBox:xi[T].artBox,userUnit:xi[T].userUnit,rootDictionaryObjId:t_,resourceDictionaryObjId:Yh}));Bu(t_,!0),pe("<</Type /Pages");var xe="/Kids [";for(z=0;z<io;z++)xe+=ce[z]+" 0 R ";pe(xe+"]"),pe("/Count "+io),pe(">>"),pe("endobj"),Er.publish("postPutPages")},LE=function(T){Er.publish("putFont",{font:T,out:pe,newObject:ha,putStream:Ld}),!0!==T.isAlreadyPutted&&(T.objectNumber=ha(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+SE(T.postScriptName)),pe("/Subtype /Type1"),"string"==typeof T.encoding&&pe("/Encoding /"+T.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},VE=function(T){T.objectNumber=ha();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[Me(T.x),Me(T.y),Me(T.x+T.width),Me(T.y+T.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var ce=T.pages[1].join("\n");Ld({data:ce,additionalKeyValues:z,objectId:T.objectNumber}),pe("endobj")},LU=function(T,z){z||(z=21);var ce=ha(),xe=function(T,z){var ce,xe=[],ze=1/(z-1);for(ce=0;ce<1;ce+=ze)xe.push(ce);xe.push(1),0!=T[0].offset&&T.unshift({offset:0,color:T[0].color}),1!=T[T.length-1].offset&&T.push({offset:1,color:T[T.length-1].color});for(var Cn="",Wn=0,Si=0;Si<xe.length;Si++){for(ce=xe[Si];ce>T[Wn+1].offset;)Wn++;var Fi=T[Wn].offset,Xi=(ce-Fi)/(T[Wn+1].offset-Fi),js=T[Wn].color,ro=T[Wn+1].color;Cn+=Se(Math.round((1-Xi)*js[0]+Xi*ro[0]).toString(16))+Se(Math.round((1-Xi)*js[1]+Xi*ro[1]).toString(16))+Se(Math.round((1-Xi)*js[2]+Xi*ro[2]).toString(16))}return Cn.trim()}(T.colors,z),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+z+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ld({data:xe,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),pe("endobj"),T.objectNumber=ha(),pe("<< /ShadingType "+T.type),pe("/ColorSpace /DeviceRGB");var vt="/Coords ["+Me(parseFloat(T.coords[0]))+" "+Me(parseFloat(T.coords[1]))+" ";vt+=2===T.type?Me(parseFloat(T.coords[2]))+" "+Me(parseFloat(T.coords[3])):Me(parseFloat(T.coords[2]))+" "+Me(parseFloat(T.coords[3]))+" "+Me(parseFloat(T.coords[4]))+" "+Me(parseFloat(T.coords[5])),pe(vt+="]"),T.matrix&&pe("/Matrix ["+T.matrix.toString()+"]"),pe("/Function "+ce+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},BU=function(T,z){var ce=qo(),xe=ha();z.push({resourcesOid:ce,objectOid:xe}),T.objectNumber=xe;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+T.boundingBox.map(Me).join(" ")+"]"}),ze.push({key:"XStep",value:Me(T.xStep)}),ze.push({key:"YStep",value:Me(T.yStep)}),ze.push({key:"Resources",value:ce+" 0 R"}),T.matrix&&ze.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),Ld({data:T.stream,additionalKeyValues:ze,objectId:T.objectNumber}),pe("endobj")},aO=function(T){for(var z in T.objectNumber=ha(),pe("<<"),T)switch(z){case"opacity":pe("/ca "+gt(T[z]));break;case"stroke-opacity":pe("/CA "+gt(T[z]))}pe(">>"),pe("endobj")},bo=function(T){Bu(T.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var T in pe("/Font <<"),Zr)Zr.hasOwnProperty(T)&&(!1===x||!0===x&&M.hasOwnProperty(T))&&pe("/"+T+" "+Zr[T].objectNumber+" 0 R");pe(">>")}(),function(){if(Object.keys(Cr).length>0){for(var T in pe("/Shading <<"),Cr)Cr.hasOwnProperty(T)&&Cr[T]instanceof pw&&Cr[T].objectNumber>=0&&pe("/"+T+" "+Cr[T].objectNumber+" 0 R");Er.publish("putShadingPatternDict"),pe(">>")}}(),function(T){if(Object.keys(Cr).length>0){for(var z in pe("/Pattern <<"),Cr)Cr.hasOwnProperty(z)&&Cr[z]instanceof D.TilingPattern&&Cr[z].objectNumber>=0&&Cr[z].objectNumber<T&&pe("/"+z+" "+Cr[z].objectNumber+" 0 R");Er.publish("putTilingPatternDict"),pe(">>")}}(T.objectOid),function(){if(Object.keys(no).length>0){var T;for(T in pe("/ExtGState <<"),no)no.hasOwnProperty(T)&&no[T].objectNumber>=0&&pe("/"+T+" "+no[T].objectNumber+" 0 R");Er.publish("putGStateDict"),pe(">>")}}(),function(){for(var T in pe("/XObject <<"),Ja)Ja.hasOwnProperty(T)&&Ja[T].objectNumber>=0&&pe("/"+T+" "+Ja[T].objectNumber+" 0 R");Er.publish("putXobjectDict"),pe(">>")}(),pe(">>"),pe("endobj")},dO=function(T){Ss[T.fontName]=Ss[T.fontName]||{},Ss[T.fontName][T.fontStyle]=T.id},tT=function(T,z,ce,xe,ze){var vt={id:"F"+(Object.keys(Zr).length+1).toString(10),postScriptName:T,fontName:z,fontStyle:ce,encoding:xe,isStandardFont:ze||!1,metadata:{}};return Er.publish("addFont",{font:vt,instance:this}),Zr[vt.id]=vt,dO(vt),vt.id},Wc=D.__private__.pdfEscape=D.pdfEscape=function(T,z){return function(T,z){var ce,xe,ze,vt,qt,Cn,Wn,Si,Fi;if(ze=(z=z||{}).sourceEncoding||"Unicode",qt=z.outputEncoding,(z.autoencode||qt)&&Zr[Gi].metadata&&Zr[Gi].metadata[ze]&&Zr[Gi].metadata[ze].encoding&&(vt=Zr[Gi].metadata[ze].encoding,!qt&&Zr[Gi].encoding&&(qt=Zr[Gi].encoding),!qt&&vt.codePages&&(qt=vt.codePages[0]),"string"==typeof qt&&(qt=vt[qt]),qt)){for(Wn=!1,Cn=[],ce=0,xe=T.length;ce<xe;ce++)(Si=qt[T.charCodeAt(ce)])?Cn.push(String.fromCharCode(Si)):Cn.push(T[ce]),Cn[ce].charCodeAt(0)>>8&&(Wn=!0);T=Cn.join("")}for(ce=T.length;void 0===Wn&&0!==ce;)T.charCodeAt(ce-1)>>8&&(Wn=!0),ce--;if(!Wn)return T;for(Cn=z.noBOM?[]:[254,255],ce=0,xe=T.length;ce<xe;ce++){if((Fi=(Si=T.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+T+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Cn.push(Fi),Cn.push(Si-(Fi<<8))}return String.fromCharCode.apply(void 0,Cn)}(T,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nT=D.__private__.beginPage=function(T){Wt[++io]=[],xi[io]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},fO(io),wt(Wt[ae])},hO=function(T,z){var ce,xe,ze;switch(e=z||e,"string"==typeof T&&(ce=j(T.toLowerCase()),Array.isArray(ce)&&(xe=ce[0],ze=ce[1])),Array.isArray(T)&&(xe=T[0]*yn,ze=T[1]*yn),isNaN(xe)&&(xe=r[0],ze=r[1]),(xe>14400||ze>14400)&&(Yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),ze=Math.min(14400,ze)),r=[xe,ze],e.substr(0,1)){case"l":ze>xe&&(r=[ze,xe]);break;case"p":xe>ze&&(r=[ze,xe])}nT(r),yO(oT),pe(Xh),0!==lT&&pe(lT+" J"),0!==cT&&pe(cT+" j"),Er.publish("addPage",{pageNumber:io})},qU=function(T){T>0&&T<=io&&(Wt.splice(T,1),xi.splice(T,1),io--,ae>io&&(ae=io),this.setPage(ae))},fO=function(T){T>0&&T<=io&&(ae=T)},GU=D.__private__.getNumberOfPages=D.getNumberOfPages=function(){return Wt.length-1},pO=function(T,z,ce){var xe,ze=void 0;return ce=ce||{},z=void 0!==z?z:Zr[Gi].fontStyle,xe=(T=void 0!==T?T:Zr[Gi].fontName).toLowerCase(),void 0!==Ss[xe]&&void 0!==Ss[xe][z]?ze=Ss[xe][z]:void 0!==Ss[T]&&void 0!==Ss[T][z]?ze=Ss[T][z]:!1===ce.disableWarning&&Yr.warn("Unable to look up font label for font '"+T+"', '"+z+"'. Refer to getFontList() for available fonts."),ze||ce.noFallback||null==(ze=Ss.times[z])&&(ze=Ss.times.normal),ze},$U=D.__private__.putInfo=function(){var T=ha(),z=function(xe){return xe};for(var ce in null!==b&&(z=Dl.encryptor(T,0)),pe("<<"),pe("/Producer ("+Wc(z("jsPDF "+ii.version))+")"),di)di.hasOwnProperty(ce)&&di[ce]&&pe("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+Wc(z(di[ce]))+")");pe("/CreationDate ("+Wc(z(ht))+")"),pe(">>"),pe("endobj")},iT=D.__private__.putCatalog=function(T){var z=(T=T||{}).rootDictionaryObjId||t_;switch(ha(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+z+" 0 R"),vn||(vn="fullwidth"),vn){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+vn;"%"===ce.substr(ce.length-1)&&(vn=parseInt(vn)/100),"number"==typeof vn&&pe("/OpenAction [3 0 R /XYZ null null "+gt(vn)+"]")}switch(Ui||(Ui="continuous"),Ui){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}wi&&pe("/PageMode /"+wi),Er.publish("putCatalog"),pe(">>"),pe("endobj")},WU=D.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(Ve+1)),pe("/Root "+Ve+" 0 R"),pe("/Info "+(Ve-1)+" 0 R"),null!==b&&pe("/Encrypt "+Dl.oid+" 0 R"),pe("/ID [ <"+Ee+"> <"+Ee+"> ]"),pe(">>")},YU=D.__private__.putHeader=function(){pe("%PDF-"+P),pe("%\xba\xdf\xac\xe0")},ZU=D.__private__.putXRef=function(){var T="0000000000";pe("xref"),pe("0 "+(Ve+1)),pe("0000000000 65535 f ");for(var z=1;z<=Ve;z++)pe("function"==typeof Ge[z]?(T+Ge[z]()).slice(-10)+" 00000 n ":void 0!==Ge[z]?(T+Ge[z]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},n_=D.__private__.buildDocument=function(){Ve=0,et=0,tt=[],Ge=[],Kt=[],t_=qo(),Yh=qo(),wt(tt),Er.publish("buildDocument"),YU(),Ew(),function(){Er.publish("putAdditionalObjects");for(var T=0;T<Kt.length;T++){var z=Kt[T];Bu(z.objId,!0),pe(z.content),pe("endobj")}Er.publish("postPutAdditionalObjects")}(),function(){var T=[];(function(){for(var T in Zr)Zr.hasOwnProperty(T)&&(!1===x||!0===x&&M.hasOwnProperty(T))&&LE(Zr[T])})(),function(){var T;for(T in no)no.hasOwnProperty(T)&&aO(no[T])}(),function(){for(var T in Ja)Ja.hasOwnProperty(T)&&VE(Ja[T])}(),function(T){var z;for(z in Cr)Cr.hasOwnProperty(z)&&(Cr[z]instanceof pw?LU(Cr[z]):Cr[z]instanceof AE&&BU(Cr[z],T))}(T),Er.publish("putResources"),T.forEach(bo),bo({resourcesOid:Yh,objectOid:Number.MAX_SAFE_INTEGER}),Er.publish("postPutResources")}(),null!==b&&(Dl.oid=ha(),pe("<<"),pe("/Filter /Standard"),pe("/V "+Dl.v),pe("/R "+Dl.r),pe("/U <"+Dl.toHexString(Dl.U)+">"),pe("/O <"+Dl.toHexString(Dl.O)+">"),pe("/P "+Dl.P),pe(">>"),pe("endobj")),$U(),iT();var T=et;return ZU(),WU(),pe("startxref"),pe(""+T),pe("%%EOF"),wt(Wt[ae]),tt.join("\n")},qE=D.__private__.getBlob=function(T){return new Blob([jn(T)],{type:"application/pdf"})},GE=D.output=D.__private__.output=((T=function(T,z){switch("string"==typeof(z=z||{})?z={filename:z}:z.filename=z.filename||"generated.pdf",T){case void 0:return n_();case"save":D.save(z.filename);break;case"arraybuffer":return jn(n_());case"blob":return qE(n_());case"bloburi":case"bloburl":if(void 0!==ai.URL&&"function"==typeof ai.URL.createObjectURL)return ai.URL&&ai.URL.createObjectURL(qE(n_()))||void 0;Yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",xe=n_();try{ce=KV(xe)}catch{ce=KV(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+z.filename+";base64,"+ce;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ai)){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",vt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ze=z.pdfObjectUrl,vt="");var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+vt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",Cn=ai.open();return null!==Cn&&Cn.document.write(qt),Cn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ai)){var Wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Si=ai.open();if(null!==Si){Si.document.write(Wn);var Fi=this;Si.document.documentElement.querySelector("#pdfViewer").onload=function(){Si.document.title=z.filename,Si.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Fi.output("bloburl"))}}return Si}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ai))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',js=ai.open();if(null!==js&&(js.document.write(Xi),js.document.title=z.filename),js||typeof safari>"u")return js;break;case"datauri":case"dataurl":return ai.document.location.href=this.output("datauristring",z);default:return null}}).foo=function(){try{return T.apply(this,arguments)}catch(xe){var z=xe.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var ce="Error in function "+z.split("\n")[0].split("<")[0]+": "+xe.message;if(!ai.console)throw new Error(ce);ai.console.error(ce,xe),ai.alert&&alert(ce)}},T.foo.bar=T,T.foo),mO=function(T){return!0===Array.isArray(Cw)&&Cw.indexOf(T)>-1};switch(i){case"pt":yn=1;break;case"mm":yn=72/25.4;break;case"cm":yn=72/2.54;break;case"in":yn=72;break;case"px":yn=1==mO("px_scaling")?.75:96/72;break;case"pc":case"em":yn=12;break;case"ex":yn=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);yn=i}var Dl=null;sn(),De();var gO=D.__private__.getPageInfo=D.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xi[T].objId,pageNumber:T,pageContext:xi[T]}},_i=D.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in xi)if(xi[z].objId===T)break;return gO(z)},QU=D.__private__.getCurrentPageInfo=D.getCurrentPageInfo=function(){return{objId:xi[ae].objId,pageNumber:ae,pageContext:xi[ae]}};D.addPage=function(){return hO.apply(this,arguments),this},D.setPage=function(){return fO.apply(this,arguments),wt.call(this,Wt[ae]),this},D.insertPage=function(T){return this.addPage(),this.movePage(ae,T),this},D.movePage=function(T,z){var ce,xe;if(T>z){ce=Wt[T],xe=xi[T];for(var ze=T;ze>z;ze--)Wt[ze]=Wt[ze-1],xi[ze]=xi[ze-1];Wt[z]=ce,xi[z]=xe,this.setPage(z)}else if(T<z){ce=Wt[T],xe=xi[T];for(var vt=T;vt<z;vt++)Wt[vt]=Wt[vt+1],xi[vt]=xi[vt+1];Wt[z]=ce,xi[z]=xe,this.setPage(z)}return this},D.deletePage=function(){return qU.apply(this,arguments),this},D.__private__.text=D.text=function(T,z,ce,xe,ze){var vt,qt,Cn,Wn,Si,Fi,Xi,js,ro,Go=(xe=xe||{}).scope||this;if("number"==typeof T&&"number"==typeof z&&("string"==typeof ce||Array.isArray(ce))){var Sl=ce;ce=z,z=T,T=Sl}if(arguments[3]instanceof ri?(he("The transform parameter of text() with a Matrix value"),ro=ze):(Cn=arguments[4],Wn=arguments[5],"object"===(0,Wr.Z)(Xi=arguments[3])&&null!==Xi||("string"==typeof Cn&&(Wn=Cn,Cn=null),"string"==typeof Xi&&(Wn=Xi,Xi=null),"number"==typeof Xi&&(Cn=Xi,Xi=null),xe={flags:Xi,angle:Cn,align:Wn})),isNaN(z)||isNaN(ce)||null==T)throw new Error("Invalid arguments passed to jsPDF.text");if(0===T.length)return Go;var Jh,Ba="",Vu="number"==typeof xe.lineHeightFactor?xe.lineHeightFactor:Dw,r_=Go.internal.scaleFactor;function IO(is){return is=is.split("\t").join(Array(xe.TabLen||9).join(" ")),Wc(is,Xi)}function pT(is){for(var rs,wo=is.concat(),fa=[],l_=wo.length;l_--;)"string"==typeof(rs=wo.shift())?fa.push(rs):Array.isArray(is)&&(1===rs.length||void 0===rs[1]&&void 0===rs[2])?fa.push(rs[0]):fa.push([rs[0],rs[1],rs[2]]);return fa}function mT(is,rs){var wo;if("string"==typeof is)wo=rs(is)[0];else if(Array.isArray(is)){for(var fa,l_,Oy=is.concat(),sI=[],SO=Oy.length;SO--;)"string"==typeof(fa=Oy.shift())?sI.push(rs(fa)[0]):Array.isArray(fa)&&"string"==typeof fa[0]&&(l_=rs(fa[0],fa[1],fa[2]),sI.push([l_[0],l_[1],l_[2]]));wo=sI}return wo}var QE=!1,gT=!0;if("string"==typeof T)QE=!0;else if(Array.isArray(T)){var _T=T.concat();qt=[];for(var XE,Yc=_T.length;Yc--;)("string"!=typeof(XE=_T.shift())||Array.isArray(XE)&&"string"!=typeof XE[0])&&(gT=!1);QE=gT}if(!1===QE)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');"string"==typeof T&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var JE=cn/Go.internal.scaleFactor,eI=JE*(Vu-1);switch(xe.baseline){case"bottom":ce-=eI;break;case"top":ce+=JE-eI;break;case"hanging":ce+=JE-2*eI;break;case"middle":ce+=JE/2-eI}if((Fi=xe.maxWidth||0)>0&&("string"==typeof T?T=Go.splitTextToSize(T,Fi):"[object Array]"===Object.prototype.toString.call(T)&&(T=T.reduce(function(is,rs){return is.concat(Go.splitTextToSize(rs,Fi))},[]))),Er.publish("preProcessText",vt={text:T,x:z,y:ce,options:xe,mutex:{pdfEscape:Wc,activeFontKey:Gi,fonts:Zr,activeFontSize:cn}}),T=vt.text,Cn=(xe=vt.options).angle,ro instanceof ri||!Cn||"number"!=typeof Cn)Cn&&Cn instanceof ri&&(ro=Cn);else{Cn*=Math.PI/180,0===xe.rotationDirection&&(Cn=-Cn),"advanced"===ne&&(Cn=-Cn);var tI=Math.cos(Cn),vT=Math.sin(Cn);ro=new ri(tI,vT,-vT,tI,0,0)}"advanced"!==ne||ro||(ro=jp),void 0!==(Si=xe.charSpace||YE)&&(Ba+=Me(ie(Si))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(js=xe.horizontalScale)&&(Ba+=Me(100*js)+" Tz\n");var Zc=-1,a8=void 0!==xe.renderingMode?xe.renderingMode:xe.stroke,yT=Go.internal.getCurrentPageInfo().pageContext;switch(a8){case 0:case!1:case"fill":Zc=0;break;case 1:case!0:case"stroke":Zc=1;break;case 2:case"fillThenStroke":Zc=2;break;case 3:case"invisible":Zc=3;break;case 4:case"fillAndAddForClipping":Zc=4;break;case 5:case"strokeAndAddPathForClipping":Zc=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zc=6;break;case 7:case"addToPathForClipping":Zc=7}-1!==Zc?Ba+=Zc+" Tr\n":-1!==(void 0!==yT.usedRenderingMode?yT.usedRenderingMode:-1)&&(Ba+="0 Tr\n"),-1!==Zc&&(yT.usedRenderingMode=Zc),Wn=xe.align||"left";var ef,bT=cn*Vu,l8=Go.internal.pageSize.getWidth(),c8=Zr[Gi];Si=xe.charSpace||YE,Fi=xe.maxWidth||0,Xi=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var ky=[];if("[object Array]"===Object.prototype.toString.call(T)){var Bd;qt=pT(T),"left"!==Wn&&(ef=qt.map(function(is){return Go.getStringUnitWidth(is,{font:c8,charSpace:Si,fontSize:cn,doKerning:!1})*cn/r_}));var tf,Ry=0;if("right"===Wn){z-=ef[0],T=[],Yc=qt.length;for(var Gp=0;Gp<Yc;Gp++)0===Gp?(tf=i_(z),Bd=Ay(ce)):(tf=ie(Ry-ef[Gp]),Bd=-bT),T.push([qt[Gp],tf,Bd]),Ry=ef[Gp]}else if("center"===Wn){z-=ef[0]/2,T=[],Yc=qt.length;for(var s_=0;s_<Yc;s_++)0===s_?(tf=i_(z),Bd=Ay(ce)):(tf=ie((Ry-ef[s_])/2),Bd=-bT),T.push([qt[s_],tf,Bd]),Ry=ef[s_]}else if("left"===Wn){T=[],Yc=qt.length;for(var nI=0;nI<Yc;nI++)T.push(qt[nI])}else{if("justify"!==Wn)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');T=[],Yc=qt.length,Fi=0!==Fi?Fi:l8;for(var nf=0;nf<Yc;nf++)Bd=0===nf?Ay(ce):-bT,tf=0===nf?i_(z):0,ky.push(nf<Yc-1?Me(ie((Fi-ef[nf])/(qt[nf].split(" ").length-1))):0),T.push([qt[nf],tf,Bd])}}!0===("boolean"==typeof xe.R2L?xe.R2L:Gn)&&(T=mT(T,function(is,rs,wo){return[is.split("").reverse().join(""),rs,wo]})),Er.publish("postProcessText",vt={text:T,x:z,y:ce,options:xe,mutex:{pdfEscape:Wc,activeFontKey:Gi,fonts:Zr,activeFontSize:cn}}),T=vt.text,Jh=vt.mutex.isHex||!1;var wT=Zr[Gi].encoding;"WinAnsiEncoding"!==wT&&"StandardEncoding"!==wT||(T=mT(T,function(is,rs,wo){return[IO(is),rs,wo]})),qt=pT(T),T=[];for(var Ny,rf,o_,Mw=Array.isArray(qt[0])?1:0,Py="",xT=function(is,rs,wo){var fa="";return wo instanceof ri?(wo="number"==typeof xe.angle?Wh(wo,new ri(1,0,0,1,is,rs)):Wh(new ri(1,0,0,1,is,rs),wo),"advanced"===ne&&(wo=Wh(new ri(1,0,0,-1,0,0),wo)),fa=wo.join(" ")+" Tm\n"):fa=Me(is)+" "+Me(rs)+" Td\n",fa},Vd=0;Vd<qt.length;Vd++){switch(Py="",Mw){case 1:o_=(Jh?"<":"(")+qt[Vd][0]+(Jh?">":")"),Ny=parseFloat(qt[Vd][1]),rf=parseFloat(qt[Vd][2]);break;case 0:o_=(Jh?"<":"(")+qt[Vd]+(Jh?">":")"),Ny=i_(z),rf=Ay(ce)}void 0!==ky&&void 0!==ky[Vd]&&(Py=ky[Vd]+" Tw\n"),0===Vd?T.push(Py+xT(Ny,rf,ro)+o_):0===Mw?T.push(Py+o_):1===Mw&&T.push(Py+xT(Ny,rf,ro)+o_)}T=T.join(0===Mw?" Tj\nT* ":" Tj\n"),T+=" Tj\n";var a_="BT\n/";return a_+=Gi+" "+cn+" Tf\n",a_+=Me(cn*Vu)+" TL\n",a_+=Sw+"\n",a_+=Ba,a_+=T,pe(a_+="ET"),M[Gi]=!0,Go};var XU=D.__private__.clip=D.clip=function(T){return pe("evenodd"===T?"W*":"W"),this};D.clipEvenOdd=function(){return XU("evenodd")},D.__private__.discardPath=D.discardPath=function(){return pe("n"),this};var qp=D.__private__.isValidStyle=function(T){var z=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)&&(z=!0),z};D.__private__.setDefaultPathOperation=D.setDefaultPathOperation=function(T){return qp(T)&&(m=T),this};var _O=D.__private__.getStyle=D.getStyle=function(T){var z=m;switch(T){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=T}return z},vO=D.close=function(){return pe("h"),this};D.stroke=function(){return pe("S"),this},D.fill=function(T){return $E("f",T),this},D.fillEvenOdd=function(T){return $E("f*",T),this},D.fillStroke=function(T){return $E("B",T),this},D.fillStrokeEvenOdd=function(T){return $E("B*",T),this};var $E=function(T,z){"object"===(0,Wr.Z)(z)?e8(z,T):pe(T)},rT=function(T){null===T||"advanced"===ne&&void 0===T||(T=_O(T),pe(T))};function JU(T,z,ce,xe,ze){var vt=new AE(z||this.boundingBox,ce||this.xStep,xe||this.yStep,this.gState,ze||this.matrix);vt.stream=this.stream;var qt=T+"$$"+this.cloneIndex+++"$$";return $c(qt,vt),vt}var e8=function(T,z){var ce=xw[T.key],xe=Cr[ce];if(xe instanceof pw)pe("q"),pe(t8(z)),xe.gState&&D.setGState(xe.gState),pe(T.matrix.toString()+" cm"),pe("/"+ce+" sh"),pe("Q");else if(xe instanceof AE){var ze=new ri(1,0,0,-1,0,My());T.matrix&&(ze=ze.multiply(T.matrix||jp),ce=JU.call(xe,T.key,T.boundingBox,T.xStep,T.yStep,ze).id),pe("q"),pe("/Pattern cs"),pe("/"+ce+" scn"),xe.gState&&D.setGState(xe.gState),pe(z),pe("Q")}},t8=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},sT=D.moveTo=function(T,z){return pe(Me(ie(T))+" "+Me(ye(z))+" m"),this},Iw=D.lineTo=function(T,z){return pe(Me(ie(T))+" "+Me(ye(z))+" l"),this},Sy=D.curveTo=function(T,z,ce,xe,ze,vt){return pe([Me(ie(T)),Me(ye(z)),Me(ie(ce)),Me(ye(xe)),Me(ie(ze)),Me(ye(vt)),"c"].join(" ")),this};D.__private__.line=D.line=function(T,z,ce,xe,ze){if(isNaN(T)||isNaN(z)||isNaN(ce)||isNaN(xe)||!qp(ze))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===ne?this.lines([[ce-T,xe-z]],T,z,[1,1],ze||"S"):this.lines([[ce-T,xe-z]],T,z,[1,1]).stroke()},D.__private__.lines=D.lines=function(T,z,ce,xe,ze,vt){var qt,Cn,Wn,Si,Fi,Sl,Ba,Jh;if("number"==typeof T&&(Jh=ce,ce=z,z=T,T=Jh),xe=xe||[1,1],vt=vt||!1,isNaN(z)||isNaN(ce)||!Array.isArray(T)||!Array.isArray(xe)||!qp(ze)||"boolean"!=typeof vt)throw new Error("Invalid arguments passed to jsPDF.lines");for(sT(z,ce),qt=xe[0],Cn=xe[1],Si=T.length,Sl=z,Ba=ce,Wn=0;Wn<Si;Wn++)2===(Fi=T[Wn]).length?Iw(Sl=Fi[0]*qt+Sl,Ba=Fi[1]*Cn+Ba):Sy(Fi[0]*qt+Sl,Fi[1]*Cn+Ba,Fi[2]*qt+Sl,Fi[3]*Cn+Ba,Sl=Fi[4]*qt+Sl,Ba=Fi[5]*Cn+Ba);return vt&&vO(),rT(ze),this},D.path=function(T){for(var z=0;z<T.length;z++){var ce=T[z],xe=ce.c;switch(ce.op){case"m":sT(xe[0],xe[1]);break;case"l":Iw(xe[0],xe[1]);break;case"c":Sy.apply(this,xe);break;case"h":vO()}}return this},D.__private__.rect=D.rect=function(T,z,ce,xe,ze){if(isNaN(T)||isNaN(z)||isNaN(ce)||isNaN(xe)||!qp(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===ne&&(xe=-xe),pe([Me(ie(T)),Me(ye(z)),Me(ie(ce)),Me(ie(xe)),"re"].join(" ")),rT(ze),this},D.__private__.triangle=D.triangle=function(T,z,ce,xe,ze,vt,qt){if(isNaN(T)||isNaN(z)||isNaN(ce)||isNaN(xe)||isNaN(ze)||isNaN(vt)||!qp(qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-T,xe-z],[ze-ce,vt-xe],[T-ze,z-vt]],T,z,[1,1],qt,!0),this},D.__private__.roundedRect=D.roundedRect=function(T,z,ce,xe,ze,vt,qt){if(isNaN(T)||isNaN(z)||isNaN(ce)||isNaN(xe)||isNaN(ze)||isNaN(vt)||!qp(qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Cn=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*ce),vt=Math.min(vt,.5*xe),this.lines([[ce-2*ze,0],[ze*Cn,0,ze,vt-vt*Cn,ze,vt],[0,xe-2*vt],[0,vt*Cn,-ze*Cn,vt,-ze,vt],[2*ze-ce,0],[-ze*Cn,0,-ze,-vt*Cn,-ze,-vt],[0,2*vt-xe],[0,-vt*Cn,ze*Cn,-vt,ze,-vt]],T+ze,z,[1,1],qt,!0),this},D.__private__.ellipse=D.ellipse=function(T,z,ce,xe,ze){if(isNaN(T)||isNaN(z)||isNaN(ce)||isNaN(xe)||!qp(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var vt=4/3*(Math.SQRT2-1)*ce,qt=4/3*(Math.SQRT2-1)*xe;return sT(T+ce,z),Sy(T+ce,z-qt,T+vt,z-xe,T,z-xe),Sy(T-vt,z-xe,T-ce,z-qt,T-ce,z),Sy(T-ce,z+qt,T-vt,z+xe,T,z+xe),Sy(T+vt,z+xe,T+ce,z+qt,T+ce,z),rT(ze),this},D.__private__.circle=D.circle=function(T,z,ce,xe){if(isNaN(T)||isNaN(z)||isNaN(ce)||!qp(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,z,ce,ce,xe)},D.setFont=function(T,z,ce){return ce&&(z=Ye(z,ce)),Gi=pO(T,z,{disableWarning:!1}),this};var n8=D.__private__.getFont=D.getFont=function(){return Zr[pO.apply(D,arguments)]};D.__private__.getFontList=D.getFontList=function(){var T,z,ce={};for(T in Ss)if(Ss.hasOwnProperty(T))for(z in ce[T]=[],Ss[T])Ss[T].hasOwnProperty(z)&&ce[T].push(z);return ce},D.addFont=function(T,z,ce,xe,ze){var vt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==vt.indexOf(arguments[3])?ze=arguments[3]:arguments[3]&&-1==vt.indexOf(arguments[3])&&(ce=Ye(ce,xe)),tT.call(this,T,z,ce,ze=ze||"Identity-H")};var Dw,oT=n.lineWidth||.200025,WE=D.__private__.getLineWidth=D.getLineWidth=function(){return oT},yO=D.__private__.setLineWidth=D.setLineWidth=function(T){return oT=T,pe(Me(ie(T))+" w"),this};D.__private__.setLineDash=ii.API.setLineDash=ii.API.setLineDashPattern=function(T,z){if(T=T||[],z=z||0,isNaN(z)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(ce){return Me(ie(ce))}).join(" "),z=Me(ie(z)),pe("["+T+"] "+z+" d"),this};var bO=D.__private__.getLineHeight=D.getLineHeight=function(){return cn*Dw};D.__private__.getLineHeight=D.getLineHeight=function(){return cn*Dw};var wO=D.__private__.setLineHeightFactor=D.setLineHeightFactor=function(T){return"number"==typeof(T=T||1.15)&&(Dw=T),this},xO=D.__private__.getLineHeightFactor=D.getLineHeightFactor=function(){return Dw};wO(n.lineHeight);var i_=D.__private__.getHorizontalCoordinate=function(T){return ie(T)},Ay=D.__private__.getVerticalCoordinate=function(T){return"advanced"===ne?T:xi[ae].mediaBox.topRightY-xi[ae].mediaBox.bottomLeftY-ie(T)},i8=D.__private__.getHorizontalCoordinateString=D.getHorizontalCoordinateString=function(T){return Me(i_(T))},Ty=D.__private__.getVerticalCoordinateString=D.getVerticalCoordinateString=function(T){return Me(Ay(T))},Xh=n.strokeColor||"0 G";D.__private__.getStrokeColor=D.getDrawColor=function(){return Zh(Xh)},D.__private__.setStrokeColor=D.setDrawColor=function(T,z,ce,xe){return Xh=Kh({ch1:T,ch2:z,ch3:ce,ch4:xe,pdfColorType:"draw",precision:2}),pe(Xh),this};var aT=n.fillColor||"0 g";D.__private__.getFillColor=D.getFillColor=function(){return Zh(aT)},D.__private__.setFillColor=D.setFillColor=function(T,z,ce,xe){return aT=Kh({ch1:T,ch2:z,ch3:ce,ch4:xe,pdfColorType:"fill",precision:2}),pe(aT),this};var Sw=n.textColor||"0 g",r8=D.__private__.getTextColor=D.getTextColor=function(){return Zh(Sw)};D.__private__.setTextColor=D.setTextColor=function(T,z,ce,xe){return Sw=Kh({ch1:T,ch2:z,ch3:ce,ch4:xe,pdfColorType:"text",precision:3}),this};var YE=n.charSpace,s8=D.__private__.getCharSpace=D.getCharSpace=function(){return parseFloat(YE||0)};D.__private__.setCharSpace=D.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return YE=T,this};var lT=0;D.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},D.__private__.setLineCap=D.setLineCap=function(T){var z=D.CapJoinStyles[T];if(void 0===z)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lT=z,pe(z+" J"),this};var cT=0;D.__private__.setLineJoin=D.setLineJoin=function(T){var z=D.CapJoinStyles[T];if(void 0===z)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cT=z,pe(z+" j"),this},D.__private__.setLineMiterLimit=D.__private__.setMiterLimit=D.setLineMiterLimit=D.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(Me(ie(T))+" M"),this},D.GState=RP,D.setGState=function(T){(T="string"==typeof T?no[$h[T]]:CO(null,T)).equals(e_)||(pe("/"+T.id+" gs"),e_=T)};var CO=function(T,z){if(!T||!$h[T]){var ce=!1;for(var xe in no)if(no.hasOwnProperty(xe)&&no[xe].equals(z)){ce=!0;break}if(ce)z=no[xe];else{var ze="GS"+(Object.keys(no).length+1).toString(10);no[ze]=z,z.id=ze}return T&&($h[T]=z.id),Er.publish("addGState",z),z}};D.addGState=function(T,z){return CO(T,z),this},D.saveGraphicsState=function(){return pe("q"),Bp.push({key:Gi,size:cn,color:Sw}),this},D.restoreGraphicsState=function(){pe("Q");var T=Bp.pop();return Gi=T.key,cn=T.size,Sw=T.color,e_=null,this},D.setCurrentTransformationMatrix=function(T){return pe(T.toString()+" cm"),this},D.comment=function(T){return pe("#"+T),this};var ZE=function(T,z){var ce=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(vt){isNaN(vt)||(ce=parseFloat(vt))}});var xe=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(vt){isNaN(vt)||(xe=parseFloat(vt))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(vt){ze=vt.toString()}}),this},uT=function(T,z,ce,xe){ZE.call(this,T,z),this.type="rect";var ze=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(qt){isNaN(qt)||(ze=parseFloat(qt))}});var vt=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return vt},set:function(qt){isNaN(qt)||(vt=parseFloat(qt))}}),this},dT=function(){this.page=io,this.currentPage=ae,this.pages=Wt.slice(0),this.pagesContext=xi.slice(0),this.x=Il,this.y=cr,this.matrix=Gh,this.width=Aw(ae),this.height=My(ae),this.outputDestination=Sn,this.id="",this.objectNumber=-1};dT.prototype.restore=function(){io=this.page,xi=this.pagesContext,Wt=this.pages,Il=this.x,cr=this.y,Gh=this.matrix,hT(ae=this.currentPage,this.width),fT(ae,this.height),Sn=this.outputDestination};var EO=function(T,z,ce,xe,ze){Up.push(new dT),io=ae=0,Wt=[],Il=T,cr=z,Gh=ze,nT([ce,xe])};for(var KE in D.beginFormObject=function(T,z,ce,xe,ze){return EO(T,z,ce,xe,ze),this},D.endFormObject=function(T){return function(T){if(Vp[T])Up.pop().restore();else{var z=new dT,ce="Xo"+(Object.keys(Ja).length+1).toString(10);z.id=ce,Vp[T]=ce,Ja[ce]=z,Er.publish("addFormObject",z),Up.pop().restore()}}(T),this},D.doFormObject=function(T,z){var ce=Ja[Vp[T]];return pe("q"),pe(z.toString()+" cm"),pe("/"+ce.id+" Do"),pe("Q"),this},D.getFormObject=function(T){var z=Ja[Vp[T]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},D.save=function(T,z){return T=T||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,!1===z.returnPromise?(fw(qE(n_()),T),"function"==typeof fw.unload&&ai.setTimeout&&setTimeout(fw.unload,911),this):new Promise(function(ce,xe){try{var ze=fw(qE(n_()),T);"function"==typeof fw.unload&&ai.setTimeout&&setTimeout(fw.unload,911),ce(ze)}catch(vt){xe(vt.message)}})},ii.API)ii.API.hasOwnProperty(KE)&&("events"===KE&&ii.API.events.length?function(T,z){var xe,ze;for(ze=z.length-1;-1!==ze;ze--)T.subscribe.apply(T,[z[ze][0]].concat("function"==typeof(xe=z[ze][1])?[xe]:xe))}(Er,ii.API.events):D[KE]=ii.API[KE]);var Aw=D.getPageWidth=function(T){return(xi[T=T||ae].mediaBox.topRightX-xi[T].mediaBox.bottomLeftX)/yn},hT=D.setPageWidth=function(T,z){xi[T].mediaBox.topRightX=z*yn+xi[T].mediaBox.bottomLeftX},My=D.getPageHeight=function(T){return(xi[T=T||ae].mediaBox.topRightY-xi[T].mediaBox.bottomLeftY)/yn},fT=D.setPageHeight=function(T,z){xi[T].mediaBox.topRightY=z*yn+xi[T].mediaBox.bottomLeftY};return D.internal={pdfEscape:Wc,getStyle:_O,getFont:n8,getFontSize:mn,getCharSpace:s8,getTextColor:r8,getLineHeight:bO,getLineHeightFactor:xO,getLineWidth:WE,write:Di,getHorizontalCoordinate:i_,getVerticalCoordinate:Ay,getCoordinateString:i8,getVerticalCoordinateString:Ty,collections:{},newObject:ha,newAdditionalObject:FE,newObjectDeferred:qo,newObjectDeferredBegin:Bu,getFilters:Hp,putStream:Ld,events:Er,scaleFactor:yn,pageSize:{getWidth:function(){return Aw(ae)},setWidth:function(T){hT(ae,T)},getHeight:function(){return My(ae)},setHeight:function(T){fT(ae,T)}},encryptionOptions:b,encryption:Dl,getEncryptor:function(T){return null!==b?Dl.encryptor(T,0):function(z){return z}},output:GE,getNumberOfPages:GU,pages:Wt,out:pe,f2:gt,f3:re,getPageInfo:gO,getPageInfoByObjId:_i,getCurrentPageInfo:QU,getPDFVersion:F,Point:ZE,Rectangle:uT,Matrix:ri,hasHotfix:mO},Object.defineProperty(D.internal.pageSize,"width",{get:function(){return Aw(ae)},set:function(T){hT(ae,T)},enumerable:!0,configurable:!0}),Object.defineProperty(D.internal.pageSize,"height",{get:function(){return My(ae)},set:function(T){fT(ae,T)},enumerable:!0,configurable:!0}),function(T){for(var z=0,ce=Yt.length;z<ce;z++){var xe=tT.call(this,T[z][0],T[z][1],T[z][2],Yt[z][3],!0);!1===x&&(M[xe]=!0);var ze=T[z][0].split("-");dO({id:xe,fontName:ze[0],fontStyle:ze[1]||""})}Er.publish("addFonts",{fonts:Zr,dictionary:Ss})}.call(D,Yt),Gi="F1",hO(r,e),Er.publish("initialized"),D}DE.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},DE.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},DE.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},DE.prototype.processOwnerPassword=function(n,t){return JV(XV(t).substr(0,5),n)},DE.prototype.encryptor=function(n,t){var e=XV(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return JV(e,i)}},RP.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||(0,Wr.Z)(n)!==(0,Wr.Z)(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return 0===i},ii.API={events:[]},ii.version="2.5.1";var to=ii.API,eU=1,mw=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},TE=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bi=function(n){return n.toFixed(2)},wy=function(n){return n.toFixed(5)};to.__acroform__={};var Gc=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},tW=function(n){return n*eU},Pp=function(n){var t=new iW,e=kn.internal.getHeight(n)||0,i=kn.internal.getWidth(n)||0;return t.BBox=[0,0,Number(bi(i)),Number(bi(e))],t},yce=to.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},bce=to.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},wce=to.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},_o=to.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wce(n,t-1)},vo=to.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yce(n,t-1)},yo=to.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bce(n,t-1)},xce=to.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],s=n[1],a=n[2],d=n[3],h={};return h.lowerLeft_X=e(r)||0,h.lowerLeft_Y=i(s+d)||0,h.upperRight_X=e(r+a)||0,h.upperRight_Y=i(s)||0,[Number(bi(h.lowerLeft_X)),Number(bi(h.lowerLeft_Y)),Number(bi(h.upperRight_X)),Number(bi(h.upperRight_Y))]},Cce=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],i=tU(n,n._V||n.DV),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+bi(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Pp(n);return s.scope=n.scope,s.stream=t.join("\n"),s}},tU=function(n,t){var e=0===n.fontSize?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");r=r.map(n.multiline?function(re){return re.split("\n")}:function(re){return[re]});var s=e,a=kn.internal.getHeight(n)||0;a=a<0?-a:a;var re,d=kn.internal.getWidth(n)||0;d=d<0?-d:d,s++;e:for(;s>0;){t="",s--;var m,b,x=NP("3",n,s).height,M=n.multiline?a-s:(a-x)/2,D=M+=2,P=0,F=0,U=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+NP(t,n,s=12).width+", FieldWidth:"+d+"\n";break}for(var j="",Z=0,ne=0;ne<r.length;ne++)if(r.hasOwnProperty(ne)){var de=!1;if(1!==r[ne].length&&U!==r[ne].length-1){if((x+2)*(Z+2)+2>a)continue e;j+=r[ne][U],de=!0,F=ne,ne--}else{j=" "==(j+=r[ne][U]+" ").substr(j.length-1)?j.substr(0,j.length-1):j;var ke=parseInt(ne),Ye=(re=ke)+1<r.length&&NP(j+" "+r[re+1][0],n,s).width<=d-4,Me=ne>=r.length-1;if(Ye&&!Me){j+=" ",U=0;continue}if(Ye||Me){if(Me)F=ke;else if(n.multiline&&(x+2)*(Z+2)+2>a)continue e}else{if(!n.multiline||(x+2)*(Z+2)+2>a)continue e;F=ke}}for(var he="",dt=P;dt<=F;dt++){var gt=r[dt];if(n.multiline){if(dt===F){he+=gt[U]+" ",U=(U+1)%gt.length;continue}if(dt===P){he+=gt[gt.length-1]+" ";continue}}he+=gt[0]+" "}switch(he=" "==he.substr(he.length-1)?he.substr(0,he.length-1):he,b=NP(he,n,s).width,n.textAlign){case"right":m=d-b-2;break;case"center":m=(d-b)/2;break;default:m=2}t+=bi(m)+" "+bi(D)+" Td\n",t+="("+mw(he)+") Tj\n",t+=-bi(m)+" 0 Td\n",D=-(s+2),b=0,P=de?F:F+1,Z++,j=""}break}return i.text=t,i.fontSize=s,i},NP=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},Ece={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ice=function(n,t){var e={type:"reference",object:n};void 0===t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},nW=to.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(a){return a};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(0!==s&&(r+=" "),(0,Wr.Z)(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==t&&e&&(i=e.internal.getEncryptor(t)),r+="("+mw(i(n[s].toString()))+")"):r+=n[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nU=function(n,t,e){var i=function(r){return r};return void 0!==t&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+mw(i(n))+")"},Op=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Op.prototype.toString=function(){return this.objId+" 0 R"},Op.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Op.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var e in t)if(!1===Object.getOwnPropertyDescriptor(this,t[e]).configurable){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:nW(r,this.objId,this.scope)}):r instanceof Op?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&n.push({key:i,value:r}))}return n};var iW=function(){Op.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Gc(iW,Op);var rW=function(){Op.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+mw(e(n))+")"}},set:function(e){n=e}})};Gc(rW,Op);var jh=function n(){Op.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_o(t,3)},set:function(j){this.F=j?vo(t,3):yo(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');e=j}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(j){i=void 0!==j?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(j){i[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(j){i[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(j){i[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(j){i[3]=j}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof FP)return;s="FieldObject"+n.FieldNum++}var j=function(Z){return Z};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+mw(j(s))+")"},set:function(j){s=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(j){s=j}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(j){a=j}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(j){h=j}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===m?50/eU:m},set:function(j){m=j}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(j){b=j}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof FP||this instanceof gw))return nU(x,this.objId,this.scope)},set:function(j){j=j.toString(),x=j}});var M=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(M)return this instanceof La?M:nU(M,this.objId,this.scope)},set:function(j){j=j.toString(),M=this instanceof La?j:"("===j.substr(0,1)?TE(j.substr(1,j.length-2)):TE(j)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof La?TE(M.substr(1,M.length-1)):M},set:function(j){j=j.toString(),M=this instanceof La?"/"+j:j}});var D=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(D)return D},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(D)return this instanceof La?D:nU(D,this.objId,this.scope)},set:function(j){j=j.toString(),D=this instanceof La?j:"("===j.substr(0,1)?TE(j.substr(1,j.length-2)):TE(j)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof La?TE(D.substr(1,D.length-1)):D},set:function(j){j=j.toString(),D=this instanceof La?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,F=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return F},set:function(j){F=j=!!j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(j){P=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,1)},set:function(j){this.Ff=j?vo(this.Ff,1):yo(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,2)},set:function(j){this.Ff=j?vo(this.Ff,2):yo(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,3)},set:function(j){this.Ff=j?vo(this.Ff,3):yo(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==U)return U},set:function(j){if(-1===[0,1,2].indexOf(j))throw new Error('Invalid value "'+j+'" for attribute Q supplied.');U=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(U){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};Gc(jh,Op);var ME=function(){jh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nW(t,this.objId,this.scope)},set:function(e){var i,r;r=[],"string"==typeof(i=e)&&(r=function(s,a,d){d||(d=1);for(var h,m=[];h=a.exec(s);)m.push(h[d]);return m}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,18)},set:function(e){this.Ff=e?vo(this.Ff,18):yo(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,19)},set:function(e){!0===this.combo&&(this.Ff=e?vo(this.Ff,19):yo(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,20)},set:function(e){e?(this.Ff=vo(this.Ff,20),t.sort()):this.Ff=yo(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,22)},set:function(e){this.Ff=e?vo(this.Ff,22):yo(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,23)},set:function(e){this.Ff=e?vo(this.Ff,23):yo(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,27)},set:function(e){this.Ff=e?vo(this.Ff,27):yo(this.Ff,27)}}),this.hasAppearanceStream=!1};Gc(ME,jh);var kE=function(){ME.call(this),this.fontName="helvetica",this.combo=!1};Gc(kE,ME);var RE=function(){kE.call(this),this.combo=!0};Gc(RE,kE);var PP=function(){RE.call(this),this.edit=!0};Gc(PP,RE);var La=function(){jh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,15)},set:function(e){this.Ff=e?vo(this.Ff,15):yo(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,16)},set:function(e){this.Ff=e?vo(this.Ff,16):yo(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,17)},set:function(e){this.Ff=e?vo(this.Ff,17):yo(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,26)},set:function(e){this.Ff=e?vo(this.Ff,26):yo(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+mw(e(t[i]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,Wr.Z)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Gc(La,jh);var OP=function(){La.call(this),this.pushButton=!0};Gc(OP,La);var NE=function(){La.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=void 0!==t?t:[]}})};Gc(NE,La);var FP=function(){var n,t;jh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(d){return d};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+mw(r(i[s]))+")");return a.push(">>"),a.join("\n")},set:function(r){"object"===(0,Wr.Z)(r)&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){"string"==typeof r&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gc(FP,jh),NE.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},NE.prototype.createOption=function(n){var t=new FP;return t.Parent=this,t.optionName=n,this.Kids.push(t),Ace.call(this.scope,t),t};var LP=function(){La.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kn.CheckBox.createAppearanceStream()};Gc(LP,La);var gw=function(){jh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,13)},set:function(t){this.Ff=t?vo(this.Ff,13):yo(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,21)},set:function(t){this.Ff=t?vo(this.Ff,21):yo(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,23)},set:function(t){this.Ff=t?vo(this.Ff,23):yo(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,24)},set:function(t){this.Ff=t?vo(this.Ff,24):yo(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,25)},set:function(t){this.Ff=t?vo(this.Ff,25):yo(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,26)},set:function(t){this.Ff=t?vo(this.Ff,26):yo(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gc(gw,jh);var BP=function(){gw.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_o(this.Ff,14)},set:function(n){this.Ff=n?vo(this.Ff,14):yo(this.Ff,14)}}),this.password=!0};Gc(BP,gw);var kn={CheckBox:{createAppearanceStream:function(){return{N:{On:kn.CheckBox.YesNormal},D:{On:kn.CheckBox.YesPushDown,Off:kn.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Pp(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=tU(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+bi(kn.internal.getWidth(n))+" "+bi(kn.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+bi(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join("\n"),t},YesNormal:function(n){var t=Pp(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=kn.internal.getHeight(n),a=kn.internal.getWidth(n),d=tU(n,n.caption);return r.push("1 g"),r.push("0 0 "+bi(a)+" "+bi(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+bi(a-1)+" "+bi(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+bi(d.fontSize)+" Tf "+i),r.push(d.text),r.push("ET"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(n){var t=Pp(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+bi(kn.internal.getWidth(n))+" "+bi(kn.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:kn.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=kn.RadioButton.Circle.YesNormal,t.D[n]=kn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Pp(n);t.scope=n.scope;var e=[],i=kn.internal.getWidth(n)<=kn.internal.getHeight(n)?kn.internal.getWidth(n)/4:kn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((i*kn.internal.Bezier_C).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+wy(kn.internal.getWidth(n)/2)+" "+wy(kn.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=Pp(n);t.scope=n.scope;var e=[],i=kn.internal.getWidth(n)<=kn.internal.getHeight(n)?kn.internal.getWidth(n)/4:kn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*kn.internal.Bezier_C).toFixed(5)),a=Number((i*kn.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+wy(kn.internal.getWidth(n)/2)+" "+wy(kn.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+wy(kn.internal.getWidth(n)/2)+" "+wy(kn.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},OffPushDown:function(n){var t=Pp(n);t.scope=n.scope;var e=[],i=kn.internal.getWidth(n)<=kn.internal.getHeight(n)?kn.internal.getWidth(n)/4:kn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*kn.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+wy(kn.internal.getWidth(n)/2)+" "+wy(kn.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:kn.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=kn.RadioButton.Cross.YesNormal,t.D[n]=kn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Pp(n);t.scope=n.scope;var e=[],i=kn.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+bi(kn.internal.getWidth(n)-2)+" "+bi(kn.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(bi(i.x1.x)+" "+bi(i.x1.y)+" m"),e.push(bi(i.x2.x)+" "+bi(i.x2.y)+" l"),e.push(bi(i.x4.x)+" "+bi(i.x4.y)+" m"),e.push(bi(i.x3.x)+" "+bi(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=Pp(n);t.scope=n.scope;var e=kn.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+bi(kn.internal.getWidth(n))+" "+bi(kn.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+bi(kn.internal.getWidth(n)-2)+" "+bi(kn.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(bi(e.x1.x)+" "+bi(e.x1.y)+" m"),i.push(bi(e.x2.x)+" "+bi(e.x2.y)+" l"),i.push(bi(e.x4.x)+" "+bi(e.x4.y)+" m"),i.push(bi(e.x3.x)+" "+bi(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(n){var t=Pp(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+bi(kn.internal.getWidth(n))+" "+bi(kn.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};kn.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=kn.internal.getWidth(n),e=kn.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},kn.internal.getWidth=function(n){var t=0;return"object"===(0,Wr.Z)(n)&&(t=tW(n.Rect[2])),t},kn.internal.getHeight=function(n){var t=0;return"object"===(0,Wr.Z)(n)&&(t=tW(n.Rect[3])),t};var Ace=to.addField=function(n){if(function(n,t){if(t.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(jh.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Ece)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");eU=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new rW,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var e;(e=n).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&Ice(s,e)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(e){!function(i,r){var s=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var d=i[a],h=[],m=d.Rect;if(d.Rect&&(d.Rect=xce(d.Rect,r)),r.internal.newObjectDeferredBegin(d.objId,!0),d.DA=kn.createDefaultAppearanceStream(d),"object"===(0,Wr.Z)(d)&&"function"==typeof d.getKeyValueListForStream&&(h=d.getKeyValueListForStream()),d.Rect=m,d.hasAppearanceStream&&!d.appearanceStreamContent){var b=Cce(d);h.push({key:"AP",value:"<</N "+b+">>"}),r.internal.acroformPlugin.xForms.push(b)}if(d.appearanceStreamContent){var x="";for(var M in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(M)){var D=d.appearanceStreamContent[M];if(x+="/"+M+" ",x+="<<",Object.keys(D).length>=1||Array.isArray(D)){for(var a in D)if(D.hasOwnProperty(a)){var P=D[a];"function"==typeof P&&(P=P.call(r,d)),x+="/"+a+" "+P+" ",r.internal.acroformPlugin.xForms.indexOf(P)>=0||r.internal.acroformPlugin.xForms.push(P)}}else"function"==typeof(P=D)&&(P=P.call(r,d)),x+="/"+a+" "+P,r.internal.acroformPlugin.xForms.indexOf(P)>=0||r.internal.acroformPlugin.xForms.push(P);x+=">>"}h.push({key:"AP",value:"<<\n"+x+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:d.objId}),r.internal.out("endobj")}s&&function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),"object"===(0,Wr.Z)(r)&&"function"==typeof r.putStream&&r.putStream(),delete n[i]}}(r.internal.acroformPlugin.xForms,r)}(e,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof jh))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function sW(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}to.AcroFormChoiceField=ME,to.AcroFormListBox=kE,to.AcroFormComboBox=RE,to.AcroFormEditBox=PP,to.AcroFormButton=La,to.AcroFormPushButton=OP,to.AcroFormRadioButton=NE,to.AcroFormCheckBox=LP,to.AcroFormTextField=gw,to.AcroFormPasswordField=BP,to.AcroFormAppearance=kn,to.AcroForm={ChoiceField:ME,ListBox:kE,ComboBox:RE,EditBox:PP,Button:La,PushButton:OP,RadioButton:NE,CheckBox:LP,TextField:gw,PasswordField:BP,Appearance:kn},ii.AcroForm={ChoiceField:ME,ListBox:kE,ComboBox:RE,EditBox:PP,Button:La,PushButton:OP,RadioButton:NE,CheckBox:LP,TextField:gw,PasswordField:BP,Appearance:kn},function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(re,ie){var we,ye,ht,Ee,Le,De=t;if("RGBA"===(ie=ie||t)||void 0!==re.data&&re.data instanceof Uint8ClampedArray&&"height"in re&&"width"in re)return"RGBA";if(Ye(re))for(Le in e)for(ht=e[Le],we=0;we<ht.length;we+=1){for(Ee=!0,ye=0;ye<ht[we].length;ye+=1)if(void 0!==ht[we][ye]&&ht[we][ye]!==re[ye]){Ee=!1;break}if(!0===Ee){De=Le;break}}else for(Le in e)for(ht=e[Le],we=0;we<ht.length;we+=1){for(Ee=!0,ye=0;ye<ht[we].length;ye+=1)if(void 0!==ht[we][ye]&&ht[we][ye]!==re.charCodeAt(ye)){Ee=!1;break}if(!0===Ee){De=Le;break}}return De===t&&ie!==t&&(De=ie),De},r=function re(ie){for(var we=this.internal.write,ye=this.internal.putStream,ht=(0,this.internal.getFilters)();-1!==ht.indexOf("FlateEncode");)ht.splice(ht.indexOf("FlateEncode"),1);ie.objectId=this.internal.newObject();var Ee=[];if(Ee.push({key:"Type",value:"/XObject"}),Ee.push({key:"Subtype",value:"/Image"}),Ee.push({key:"Width",value:ie.width}),Ee.push({key:"Height",value:ie.height}),ie.colorSpace===U.INDEXED?Ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(ie.palette.length/3-1)+" "+("sMask"in ie&&void 0!==ie.sMask?ie.objectId+2:ie.objectId+1)+" 0 R]"}):(Ee.push({key:"ColorSpace",value:"/"+ie.colorSpace}),ie.colorSpace===U.DEVICE_CMYK&&Ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ee.push({key:"BitsPerComponent",value:ie.bitsPerComponent}),"decodeParameters"in ie&&void 0!==ie.decodeParameters&&Ee.push({key:"DecodeParms",value:"<<"+ie.decodeParameters+">>"}),"transparency"in ie&&Array.isArray(ie.transparency)){for(var Le="",De=0,Je=ie.transparency.length;De<Je;De++)Le+=ie.transparency[De]+" "+ie.transparency[De]+" ";Ee.push({key:"Mask",value:"["+Le+"]"})}if(void 0!==ie.sMask&&Ee.push({key:"SMask",value:ie.objectId+1+" 0 R"}),ye({data:ie.data,additionalKeyValues:Ee,alreadyAppliedFilters:void 0!==ie.filter?["/"+ie.filter]:void 0,objectId:ie.objectId}),we("endobj"),"sMask"in ie&&void 0!==ie.sMask){var $={width:ie.width,height:ie.height,colorSpace:"DeviceGray",bitsPerComponent:ie.bitsPerComponent,decodeParameters:"/Predictor "+ie.predictor+" /Colors 1 /BitsPerComponent "+ie.bitsPerComponent+" /Columns "+ie.width,data:ie.sMask};"filter"in ie&&($.filter=ie.filter),re.call(this,$)}if(ie.colorSpace===U.INDEXED){var ae=this.internal.newObject();ye({data:he(new Uint8Array(ie.palette)),objectId:ae}),we("endobj")}},s=function(){var re=this.internal.collections.addImage_images;for(var ie in re)r.call(this,re[ie])},a=function(){var re,ie=this.internal.collections.addImage_images,we=this.internal.write;for(var ye in ie)we("/I"+(re=ie[ye]).index,re.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},h=function(){var re=this.internal.collections.addImage_images;return d.call(this),re},m=function(){return Object.keys(this.internal.collections.addImage_images).length},b=function(re){return"function"==typeof n["process"+re.toUpperCase()]},x=function(re){return"object"===(0,Wr.Z)(re)&&1===re.nodeType},M=function(re,ie){if("IMG"===re.nodeName&&re.hasAttribute("src")){var we=""+re.getAttribute("src");if(0===we.indexOf("data:image/"))return $2(unescape(we).split("base64,").pop());var ye=n.loadFile(we,!0);if(void 0!==ye)return ye}if("CANVAS"===re.nodeName){if(0===re.width||0===re.height)throw new Error("Given canvas must have data. Canvas width: "+re.width+", height: "+re.height);var ht;switch(ie){case"PNG":ht="image/png";break;case"WEBP":ht="image/webp";break;default:ht="image/jpeg"}return $2(re.toDataURL(ht,1).split("base64,").pop())}},D=function(re){var ie=this.internal.collections.addImage_images;if(ie)for(var we in ie)if(re===ie[we].alias)return ie[we]},P=function(re,ie,we){return re||ie||(re=-96,ie=-96),re<0&&(re=-1*we.width*72/re/this.internal.scaleFactor),ie<0&&(ie=-1*we.height*72/ie/this.internal.scaleFactor),0===re&&(re=ie*we.width/we.height),0===ie&&(ie=re*we.height/we.width),[re,ie]},F=function(re,ie,we,ye,ht,Ee){var Le=P.call(this,we,ye,ht),De=this.internal.getCoordinateString,Je=this.internal.getVerticalCoordinateString,ct=h.call(this);if(we=Le[0],ye=Le[1],ct[ht.index]=ht,Ee){Ee*=Math.PI/180;var sn=Math.cos(Ee),$=Math.sin(Ee),ae=function(Se){return Se.toFixed(4)},le=[ae(sn),ae($),ae(-1*$),ae(sn),0,0,"cm"]}this.internal.write("q"),Ee?(this.internal.write([1,"0","0",1,De(re),Je(ie+ye),"cm"].join(" ")),this.internal.write(le.join(" ")),this.internal.write([De(we),"0","0",De(ye),"0","0","cm"].join(" "))):this.internal.write([De(we),"0","0",De(ye),De(re),Je(ie+ye),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ht.index+" Do"),this.internal.write("Q")},U=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Z=n.__addimage__.sHashCode=function(re){var ie,we,ye=0;if("string"==typeof re)for(we=re.length,ie=0;ie<we;ie++)ye=(ye<<5)-ye+re.charCodeAt(ie),ye|=0;else if(Ye(re))for(we=re.byteLength/2,ie=0;ie<we;ie++)ye=(ye<<5)-ye+re[ie],ye|=0;return ye},ne=n.__addimage__.validateStringAsBase64=function(re){(re=re||"").toString().trim();var ie=!0;return 0===re.length&&(ie=!1),re.length%4!=0&&(ie=!1),!1===/^[A-Za-z0-9+/]+$/.test(re.substr(0,re.length-2))&&(ie=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(re.substr(-2))&&(ie=!1),ie},de=n.__addimage__.extractImageFromDataUrl=function(re){var ie=(re=re||"").split("base64,"),we=null;if(2===ie.length){var ye=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(ie[0]);Array.isArray(ye)&&(we={mimeType:ye[1],charset:ye[2],data:ie[1]})}return we},ke=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(re){return ke()&&re instanceof ArrayBuffer};var Ye=n.__addimage__.isArrayBufferView=function(re){return ke()&&typeof Uint32Array<"u"&&(re instanceof Int8Array||re instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&re instanceof Uint8ClampedArray||re instanceof Int16Array||re instanceof Uint16Array||re instanceof Int32Array||re instanceof Uint32Array||re instanceof Float32Array||re instanceof Float64Array)},Me=n.__addimage__.binaryStringToUint8Array=function(re){for(var ie=re.length,we=new Uint8Array(ie),ye=0;ye<ie;ye++)we[ye]=re.charCodeAt(ye);return we},he=n.__addimage__.arrayBufferToBinaryString=function(re){for(var ie="",we=Ye(re)?re:new Uint8Array(re),ye=0;ye<we.length;ye+=8192)ie+=String.fromCharCode.apply(null,we.subarray(ye,ye+8192));return ie};n.addImage=function(){var re,ie,we,ye,ht,Ee,Le,De,Je;if("number"==typeof arguments[1]?(ie=t,we=arguments[1],ye=arguments[2],ht=arguments[3],Ee=arguments[4],Le=arguments[5],De=arguments[6],Je=arguments[7]):(ie=arguments[1],we=arguments[2],ye=arguments[3],ht=arguments[4],Ee=arguments[5],Le=arguments[6],De=arguments[7],Je=arguments[8]),"object"===(0,Wr.Z)(re=arguments[0])&&!x(re)&&"imageData"in re){var ct=re;re=ct.imageData,ie=ct.format||ie||t,we=ct.x||we||0,ye=ct.y||ye||0,ht=ct.w||ct.width||ht,Ee=ct.h||ct.height||Ee,Le=ct.alias||Le,De=ct.compression||De,Je=ct.rotation||ct.angle||Je}var sn=this.internal.getFilters();if(void 0===De&&-1!==sn.indexOf("FlateEncode")&&(De="SLOW"),isNaN(we)||isNaN(ye))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var $=dt.call(this,re,ie,Le,De);return F.call(this,we,ye,ht,Ee,$,Je),this};var dt=function(re,ie,we,ye){var ht,Ee,Le,Je;if("string"==typeof re&&i(re)===t){re=unescape(re);var De=gt(re,!1);(""!==De||void 0!==(De=n.loadFile(re,!0)))&&(re=De)}if(x(re)&&(re=M(re,ie)),ie=i(re,ie),!b(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if((null==(Le=we)||0===Le.length)&&(we="string"==typeof(Je=re)||Ye(Je)?Z(Je):Ye(Je.data)?Z(Je.data):null),(ht=D.call(this,we))||(ke()&&(re instanceof Uint8Array||"RGBA"===ie||(Ee=re,re=Me(re))),ht=this["process"+ie.toUpperCase()](re,m.call(this),we,function(Je){return Je&&"string"==typeof Je&&(Je=Je.toUpperCase()),Je in n.image_compression?Je:j.NONE}(ye),Ee)),!ht)throw new Error("An unknown error occurred whilst processing the image.");return ht},gt=n.__addimage__.convertBase64ToBinaryString=function(re,ie){var we;ie="boolean"!=typeof ie||ie;var ye,ht="";if("string"==typeof re){ye=null!==(we=de(re))?we.data:re;try{ht=$2(ye)}catch(Ee){if(ie)throw ne(ye)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ht};n.getImageProperties=function(re){var ie,we,ye="";if(x(re)&&(re=M(re)),"string"==typeof re&&i(re)===t&&(""===(ye=gt(re,!1))&&(ye=n.loadFile(re)||""),re=ye),we=i(re),!b(we))throw new Error("addImage does not support files of type '"+we+"', please ensure that a plugin for '"+we+"' support is added.");if(!ke()||re instanceof Uint8Array||(re=Me(re)),!(ie=this["process"+we.toUpperCase()](re)))throw new Error("An unknown error occurred whilst processing the image");return ie.fileType=we,ie}}(ii.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=function(e){if(void 0!==e&&""!=e)return!0};ii.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,s,a=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),m=e.pageContext.annotations,b=!1,x=0;x<m.length&&!b;x++)switch((i=m[x]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(0!=b){this.internal.write("/Annots [");for(var M=0;M<m.length;M++){i=m[M];var D=this.internal.pdfEscape,P=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var F=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(F.objId),Z=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+d(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y)+"] ")+"/Contents ("+D(j(i.contents))+")",s+=" /Popup "+U.objId+" 0 R",s+=" /P "+h.objId+" 0 R",s+=" /T ("+D(j(Z))+") >>",F.content=s;var ne=F.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+d(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+d(i.bounds.y)+"] ")+" /Parent "+ne,i.open&&(s+=" /Open true"),U.content=s+=" >>",this.internal.write(F.objId,"0 R",U.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+d(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y+i.bounds.h)+"] ";var de=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+D(P(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+de+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(i.options.name){var ke=this.annotations._nameMap[i.options.name];i.options.pageNumber=ke.page,i.options.top=ke.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+D(P(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var Ye=d(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+Ye+" "+i.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,s,a){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(e),y:m(i),w:h(e+r),h:m(i+s)},options:a,type:"link"})},n.textWithLink=function(e,i,r,s){var a,d,h=this.getTextWidth(e),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var b=this.splitTextToSize(e,d=s.maxWidth).length;a=Math.ceil(m*b)}else d=h,a=m;return this.text(e,i,r,s),"center"===s.align&&(i-=h/2),"right"===s.align&&(i-=h),this.link(i,(r+=.2*m)-m,d,a,s),h},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(ii.API),
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(F){return void 0!==t[F.charCodeAt(0)]},a=n.__arabicParser__.isArabicLetter=function(F){return"string"==typeof F&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(F)},d=n.__arabicParser__.isArabicEndLetter=function(F){return a(F)&&s(F)&&t[F.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(F){return a(F)&&r.indexOf(F.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(F){return a(F)&&s(F)&&t[F.charCodeAt(0)].length>=1};var m=n.__arabicParser__.arabicLetterHasFinalForm=function(F){return a(F)&&s(F)&&t[F.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(F){return a(F)&&s(F)&&t[F.charCodeAt(0)].length>=3};var b=n.__arabicParser__.arabicLetterHasMedialForm=function(F){return a(F)&&s(F)&&4==t[F.charCodeAt(0)].length},x=n.__arabicParser__.resolveLigatures=function(F){var U=0,j=e,Z="",ne=0;for(U=0;U<F.length;U+=1)void 0!==j[F.charCodeAt(U)]?(ne++,"number"==typeof(j=j[F.charCodeAt(U)])&&(Z+=String.fromCharCode(j),j=e,ne=0),U===F.length-1&&(j=e,Z+=F.charAt(U-(ne-1)),U-=ne-1,ne=0)):(j=e,Z+=F.charAt(U-ne),U-=ne,ne=0);return Z};n.__arabicParser__.isArabicDiacritic=function(F){return void 0!==F&&void 0!==i[F.charCodeAt(0)]};var M=n.__arabicParser__.getCorrectForm=function(F,U,j){return a(F)?!1===s(F)?-1:!m(F)||!a(U)&&!a(j)||!a(j)&&d(U)||d(F)&&!a(U)||d(F)&&h(U)||d(F)&&d(U)?0:b(F)&&a(U)&&!d(U)&&a(j)&&m(j)?3:d(F)||!a(j)?1:2:-1},D=function(F){var U=0,j=0,Z=0,ne="",de="",ke="",Ye=(F=F||"").split("\\s+"),Me=[];for(U=0;U<Ye.length;U+=1){for(Me.push(""),j=0;j<Ye[U].length;j+=1)de=Ye[U][j-1],ke=Ye[U][j+1],a(ne=Ye[U][j])?(Z=M(ne,de,ke),Me[U]+=-1!==Z?String.fromCharCode(t[ne.charCodeAt(0)][Z]):ne):Me[U]+=ne;Me[U]=x(Me[U])}return Me.join(" ")},P=n.__arabicParser__.processArabic=n.processArabic=function(){var F,U="string"==typeof arguments[0]?arguments[0]:arguments[0].text,j=[];if(Array.isArray(U)){var Z=0;for(j=[],Z=0;Z<U.length;Z+=1)Array.isArray(U[Z])?j.push([D(U[Z][0]),U[Z][1],U[Z][2]]):j.push([D(U[Z])]);F=j}else F=D(U);return"string"==typeof arguments[0]?F:(arguments[0].text=F,arguments[0])};n.events.push(["preProcessText",P])}(ii.API),ii.API.autoPrint=function(n){var t;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(d){e=d}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(d){i=isNaN(d)||!1===Number.isInteger(d)||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(d){r=isNaN(d)||!1===Number.isInteger(d)||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(d){s=d}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(d){a=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if("2d"!==(e=e||"2d"))return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ii.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(F){h=F}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(F){m=F}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(F){b=F}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(F){x=F}});var M=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return M},set:function(F){M=F}});var D=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return D},set:function(F){D=F}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(F){P=F}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof h?h:void 0,this},n.getTextDimensions=function(h,m){i.call(this);var b=(m=m||{}).fontSize||this.getFontSize(),x=m.font||this.getFont(),M=m.scaleFactor||this.internal.scaleFactor,D=0,P=0,F=0,U=this;if(!Array.isArray(h)&&"string"!=typeof h){if("number"!=typeof h)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var j=m.maxWidth;j>0?"string"==typeof h?h=this.splitTextToSize(h,j):"[object Array]"===Object.prototype.toString.call(h)&&(h=h.reduce(function(ne,de){return ne.concat(U.splitTextToSize(de,j))},[])):h=Array.isArray(h)?h:[h];for(var Z=0;Z<h.length;Z++)D<(F=this.getStringUnitWidth(h[Z],{font:x})*b)&&(D=F);return 0!==D&&(P=h.length),{w:D/=M,h:Math.max((P*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/M,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var h;h=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var m=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,x=this.internal.__cell__.margins||t,M=this.internal.__cell__.tableHeaderRow,D=this.internal.__cell__.printHeaders;return void 0!==m.lineNumber&&(m.lineNumber===h.lineNumber?(h.x=(m.x||0)+(m.width||0),h.y=m.y||0):m.y+m.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,D&&M&&(this.printHeaderRow(h.lineNumber,!0),h.y+=M[0].height)):h.y=m.y+m.height||h.y),void 0!==h.text[0]&&(this.rect(h.x,h.y,h.width,h.height,!0===e?"FD":void 0),"right"===h.align?this.text(h.text,h.x+h.width-b,h.y+b,{align:"right",baseline:"top"}):"center"===h.align?this.text(h.text,h.x+h.width/2,h.y+b,{align:"center",baseline:"top",maxWidth:h.width-b-b}):this.text(h.text,h.x+b,h.y+b,{align:"left",baseline:"top",maxWidth:h.width-b-b})),this.internal.__cell__.lastCell=h,this};n.table=function(h,m,b,x,M){if(i.call(this),!b)throw new Error("No data for PDF table.");var D,P,F,U,j=[],Z=[],ne=[],de={},ke={},Ye=[],Me=[],he=(M=M||{}).autoSize||!1,dt=!1!==M.printHeaders,gt=M.css&&void 0!==M.css["font-size"]?16*M.css["font-size"]:M.fontSize||12,re=M.margins||Object.assign({width:this.getPageWidth()},t),ie="number"==typeof M.padding?M.padding:3,we=M.headerBackgroundColor||"#c8c8c8",ye=M.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=dt,this.internal.__cell__.margins=re,this.internal.__cell__.table_font_size=gt,this.internal.__cell__.padding=ie,this.internal.__cell__.headerBackgroundColor=we,this.internal.__cell__.headerTextColor=ye,this.setFontSize(gt),null==x)Z=j=Object.keys(b[0]),ne=j.map(function(){return"left"});else if(Array.isArray(x)&&"object"===(0,Wr.Z)(x[0]))for(j=x.map(function(ct){return ct.name}),Z=x.map(function(ct){return ct.prompt||ct.name||""}),ne=x.map(function(ct){return ct.align||"left"}),D=0;D<x.length;D+=1)ke[x[D].name]=x[D].width*(19.049976/25.4);else Array.isArray(x)&&"string"==typeof x[0]&&(Z=j=x,ne=j.map(function(){return"left"}));if(he||Array.isArray(x)&&"string"==typeof x[0])for(D=0;D<j.length;D+=1){for(de[U=j[D]]=b.map(function(ct){return ct[U]}),this.setFont(void 0,"bold"),Ye.push(this.getTextDimensions(Z[D],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=de[U],this.setFont(void 0,"normal"),F=0;F<P.length;F+=1)Ye.push(this.getTextDimensions(P[F],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ke[U]=Math.max.apply(null,Ye)+ie+ie,Ye=[]}if(dt){var ht={};for(D=0;D<j.length;D+=1)ht[j[D]]={},ht[j[D]].text=Z[D],ht[j[D]].align=ne[D];var Ee=d.call(this,ht,ke);Me=j.map(function(ct){return new s(h,m,ke[ct],Ee,ht[ct].text,void 0,ht[ct].align)}),this.setTableHeaderRow(Me),this.printHeaderRow(1,!1)}var Le=x.reduce(function(ct,sn){return ct[sn.name]=sn.align,ct},{});for(D=0;D<b.length;D+=1){"rowStart"in M&&M.rowStart instanceof Function&&M.rowStart({row:D,data:b[D]},this);var De=d.call(this,b[D],ke);for(F=0;F<j.length;F+=1){var Je=b[D][j[F]];"cellStart"in M&&M.cellStart instanceof Function&&M.cellStart({row:D,col:F,data:Je},this),a.call(this,new s(h,m,ke[j[F]],De,Je,D+2,Le[j[F]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=m,this};var d=function(h,m){var b=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,M=this.internal.scaleFactor;return Object.keys(h).map(function(D){var P=h[D];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,m[D]-b-b)},this).map(function(D){return this.getLineHeightFactor()*D.length*x/M+b+b},this).reduce(function(D,P){return Math.max(D,P)},0)};n.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,m){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(e=!0,"function"==typeof this.internal.__cell__.headerFunction){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var M=[],D=0;D<this.internal.__cell__.tableHeaderRow.length;D+=1){b=this.internal.__cell__.tableHeaderRow[D].clone(),m&&(b.y=this.internal.__cell__.margins.top||0,M.push(b)),b.lineNumber=h;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,b),this.setTextColor(P)}M.length>0&&this.setTableHeaderRow(M),this.setFont(void 0,"normal"),e=!1}}(ii.API);var oW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},aW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],iU=sW(aW),lW=[100,200,300,400,500,600,700,800,900],Tce=sW(lW);function rU(n){var s,t=n.family.replace(/"|'/g,"").toLowerCase(),e=oW[s=(s=n.style)||"normal"]?s:"normal",i=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),r=function(s){return"number"==typeof iU[s=s||"normal"]?s:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function cW(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var Mce={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},uW={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dW(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function hW(n){return n.trimLeft()}function Rce(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function Nce(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],n.substring(t[0].length)]}var VP,fW,pW,sU=["times"];(function(n){var t,e,i,r,s,a,d,h,m,b=function($){return this.isStrokeTransparent=($=$||{}).isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=void 0!==$.transform?$.transform.clone():new h,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new a,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new a,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof $.ignoreClearRect||$.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new x(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,m=new b}]);var x=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ae=$;Object.defineProperty(this,"pdf",{get:function(){return ae}});var le=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return le},set:function(wt){le=!!wt}});var Se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Se},set:function(wt){Se=!!wt}});var Ve=0;Object.defineProperty(this,"posX",{get:function(){return Ve},set:function(wt){isNaN(wt)||(Ve=wt)}});var Ge=0;Object.defineProperty(this,"posY",{get:function(){return Ge},set:function(wt){isNaN(wt)||(Ge=wt)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(wt){var pe;"number"==typeof wt?pe=[wt,wt,wt,wt]:((pe=new Array(4))[0]=wt[0],pe[1]=wt.length>=2?wt[1]:pe[0],pe[2]=wt.length>=3?wt[2]:pe[0],pe[3]=wt.length>=4?wt[3]:pe[1]),m.margin=pe}});var tt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return tt},set:function(wt){tt=wt}});var et=0;Object.defineProperty(this,"lastBreak",{get:function(){return et},set:function(wt){et=wt}});var Kt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Kt},set:function(wt){Kt=wt}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(wt){wt instanceof b&&(m=wt)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(wt){m.path=wt}});var Wt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Wt},set:function(wt){Wt=wt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(wt){var pe;pe=M(wt),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=0===pe.a,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(wt){var pe=M(wt);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=0===pe.a,this.ctx.strokeOpacity=pe.a,0===pe.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(pe.r,pe.g,pe.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(wt){-1!==["butt","round","square"].indexOf(wt)&&(this.ctx.lineCap=wt,this.pdf.setLineCap(wt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(wt){isNaN(wt)||(this.ctx.lineWidth=wt,this.pdf.setLineWidth(wt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(wt){-1!==["bevel","round","miter"].indexOf(wt)&&(this.ctx.lineJoin=wt,this.pdf.setLineJoin(wt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(wt){isNaN(wt)||(this.ctx.miterLimit=wt,this.pdf.setMiterLimit(wt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(wt){this.ctx.textBaseline=wt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(wt){-1!==["right","end","center","left","start"].indexOf(wt)&&(this.ctx.textAlign=wt)}});var xn=null,li=null;Object.defineProperty(this,"fontFaces",{get:function(){return li},set:function(wt){xn=null,li=wt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(wt){var pe;if(this.ctx.font=wt,null!==(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(wt))){var Di=pe[1],jn=pe[3],Yt=pe[4],cn=pe[6],vn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Yt)[2];Yt=Math.floor("px"===vn?parseFloat(Yt)*this.pdf.internal.scaleFactor:"em"===vn?parseFloat(Yt)*this.pdf.getFontSize():parseFloat(Yt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Yt);var mn=function(di){var Gi,yn,Il=[],cr=di.trim();if(""===cr)return sU;if(cr in uW)return[uW[cr]];for(;""!==cr;){switch(yn=null,Gi=(cr=hW(cr)).charAt(0)){case'"':case"'":yn=Rce(cr.substring(1),Gi);break;default:yn=Nce(cr)}if(null===yn||(Il.push(yn[0]),""!==(cr=hW(yn[1]))&&","!==cr.charAt(0)))return sU;cr=cr.replace(/^,/,"")}return Il}(cn);if(this.fontFaces){var Gn=function kce(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},Mce,e.genericFontFamilies||{}),s=null,a=null,d=0;d<t.length;++d)if(r[(s=rU(t[d])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){a=n[s.family];break}if(!(a=a||n[i]))throw new Error("Could not find a font-family for the rule '"+dW(s)+"' and default family '"+i+"'.");if(a=function(h,m){if(m[h])return m[h];var b=iU[h],M=cW(m,aW,b,b<=iU.normal?-1:1);if(!M)throw new Error("Could not find a matching font-stretch value for "+h);return M}(s.stretch,a),a=function(h,m){if(m[h])return m[h];for(var b=oW[h],x=0;x<b.length;++x)if(m[b[x]])return m[b[x]];throw new Error("Could not find a matching font-style for "+h)}(s.style,a),!(a=function(h,m){if(m[h])return m[h];if(400===h&&m[500])return m[500];if(500===h&&m[400])return m[400];var x=cW(m,lW,Tce[h],h<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+h);return x}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+dW(s)+"'.");return a}(function Sn(wt,pe){if(null===xn){var Di=(jn=wt.getFontList(),Yt=[],Object.keys(jn).forEach(function(cn){jn[cn].forEach(function(vn){var mn=null;switch(vn){case"bold":mn={family:cn,weight:"bold"};break;case"italic":mn={family:cn,style:"italic"};break;case"bolditalic":mn={family:cn,weight:"bold",style:"italic"};break;case"":case"normal":mn={family:cn}}null!==mn&&(mn.ref={name:cn,style:vn},Yt.push(mn))})}),Yt);xn=function(jn){for(var Yt={},cn=0;cn<jn.length;++cn){var vn=rU(jn[cn]),mn=vn.family,Gn=vn.stretch,wi=vn.style,Ri=vn.weight;Yt[mn]=Yt[mn]||{},Yt[mn][Gn]=Yt[mn][Gn]||{},Yt[mn][Gn][wi]=Yt[mn][Gn][wi]||{},Yt[mn][Gn][wi][Ri]=vn}return Yt}(Di.concat(pe))}var jn,Yt;return xn}(this.pdf,this.fontFaces),mn.map(function(di){return{family:di,stretch:"normal",weight:jn,style:Di}}));this.pdf.setFont(Gn.ref.name,Gn.ref.style)}else{var wi="";("bold"===jn||parseInt(jn,10)>=700||"bold"===Di)&&(wi="bold"),"italic"===Di&&(wi+="italic"),0===wi.length&&(wi="normal");for(var Ri="",Ui={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tr=0;tr<mn.length;tr++){if(void 0!==this.pdf.internal.getFont(mn[tr],wi,{noFallback:!0,disableWarning:!0})){Ri=mn[tr];break}if("bolditalic"===wi&&void 0!==this.pdf.internal.getFont(mn[tr],"bold",{noFallback:!0,disableWarning:!0}))Ri=mn[tr],wi="bold";else if(void 0!==this.pdf.internal.getFont(mn[tr],"normal",{noFallback:!0,disableWarning:!0})){Ri=mn[tr],wi="normal";break}}if(""===Ri)for(var Ur=0;Ur<mn.length;Ur++)if(Ui[mn[Ur]]){Ri=Ui[mn[Ur]];break}this.pdf.setFont(Ri=""===Ri?"Times":Ri,wi)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(wt){this.ctx.globalCompositeOperation=wt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(wt){this.ctx.globalAlpha=wt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(wt){this.ctx.lineDashOffset=wt,sn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(wt){this.ctx.lineDash=wt,sn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(wt){this.ctx.ignoreClearRect=!!wt}})};x.prototype.setLineDash=function($){this.lineDash=$},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){de.call(this,"fill",!1)},x.prototype.stroke=function(){de.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function($,ae){if(isNaN($)||isNaN(ae))throw Yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var le=this.ctx.transform.applyToPoint(new a($,ae));this.path.push({type:"mt",x:le.x,y:le.y}),this.ctx.lastPoint=new a($,ae)},x.prototype.closePath=function(){var $=new a(0,0),ae=0;for(ae=this.path.length-1;-1!==ae;ae--)if("begin"===this.path[ae].type&&"object"===(0,Wr.Z)(this.path[ae+1])&&"number"==typeof this.path[ae+1].x){$=new a(this.path[ae+1].x,this.path[ae+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a($.x,$.y)},x.prototype.lineTo=function($,ae){if(isNaN($)||isNaN(ae))throw Yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var le=this.ctx.transform.applyToPoint(new a($,ae));this.path.push({type:"lt",x:le.x,y:le.y}),this.ctx.lastPoint=new a(le.x,le.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),de.call(this,null,!0)},x.prototype.quadraticCurveTo=function($,ae,le,Se){if(isNaN(le)||isNaN(Se)||isNaN($)||isNaN(ae))throw Yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ve=this.ctx.transform.applyToPoint(new a(le,Se)),Ge=this.ctx.transform.applyToPoint(new a($,ae));this.path.push({type:"qct",x1:Ge.x,y1:Ge.y,x:Ve.x,y:Ve.y}),this.ctx.lastPoint=new a(Ve.x,Ve.y)},x.prototype.bezierCurveTo=function($,ae,le,Se,Ve,Ge){if(isNaN(Ve)||isNaN(Ge)||isNaN($)||isNaN(ae)||isNaN(le)||isNaN(Se))throw Yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var tt=this.ctx.transform.applyToPoint(new a(Ve,Ge)),et=this.ctx.transform.applyToPoint(new a($,ae)),Kt=this.ctx.transform.applyToPoint(new a(le,Se));this.path.push({type:"bct",x1:et.x,y1:et.y,x2:Kt.x,y2:Kt.y,x:tt.x,y:tt.y}),this.ctx.lastPoint=new a(tt.x,tt.y)},x.prototype.arc=function($,ae,le,Se,Ve,Ge){if(isNaN($)||isNaN(ae)||isNaN(le)||isNaN(Se)||isNaN(Ve))throw Yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ge=!!Ge,!this.ctx.transform.isIdentity){var tt=this.ctx.transform.applyToPoint(new a($,ae));$=tt.x,ae=tt.y;var et=this.ctx.transform.applyToPoint(new a(0,le)),Kt=this.ctx.transform.applyToPoint(new a(0,0));le=Math.sqrt(Math.pow(et.x-Kt.x,2)+Math.pow(et.y-Kt.y,2))}Math.abs(Ve-Se)>=2*Math.PI&&(Se=0,Ve=2*Math.PI),this.path.push({type:"arc",x:$,y:ae,radius:le,startAngle:Se,endAngle:Ve,counterclockwise:Ge})},x.prototype.arcTo=function($,ae,le,Se,Ve){throw new Error("arcTo not implemented.")},x.prototype.rect=function($,ae,le,Se){if(isNaN($)||isNaN(ae)||isNaN(le)||isNaN(Se))throw Yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,ae),this.lineTo($+le,ae),this.lineTo($+le,ae+Se),this.lineTo($,ae+Se),this.lineTo($,ae),this.lineTo($+le,ae),this.lineTo($,ae)},x.prototype.fillRect=function($,ae,le,Se){if(isNaN($)||isNaN(ae)||isNaN(le)||isNaN(Se))throw Yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!D.call(this)){var Ve={};"butt"!==this.lineCap&&(Ve.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(Ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,ae,le,Se),this.fill(),Ve.hasOwnProperty("lineCap")&&(this.lineCap=Ve.lineCap),Ve.hasOwnProperty("lineJoin")&&(this.lineJoin=Ve.lineJoin)}},x.prototype.strokeRect=function($,ae,le,Se){if(isNaN($)||isNaN(ae)||isNaN(le)||isNaN(Se))throw Yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect($,ae,le,Se),this.stroke())},x.prototype.clearRect=function($,ae,le,Se){if(isNaN($)||isNaN(ae)||isNaN(le)||isNaN(Se))throw Yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,ae,le,Se))},x.prototype.save=function($){$="boolean"!=typeof $||$;for(var ae=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("q");if(this.pdf.setPage(ae),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var Se=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Se}},x.prototype.restore=function($){$="boolean"!=typeof $||$;for(var ae=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("Q");this.pdf.setPage(ae),$&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var M=function($){var ae,le,Se,Ve;if(!0===$.isCanvasGradient&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))ae=0,le=0,Se=0,Ve=0;else{var Ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(null!==Ge)ae=parseInt(Ge[1]),le=parseInt(Ge[2]),Se=parseInt(Ge[3]),Ve=1;else if(null!==(Ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($)))ae=parseInt(Ge[1]),le=parseInt(Ge[2]),Se=parseInt(Ge[3]),Ve=parseFloat(Ge[4]);else{if(Ve=1,"string"==typeof $&&"#"!==$.charAt(0)){var tt=new Z$($);$=tt.ok?tt.toHex():"#000000"}4===$.length?(ae=$.substring(1,2),ae+=ae,le=$.substring(2,3),le+=le,Se=$.substring(3,4),Se+=Se):(ae=$.substring(1,3),le=$.substring(3,5),Se=$.substring(5,7)),ae=parseInt(ae,16),le=parseInt(le,16),Se=parseInt(Se,16)}}return{r:ae,g:le,b:Se,a:Ve,style:$}},D=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},P=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};x.prototype.fillText=function($,ae,le,Se){if(isNaN(ae)||isNaN(le)||"string"!=typeof $)throw Yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Se=isNaN(Se)?void 0:Se,!D.call(this)){var Ve=De(this.ctx.transform.rotation);ie.call(this,{text:$,x:ae,y:le,scale:this.ctx.transform.scaleX,angle:Ve,align:this.textAlign,maxWidth:Se})}},x.prototype.strokeText=function($,ae,le,Se){if(isNaN(ae)||isNaN(le)||"string"!=typeof $)throw Yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){Se=isNaN(Se)?void 0:Se;var Ve=De(this.ctx.transform.rotation);ie.call(this,{text:$,x:ae,y:le,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:Ve,align:this.textAlign,maxWidth:Se})}},x.prototype.measureText=function($){if("string"!=typeof $)throw Yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ae=this.pdf,le=this.pdf.internal.scaleFactor,Se=ae.internal.getFontSize(),Ve=ae.getStringUnitWidth($)*Se/ae.internal.scaleFactor;return new function(tt){var et=(tt=tt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return et}}),this}({width:Ve*=Math.round(96*le/72*1e4)/1e4})},x.prototype.scale=function($,ae){if(isNaN($)||isNaN(ae))throw Yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var le=new h($,0,0,ae,0,0);this.ctx.transform=this.ctx.transform.multiply(le)},x.prototype.rotate=function($){if(isNaN($))throw Yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ae=new h(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},x.prototype.translate=function($,ae){if(isNaN($)||isNaN(ae))throw Yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var le=new h(1,0,0,1,$,ae);this.ctx.transform=this.ctx.transform.multiply(le)},x.prototype.transform=function($,ae,le,Se,Ve,Ge){if(isNaN($)||isNaN(ae)||isNaN(le)||isNaN(Se)||isNaN(Ve)||isNaN(Ge))throw Yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var tt=new h($,ae,le,Se,Ve,Ge);this.ctx.transform=this.ctx.transform.multiply(tt)},x.prototype.setTransform=function($,ae,le,Se,Ve,Ge){$=isNaN($)?1:$,ae=isNaN(ae)?0:ae,le=isNaN(le)?0:le,Se=isNaN(Se)?1:Se,Ve=isNaN(Ve)?0:Ve,Ge=isNaN(Ge)?0:Ge,this.ctx.transform=new h($,ae,le,Se,Ve,Ge)};var F=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function($,ae,le,Se,Ve,Ge,tt,et,Kt){var Wt=this.pdf.getImageProperties($),xn=1,Sn=1,li=1,wt=1;void 0!==Se&&void 0!==et&&(li=et/Se,wt=Kt/Ve,xn=Wt.width/Se*et/Se,Sn=Wt.height/Ve*Kt/Ve),void 0===Ge&&(Ge=ae,tt=le,ae=0,le=0),void 0!==Se&&void 0===et&&(et=Se,Kt=Ve),void 0===Se&&void 0===et&&(et=Wt.width,Kt=Wt.height);for(var pe,Di=this.ctx.transform.decompose(),jn=De(Di.rotate.shx),Yt=new h,cn=(Yt=(Yt=(Yt=Yt.multiply(Di.translate)).multiply(Di.skew)).multiply(Di.scale)).applyToRectangle(new d(Ge-ae*li,tt-le*wt,Se*xn,Ve*Sn)),vn=U.call(this,cn),mn=[],Gn=0;Gn<vn.length;Gn+=1)-1===mn.indexOf(vn[Gn])&&mn.push(vn[Gn]);if(ne(mn),this.autoPaging)for(var wi=mn[0],Ri=mn[mn.length-1],Ui=wi;Ui<Ri+1;Ui++){this.pdf.setPage(Ui);var tr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ur=1===Ui?this.posY+this.margin[0]:this.margin[0],Gi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yn=1===Ui?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ui-2)*Gi;if(0!==this.ctx.clip_path.length){var Il=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(pe,this.posX+this.margin[3],-yn+Ur+this.ctx.prevPageLastElemOffset),ke.call(this,"fill",!0),this.path=Il}var cr=JSON.parse(JSON.stringify(cn));cr=Z([cr],this.posX+this.margin[3],-yn+Ur+this.ctx.prevPageLastElemOffset)[0];var Gh=(Ui>wi||Ui<Ri)&&F.call(this);Gh&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tr,Gi,null).clip().discardPath()),this.pdf.addImage($,"JPEG",cr.x,cr.y,cr.w,cr.h,null,null,jn),Gh&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",cn.x,cn.y,cn.w,cn.h,null,null,jn)};var U=function($,ae,le){var Se=[];ae=ae||this.pdf.internal.pageSize.width,le=le||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ve=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":Se.push(Math.floor(($.y+Ve)/le)+1);break;case"arc":Se.push(Math.floor(($.y+Ve-$.radius)/le)+1),Se.push(Math.floor(($.y+Ve+$.radius)/le)+1);break;case"qct":var Ge=Je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);Se.push(Math.floor((Ge.y+Ve)/le)+1),Se.push(Math.floor((Ge.y+Ge.h+Ve)/le)+1);break;case"bct":var tt=ct(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);Se.push(Math.floor((tt.y+Ve)/le)+1),Se.push(Math.floor((tt.y+tt.h+Ve)/le)+1);break;case"rect":Se.push(Math.floor(($.y+Ve)/le)+1),Se.push(Math.floor(($.y+$.h+Ve)/le)+1)}for(var et=0;et<Se.length;et+=1)for(;this.pdf.internal.getNumberOfPages()<Se[et];)j.call(this);return Se},j=function(){var $=this.fillStyle,ae=this.strokeStyle,le=this.font,Se=this.lineCap,Ve=this.lineWidth,Ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=ae,this.font=le,this.lineCap=Se,this.lineWidth=Ve,this.lineJoin=Ge},Z=function($,ae,le){for(var Se=0;Se<$.length;Se++)switch($[Se].type){case"bct":$[Se].x2+=ae,$[Se].y2+=le;case"qct":$[Se].x1+=ae,$[Se].y1+=le;default:$[Se].x+=ae,$[Se].y+=le}return $},ne=function($){return $.sort(function(ae,le){return ae-le})},de=function($,ae){for(var le,Se,Ve=this.fillStyle,Ge=this.strokeStyle,tt=this.lineCap,et=this.lineWidth,Kt=Math.abs(et*this.ctx.transform.scaleX),Wt=this.lineJoin,xn=JSON.parse(JSON.stringify(this.path)),Sn=JSON.parse(JSON.stringify(this.path)),li=[],wt=0;wt<Sn.length;wt++)if(void 0!==Sn[wt].x)for(var pe=U.call(this,Sn[wt]),Di=0;Di<pe.length;Di+=1)-1===li.indexOf(pe[Di])&&li.push(pe[Di]);for(var jn=0;jn<li.length;jn++)for(;this.pdf.internal.getNumberOfPages()<li[jn];)j.call(this);if(ne(li),this.autoPaging)for(var Yt=li[0],cn=li[li.length-1],vn=Yt;vn<cn+1;vn++){this.pdf.setPage(vn),this.fillStyle=Ve,this.strokeStyle=Ge,this.lineCap=tt,this.lineWidth=Kt,this.lineJoin=Wt;var mn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gn=1===vn?this.posY+this.margin[0]:this.margin[0],Ri=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ui=1===vn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(vn-2)*Ri;if(0!==this.ctx.clip_path.length){var tr=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(le,this.posX+this.margin[3],-Ui+Gn+this.ctx.prevPageLastElemOffset),ke.call(this,$,!0),this.path=tr}if(Se=JSON.parse(JSON.stringify(xn)),this.path=Z(Se,this.posX+this.margin[3],-Ui+Gn+this.ctx.prevPageLastElemOffset),!1===ae||0===vn){var Ur=(vn>Yt||vn<cn)&&F.call(this);Ur&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mn,Ri,null).clip().discardPath()),ke.call(this,$,ae),Ur&&this.pdf.restoreGraphicsState()}this.lineWidth=et}else this.lineWidth=Kt,ke.call(this,$,ae),this.lineWidth=et;this.path=xn},ke=function($,ae){if(("stroke"!==$||ae||!P.call(this))&&("stroke"===$||ae||!D.call(this))){for(var le,Se,Ve=[],Ge=this.path,tt=0;tt<Ge.length;tt++){var et=Ge[tt];switch(et.type){case"begin":Ve.push({begin:!0});break;case"close":Ve.push({close:!0});break;case"mt":Ve.push({start:et,deltas:[],abs:[]});break;case"lt":var Kt=Ve.length;if(Ge[tt-1]&&!isNaN(Ge[tt-1].x)&&(le=[et.x-Ge[tt-1].x,et.y-Ge[tt-1].y],Kt>0))for(;Kt>=0;Kt--)if(!0!==Ve[Kt-1].close&&!0!==Ve[Kt-1].begin){Ve[Kt-1].deltas.push(le),Ve[Kt-1].abs.push(et);break}break;case"bct":Ve[Ve.length-1].deltas.push(le=[et.x1-Ge[tt-1].x,et.y1-Ge[tt-1].y,et.x2-Ge[tt-1].x,et.y2-Ge[tt-1].y,et.x-Ge[tt-1].x,et.y-Ge[tt-1].y]);break;case"qct":Ve[Ve.length-1].deltas.push(le=[Ge[tt-1].x+2/3*(et.x1-Ge[tt-1].x)-Ge[tt-1].x,Ge[tt-1].y+2/3*(et.y1-Ge[tt-1].y)-Ge[tt-1].y,et.x+2/3*(et.x1-et.x)-Ge[tt-1].x,et.y+2/3*(et.y1-et.y)-Ge[tt-1].y,et.x-Ge[tt-1].x,et.y-Ge[tt-1].y]);break;case"arc":Ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ve[Ve.length-1].abs)&&Ve[Ve.length-1].abs.push(et)}}Se=ae?null:"stroke"===$?"stroke":"fill";for(var Di=!1,jn=0;jn<Ve.length;jn++)if(Ve[jn].arc)for(var Yt=Ve[jn].abs,cn=0;cn<Yt.length;cn++){var vn=Yt[cn];"arc"===vn.type?he.call(this,vn.x,vn.y,vn.radius,vn.startAngle,vn.endAngle,vn.counterclockwise,void 0,ae,!Di):we.call(this,vn.x,vn.y),Di=!0}else!0===Ve[jn].close?(this.pdf.internal.out("h"),Di=!1):!0!==Ve[jn].begin&&(ye.call(this,Ve[jn].deltas,Ve[jn].start.x,Ve[jn].start.y),Di=!0);Se&&dt.call(this,Se),ae&&gt.call(this)}},Ye=function($){var ae=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,le=ae*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-le;case"top":return $+ae-le;case"hanging":return $+ae-2*le;case"middle":return $+ae/2-le;default:return $}},Me=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(ae,le){this.colorStops.push([ae,le])},$.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var he=function($,ae,le,Se,Ve,Ge,tt,et,Kt){for(var Wt=Ee.call(this,le,Se,Ve,Ge),xn=0;xn<Wt.length;xn++){var Sn=Wt[xn];0===xn&&(Kt?re.call(this,Sn.x1+$,Sn.y1+ae):we.call(this,Sn.x1+$,Sn.y1+ae)),ht.call(this,$,ae,Sn.x2,Sn.y2,Sn.x3,Sn.y3,Sn.x4,Sn.y4)}et?gt.call(this):dt.call(this,tt)},dt=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},gt=function(){this.pdf.clip(),this.pdf.discardPath()},re=function($,ae){this.pdf.internal.out(e($)+" "+i(ae)+" m")},ie=function($){var ae;switch($.align){case"right":case"end":ae="right";break;case"center":ae="center";break;default:ae="left"}var le=this.pdf.getTextDimensions($.text),Se=Ye.call(this,$.y),Ve=Me.call(this,Se)-le.h,Ge=this.ctx.transform.applyToPoint(new a($.x,Se)),tt=this.ctx.transform.decompose(),et=new h;et=(et=(et=et.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale);for(var Kt,Wt,xn,Sn=this.ctx.transform.applyToRectangle(new d($.x,Se,le.w,le.h)),li=et.applyToRectangle(new d($.x,Ve,le.w,le.h)),wt=U.call(this,li),pe=[],Di=0;Di<wt.length;Di+=1)-1===pe.indexOf(wt[Di])&&pe.push(wt[Di]);if(ne(pe),this.autoPaging)for(var jn=pe[0],Yt=pe[pe.length-1],cn=jn;cn<Yt+1;cn++){this.pdf.setPage(cn);var vn=1===cn?this.posY+this.margin[0]:this.margin[0],Gn=this.pdf.internal.pageSize.height-this.margin[2],wi=Gn-this.margin[0],Ri=this.pdf.internal.pageSize.width-this.margin[1],Ui=Ri-this.margin[3],tr=1===cn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(cn-2)*wi;if(0!==this.ctx.clip_path.length){var Ur=this.path;Kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(Kt,this.posX+this.margin[3],-1*tr+vn),ke.call(this,"fill",!0),this.path=Ur}var di=Z([JSON.parse(JSON.stringify(li))],this.posX+this.margin[3],-tr+vn+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*$.scale),this.lineWidth=(xn=this.lineWidth)*$.scale);var Gi="text"!==this.autoPaging;if(Gi||di.y+di.h<=Gn){if(Gi||di.y>=vn&&di.x<=Ri){var yn=Gi?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Ri-di.x)[0],Il=Z([JSON.parse(JSON.stringify(Sn))],this.posX+this.margin[3],-tr+vn+this.ctx.prevPageLastElemOffset)[0],cr=Gi&&(cn>jn||cn<Yt)&&F.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ui,wi,null).clip().discardPath()),this.pdf.text(yn,Il.x,Il.y,{angle:$.angle,align:ae,renderingMode:$.renderingMode}),cr&&this.pdf.restoreGraphicsState()}}else di.y<Gn&&(this.ctx.prevPageLastElemOffset+=Gn-di.y);$.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=xn)}else $.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*$.scale),this.lineWidth=(xn=this.lineWidth)*$.scale),this.pdf.text($.text,Ge.x+this.posX,Ge.y+this.posY,{angle:$.angle,align:ae,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=xn)},we=function($,ae,le,Se){Se=Se||0,this.pdf.internal.out(e($+(le=le||0))+" "+i(ae+Se)+" l")},ye=function($,ae,le){return this.pdf.lines($,ae,le,null,null)},ht=function($,ae,le,Se,Ve,Ge,tt,et){this.pdf.internal.out([t(r(le+$)),t(s(Se+ae)),t(r(Ve+$)),t(s(Ge+ae)),t(r(tt+$)),t(s(et+ae)),"c"].join(" "))},Ee=function($,ae,le,Se){for(var Ve=2*Math.PI,Ge=Math.PI/2;ae>le;)ae-=Ve;var tt=Math.abs(le-ae);tt<Ve&&Se&&(tt=Ve-tt);for(var et=[],Kt=Se?-1:1,Wt=ae;tt>1e-5;){var xn=Wt+Kt*Math.min(tt,Ge);et.push(Le.call(this,$,Wt,xn)),tt-=Math.abs(xn-Wt),Wt=xn}return et},Le=function($,ae,le){var Se=(le-ae)/2,Ve=$*Math.cos(Se),Ge=$*Math.sin(Se),tt=Ve,et=-Ge,Kt=tt*tt+et*et,Wt=Kt+tt*Ve+et*Ge,xn=4/3*(Math.sqrt(2*Kt*Wt)-Wt)/(tt*Ge-et*Ve),Sn=tt-xn*et,li=et+xn*tt,wt=Sn,pe=-li,Di=Se+ae,jn=Math.cos(Di),Yt=Math.sin(Di);return{x1:$*Math.cos(ae),y1:$*Math.sin(ae),x2:Sn*jn-li*Yt,y2:Sn*Yt+li*jn,x3:wt*jn-pe*Yt,y3:wt*Yt+pe*jn,x4:$*Math.cos(le),y4:$*Math.sin(le)}},De=function($){return 180*$/Math.PI},Je=function($,ae,le,Se,Ve,Ge){var tt=$+.5*(le-$),et=ae+.5*(Se-ae),Kt=Ve+.5*(le-Ve),Wt=Ge+.5*(Se-Ge),xn=Math.min($,Ve,tt,Kt),Sn=Math.max($,Ve,tt,Kt),li=Math.min(ae,Ge,et,Wt),wt=Math.max(ae,Ge,et,Wt);return new d(xn,li,Sn-xn,wt-li)},ct=function($,ae,le,Se,Ve,Ge,tt,et){var Kt,Wt,xn,Sn,li,wt,pe,Di,jn,Yt,cn,vn,mn,Gn,wi=le-$,Ri=Se-ae,Ui=Ve-le,tr=Ge-Se,Ur=tt-Ve,di=et-Ge;for(Wt=0;Wt<41;Wt++)jn=(pe=(xn=$+(Kt=Wt/40)*wi)+Kt*((li=le+Kt*Ui)-xn))+Kt*(li+Kt*(Ve+Kt*Ur-li)-pe),Yt=(Di=(Sn=ae+Kt*Ri)+Kt*((wt=Se+Kt*tr)-Sn))+Kt*(wt+Kt*(Ge+Kt*di-wt)-Di),0==Wt?(cn=jn,vn=Yt,mn=jn,Gn=Yt):(cn=Math.min(cn,jn),vn=Math.min(vn,Yt),mn=Math.max(mn,jn),Gn=Math.max(Gn,Yt));return new d(Math.round(cn),Math.round(vn),Math.round(mn-cn),Math.round(Gn-vn))},sn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var le=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==le&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=le)}}})(ii.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=function(s){var a,d,h,m,b,x,M,D,P,F;for(/[^\x00-\xFF]/.test(s),d=[],h=0,m=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;m>h;h+=4)0!==(b=(s.charCodeAt(h)<<24)+(s.charCodeAt(h+1)<<16)+(s.charCodeAt(h+2)<<8)+s.charCodeAt(h+3))?(x=(b=((b=((b=((b=(b-(F=b%85))/85)-(P=b%85))/85)-(D=b%85))/85)-(M=b%85))/85)%85,d.push(x+33,M+33,D+33,P+33,F+33)):d.push(122);return function(U,j){for(var Z=j;Z>0;Z--)U.pop()}(d,a.length),String.fromCharCode.apply(String,d)+"~>"},e=function(s){var a,d,h,m,b,x=String,M="length",D=255,P="charCodeAt",F="slice",U="replace";for(s[F](-2),s=s[F](0,-2)[U](/\s/g,"")[U]("z","!!!!!"),h=[],m=0,b=(s+=a="uuuuu"[F](s[M]%5||5))[M];b>m;m+=5)d=52200625*(s[P](m)-33)+614125*(s[P](m+1)-33)+7225*(s[P](m+2)-33)+85*(s[P](m+3)-33)+(s[P](m+4)-33),h.push(D&d>>24,D&d>>16,D&d>>8,D&d);return function(j,Z){for(var ne=Z;ne>0;ne--)j.pop()}(h,a[M]),x.fromCharCode.apply(x,h)},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===a.test(s))return"";for(var d="",h=0;h<s.length;h+=2)d+=String.fromCharCode("0x"+(s[h]+s[h+1]));return d},r=function(s){for(var a=new Uint8Array(s.length),d=s.length;d--;)a[d]=s.charCodeAt(d);return(a=G2(a)).reduce(function(h,m){return h+String.fromCharCode(m)},"")};n.processDataByFilters=function(s,a){var d=0,h=s||"",m=[];for("string"==typeof(a=a||[])&&(a=[a]),d=0;d<a.length;d+=1)switch(a[d]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(b){return("0"+b.charCodeAt().toString(16)).slice(-2)}).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=r(h),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[d]+'" is not implemented')}return{data:h,reverseChain:m.reverse().join(" ")}}}(ii.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(t,e,i){return function(r,s,a){s=!1!==s,a="function"==typeof a?a:function(){};var d=void 0;try{d=function(h,m,b){var x=new XMLHttpRequest,M=0,D=function(P){var F=P.length,U=[],j=String.fromCharCode;for(M=0;M<F;M+=1)U.push(j(255&P.charCodeAt(M)));return U.join("")};if(x.open("GET",h,!m),x.overrideMimeType("text/plain; charset=x-user-defined"),!1===m&&(x.onload=function(){b(200===x.status?D(this.responseText):void 0)}),x.send(null),m&&200===x.status)return D(x.responseText)}(r,s,a)}catch{}return d}(t,e,i)},n.loadImageFile=n.loadFile}(ii.API),function(n){function t(){return(ai.html2canvas?Promise.resolve(ai.html2canvas):Q.e(456).then(Q.t.bind(Q,4456,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(ai.DOMPurify?Promise.resolve(ai.DOMPurify):Q.e(896).then(Q.t.bind(Q,896,23))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var d=(0,Wr.Z)(a);return"undefined"===d?"undefined":"string"===d||a instanceof String?"string":"number"===d||a instanceof Number?"number":"function"===d||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===d?"object":"unknown"},r=function(a,d){var h=document.createElement(a);for(var m in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[m]=d.style[m];return h},s=function a(d){var h=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),m=a.convert(Promise.resolve(),h);return(m=m.setProgress(1,a,1,[a])).set(d)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,d){return a.__proto__=d||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,d){return this.then(function(){switch(d=d||function(h){switch(i(h)){case"string":return"string";case"element":return"canvas"===h.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(h){return this.set({src:r("div",{innerHTML:a,dompurify:h})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function h(m,b){for(var x=3===m.nodeType?document.createTextNode(m.nodeValue):m.cloneNode(!1),M=m.firstChild;M;M=M.nextSibling)!0!==b&&1===M.nodeType&&"SCRIPT"===M.nodeName||x.appendChild(h(M,b));return 1===m.nodeType&&("CANVAS"===m.nodeName?(x.width=m.width,x.height=m.height,x.getContext("2d").drawImage(m,0,0)):"TEXTAREA"!==m.nodeName&&"SELECT"!==m.nodeName||(x.value=m.value),x.addEventListener("load",function(){x.scrollTop=m.scrollTop,x.scrollLeft=m.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===d.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(d){var h=this.opt.jsPDF,m=this.opt.fontFaces,b="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,h.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=m,m)for(var M=0;M<m.length;++M){var D=m[M],P=D.src.find(function(F){return"truetype"===F.format});P&&h.addFont(P.url,D.ref.name,D.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=0==x.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,h.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,d,h){return"img"===(h=h||"pdf").toLowerCase()||"image"===h.toLowerCase()?this.outputImg(a,d):this.outputPdf(a,d)},s.prototype.outputPdf=function(a,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,d)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if("object"!==i(a))return this;var d=Object.keys(a||{}).map(function(h){if(h in s.template.prop)return function(){this.prop[h]=a[h]};switch(h){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[h]=a[h]}}},this);return this.then(function(){return this.thenList(d)})},s.prototype.get=function(a,d){return this.then(function(){var h=a in s.template.prop?this.prop[a]:this.opt[a];return d?d(h):h})},s.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function d(h,m){return Math.floor(h*m/72*96)}return this.then(function(){(a=a||ii.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:d(a.inner.width,a.k),height:d(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,d,h,m){return null!=a&&(this.progress.val=a),null!=d&&(this.progress.state=d),null!=h&&(this.progress.n=h),null!=m&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,d,h,m){return this.setProgress(a?this.progress.val+a:null,d||null,h?this.progress.n+h:null,m?this.progress.stack.concat(m):null)},s.prototype.then=function(a,d){var h=this;return this.thenCore(a,d,function(m,b){return h.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(x){return h.updateProgress(null,m),x}).then(m,b).then(function(x){return h.updateProgress(1),x})})},s.prototype.thenCore=function(a,d,h){h=h||Promise.prototype.then,a&&(a=a.bind(this)),d&&(d=d.bind(this));var m=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),b=h.call(m,a,d);return s.convert(b,this.__proto__)},s.prototype.thenExternal=function(a,d){return Promise.prototype.then.call(this,a,d)},s.prototype.thenList=function(a){var d=this;return a.forEach(function(h){d=d.thenCore(h)}),d},s.prototype.catch=function(a){a&&(a=a.bind(this));var d=Promise.prototype.catch.call(this,a);return s.convert(d,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ii.getPageSize=function(a,d,h){if("object"===(0,Wr.Z)(a)){var m=a;a=m.orientation,d=m.unit||d,h=m.format||h}d=d||"mm",h=h||"a4",a=(""+(a||"P")).toLowerCase();var b,x=(""+h).toLowerCase(),M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+d}var D,P=0,F=0;if(M.hasOwnProperty(x))P=M[x][1]/b,F=M[x][0]/b;else try{P=h[1],F=h[0]}catch{throw new Error("Invalid format: "+h)}if("p"===a||"portrait"===a)a="p",F>P&&(D=F,F=P,P=D);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",P>F&&(D=F,F=P,P=D)}return{width:F,height:P,unit:d,k:b,orientation:a}},n.html=function(a,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(rU):null;var h=new s(d);return d.worker?h:h.from(a).doCallback()}}(ii.API),ii.API.addJS=function(n){return pW=n,this.internal.events.subscribe("postPutResources",function(){VP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(VP+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),fW=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pW+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==VP&&void 0!==fW&&this.internal.out("/Names <</JavaScript "+VP+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],d=i.exec(a);null!=d&&e.internal.newObjectDeferredBegin(d[1],!1),e.internal.write(a)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,b=[];for(s=0;s<m;s++){var x=e.internal.newObject();b.push(x);var M=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+M.objId+" 0 R /XYZ null null null]>> endobj")}var D=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<b.length;s++)e.internal.write("(page_"+(s+1)+")"+b[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+D+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,s){var a={title:r,options:s,children:[]};return null==i&&(i=this.root),i.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var d=this.count=this.count_r({count:0},a);if(d>0&&this.line("/Count "+d),a.options&&a.options.pageNumber){var h=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var m=0;m<i.children.length;m++)this.renderItems(i.children[m])},e.outline.line=function(i){this.ctx.val+=i+"\r\n"},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(ii.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,s,a,d){var h,m=this.decode.DCT_DECODE,b=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=this.__addimage__.isArrayBuffer(e=a||e)?new Uint8Array(e):e,(h=function(x){for(var M,D=256*x.charCodeAt(4)+x.charCodeAt(5),P=x.length,F={width:0,height:0,numcomponents:1},U=4;U<P;U+=2){if(-1!==t.indexOf(x.charCodeAt((U+=D)+1))){M=256*x.charCodeAt(U+5)+x.charCodeAt(U+6),F={width:256*x.charCodeAt(U+7)+x.charCodeAt(U+8),height:M,numcomponents:x.charCodeAt(U+9)};break}D=256*x.charCodeAt(U+2)+x.charCodeAt(U+3)}return F}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}b={data:e,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:m,index:i,alias:r}}return b}}(ii.API);var PE,UP,mW,gW,_W,Pce=function(){var n,t,e;function i(s){var a,h,m,b,x,M,D,P,F,U,j,Z,ne;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(a=this.readUInt32(),P=function(){var de,ke;for(ke=[],de=0;de<4;++de)ke.push(String.fromCharCode(this.data[this.pos++]));return ke}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},b=this.readUInt16(),m=this.readUInt16()||100,x.delay=1e3*b/m,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for("fdAT"===P&&(this.pos+=4,a-=4),s=x?.data||this.imgData,j=0;0<=a?j<a:j>a;0<=a?++j:--j)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((F=h-this.transparency.indexed.length)>0)for(Z=0;0<=F?Z<F:Z>F;0<=F?++Z:--Z)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":M=(U=this.read(a)).indexOf(0),D=String.fromCharCode.apply(String,U.slice(0,M)),this.text[D]=String.fromCharCode.apply(String,U.slice(M+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(ne=this.colorType)||6===ne,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var a,d;for(d=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)d.push(this.data[this.pos++]);return d},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*a),h=0,m=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function b(x,M,D,P){var F,U,j,Z,ne,de,ke,Ye,he,dt,gt,re,ie,we,ye,ht,Ee,Le,De,Je,ct=Math.ceil((m.width-x)/D),sn=Math.ceil((m.height-M)/P),$=m.width==ct&&m.height==sn;for(ie=a*ct,gt=$?d:new Uint8Array(ie*sn),de=s.length,re=0,U=0;re<sn&&h<de;){switch(s[h++]){case 0:for(Z=ht=0;ht<ie;Z=ht+=1)gt[U++]=s[h++];break;case 1:for(Z=Ee=0;Ee<ie;Z=Ee+=1)F=s[h++],ne=Z<a?0:gt[U-a],gt[U++]=(F+ne)%256;break;case 2:for(Z=Le=0;Le<ie;Z=Le+=1)F=s[h++],j=(Z-Z%a)/a,gt[U++]=((we=re&&gt[(re-1)*ie+j*a+Z%a])+F)%256;break;case 3:for(Z=De=0;De<ie;Z=De+=1)F=s[h++],j=(Z-Z%a)/a,ne=Z<a?0:gt[U-a],we=re&&gt[(re-1)*ie+j*a+Z%a],gt[U++]=(F+Math.floor((ne+we)/2))%256;break;case 4:for(Z=Je=0;Je<ie;Z=Je+=1)F=s[h++],j=(Z-Z%a)/a,0===re?we=ye=0:(we=gt[(re-1)*ie+j*a+Z%a],ye=j&&gt[(re-1)*ie+(j-1)*a+Z%a]),ke=(ne=Z<a?0:gt[U-a])+we-ye,Ye=Math.abs(ke-ne),he=Math.abs(ke-we),dt=Math.abs(ke-ye),gt[U++]=(F+(Ye<=he&&Ye<=dt?ne:he<=dt?we:ye))%256;break;default:throw new Error("Invalid filter algorithm: "+s[h-1])}if(!$){var ae=((M+re*P)*m.width+x)*a,le=re*ie;for(Z=0;Z<ct;Z+=1){for(var Se=0;Se<a;Se+=1)d[ae++]=gt[le++];ae+=(D-1)*a}}re++}}return s=AP(s),1==m.interlaceMethod?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),d},i.prototype.decodePalette=function(){var s,a,d,h,m,b,x,M,D;for(d=this.palette,b=this.transparency.indexed||[],m=new Uint8Array((b.length||0)+d.length),h=0,s=0,a=x=0,M=d.length;x<M;a=x+=3)m[h++]=d[a],m[h++]=d[a+1],m[h++]=d[a+2],m[h++]=null!=(D=b[s++])?D:255;return m},i.prototype.copyToImageData=function(s,a){var d,h,m,b,x,M,D,P,F,U,j;if(h=this.colors,F=null,d=this.hasAlphaChannel,this.palette.length&&(F=null!=(j=this._decodedPalette)?j:this._decodedPalette=this.decodePalette(),h=4,d=!0),P=(m=s.data||s).length,x=F||a,b=M=0,1===h)for(;b<P;)D=F?4*a[b/4]:M,U=x[D++],m[b++]=U,m[b++]=U,m[b++]=U,m[b++]=d?x[D++]:255,M=D;else for(;b<P;)D=F?4*a[b/4]:M,m[b++]=x[D++],m[b++]=x[D++],m[b++]=x[D++],m[b++]=d?x[D++]:255,M=D},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if("[object Window]"===Object.prototype.toString.call(ai)){try{t=ai.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var a;if(!0===r())return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var a,d,h,m,b,x,M,D;if(this.animation){for(D=[],d=b=0,x=(M=this.animation.frames).length;b<x;d=++b)h=s.createImageData((a=M[d]).width,a.height),m=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(h,m),a.imageData=h,D.push(a.image=n(h));return D}},i.prototype.renderFrame=function(s,a){var d,h,m;return d=(h=this.animation.frames)[a],m=h[a-1],0===a&&s.clearRect(0,0,this.width,this.height),1===m?.disposeOp?s.clearRect(m.xOffset,m.yOffset,m.width,m.height):2===m?.disposeOp&&s.putImageData(m.imageData,m.xOffset,m.yOffset),0===d.blendOp&&s.clearRect(d.xOffset,d.yOffset,d.width,d.height),s.drawImage(d.image,d.xOffset,d.yOffset)},i.prototype.animate=function(s){var a,d,h,m,b,x,M=this;return d=0,m=(x=this.animation).numFrames,h=x.frames,b=x.numPlays,(a=function(){var D,P;if(D=d++%m,P=h[D],M.renderFrame(s,D),m>1&&d/m<b)return M.animation._timeout=setTimeout(a,P.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},i.prototype.render=function(s){var a,d;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(d=a.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),a.putImageData(d,0,0))},i}();function Oce(n){var t=0;if(71!==n[t++]||73!==n[t++]||70!==n[t++]||56!==n[t++]||56!=(n[t++]+1&253)||97!==n[t++])throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],a=1<<1+(7&r);t++,t++;var d=null,h=null;r>>7&&(d=t,h=a,t+=3*a);var m=!0,b=[],x=0,M=null,D=0,P=null;for(this.width=e,this.height=i;m&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(11!==n[t]||78==n[t+1]&&69==n[t+2]&&84==n[t+3]&&83==n[t+4]&&67==n[t+5]&&65==n[t+6]&&80==n[t+7]&&69==n[t+8]&&50==n[t+9]&&46==n[t+10]&&48==n[t+11]&&3==n[t+12]&&1==n[t+13]&&0==n[t+16])t+=14,P=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((re=n[t++])>=0))throw Error("Invalid block size");if(0===re)break;t+=re}break;case 249:if(4!==n[t++]||0!==n[t+4])throw new Error("Invalid graphics extension block.");var F=n[t++];x=n[t++]|n[t++]<<8,M=n[t++],!(1&F)&&(M=null),D=F>>2&7,t++;break;case 254:for(;;){if(!((re=n[t++])>=0))throw Error("Invalid block size");if(0===re)break;t+=re}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var U=n[t++]|n[t++]<<8,j=n[t++]|n[t++]<<8,Z=n[t++]|n[t++]<<8,ne=n[t++]|n[t++]<<8,de=n[t++],ke=de>>6&1,Ye=1<<1+(7&de),Me=d,he=h,dt=!1;de>>7&&(dt=!0,Me=t,he=Ye,t+=3*Ye);var gt=t;for(t++;;){var re;if(!((re=n[t++])>=0))throw Error("Invalid block size");if(0===re)break;t+=re}b.push({x:U,y:j,width:Z,height:ne,has_local_palette:dt,palette_offset:Me,palette_size:he,data_offset:gt,data_length:t-gt,transparent_index:M,interlaced:!!ke,delay:x,disposal:D});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return P},this.frameInfo=function(ie){if(ie<0||ie>=b.length)throw new Error("Frame index out of range.");return b[ie]},this.decodeAndBlitFrameBGRA=function(ie,we){var ye=this.frameInfo(ie),ht=ye.width*ye.height,Ee=new Uint8Array(ht);vW(n,ye.data_offset,Ee,ht);var Le=ye.palette_offset,De=ye.transparent_index;null===De&&(De=256);var Je=ye.width,ct=e-Je,sn=Je,$=4*(ye.y*e+ye.x),ae=4*((ye.y+ye.height)*e+ye.x),le=$,Se=4*ct;!0===ye.interlaced&&(Se+=4*e*7);for(var Ve=8,Ge=0,tt=Ee.length;Ge<tt;++Ge){var et=Ee[Ge];if(0===sn&&(sn=Je,(le+=Se)>=ae&&(Se=4*ct+4*e*(Ve-1),le=$+(Je+ct)*(Ve<<1),Ve>>=1)),et===De)le+=4;else{var Kt=n[Le+3*et],Wt=n[Le+3*et+1];we[le++]=n[Le+3*et+2],we[le++]=Wt,we[le++]=Kt,we[le++]=255}--sn}},this.decodeAndBlitFrameRGBA=function(ie,we){var ye=this.frameInfo(ie),ht=ye.width*ye.height,Ee=new Uint8Array(ht);vW(n,ye.data_offset,Ee,ht);var Le=ye.palette_offset,De=ye.transparent_index;null===De&&(De=256);var Je=ye.width,ct=e-Je,sn=Je,$=4*(ye.y*e+ye.x),ae=4*((ye.y+ye.height)*e+ye.x),le=$,Se=4*ct;!0===ye.interlaced&&(Se+=4*e*7);for(var Ve=8,Ge=0,tt=Ee.length;Ge<tt;++Ge){var et=Ee[Ge];if(0===sn&&(sn=Je,(le+=Se)>=ae&&(Se=4*ct+4*e*(Ve-1),le=$+(Je+ct)*(Ve<<1),Ve>>=1)),et===De)le+=4;else{var Wt=n[Le+3*et+1],xn=n[Le+3*et+2];we[le++]=n[Le+3*et],we[le++]=Wt,we[le++]=xn,we[le++]=255}--sn}}}function vW(n,t,e,i){for(var r=n[t++],s=1<<r,a=s+1,d=a+1,h=r+1,m=(1<<h)-1,b=0,x=0,M=0,D=n[t++],P=new Int32Array(4096),F=null;;){for(;b<16&&0!==D;)x|=n[t++]<<b,b+=8,1===D?D=n[t++]:--D;if(b<h)break;var U=x&m;if(x>>=h,b-=h,U!==s){if(U===a)break;for(var j=U<d?U:F,Z=0,ne=j;ne>s;)ne=P[ne]>>8,++Z;var de=ne;if(M+Z+(j!==U?1:0)>i)return void Yr.log("Warning, gif stream longer than expected.");e[M++]=de;var ke=M+=Z;for(j!==U&&(e[M++]=de),ne=j;Z--;)e[--ke]=255&(ne=P[ne]),ne>>=8;null!==F&&d<4096&&(P[d++]=F<<8|de,d>=m+1&&h<12&&(++h,m=m<<1|1)),F=U}else d=a+1,m=(1<<(h=r+1))-1,F=null}return M!==i&&Yr.log("Warning, gif stream shorter than expected."),e}function oU(n){var t,e,i,r,s,a=Math.floor,d=new Array(64),h=new Array(64),m=new Array(64),b=new Array(64),x=new Array(65535),M=new Array(65535),D=new Array(64),P=new Array(64),F=[],U=0,j=7,Z=new Array(64),ne=new Array(64),de=new Array(64),ke=new Array(256),Ye=new Array(2048),Me=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],he=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],dt=[0,1,2,3,4,5,6,7,8,9,10,11],gt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],re=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ie=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],we=[0,1,2,3,4,5,6,7,8,9,10,11],ye=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ht=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ee($,ae){for(var le=0,Se=0,Ve=new Array,Ge=1;Ge<=16;Ge++){for(var tt=1;tt<=$[Ge];tt++)Ve[ae[Se]]=[],Ve[ae[Se]][0]=le,Ve[ae[Se]][1]=Ge,Se++,le++;le*=2}return Ve}function Le($){for(var ae=$[0],le=$[1]-1;le>=0;)ae&1<<le&&(U|=1<<j),le--,--j<0&&(255==U?(De(255),De(0)):De(U),j=7,U=0)}function De($){F.push($)}function Je($){De($>>8&255),De(255&$)}function ct($,ae,le,Se,Ve){for(var Ge,tt=Ve[0],et=Ve[240],Kt=function(Yt,cn){var vn,mn,Gn,wi,Ri,Ui,tr,Ur,di,Gi,yn=0;for(di=0;di<8;++di){var Il=(vn=Yt[yn])+(Ur=Yt[yn+7]),cr=vn-Ur,Gh=(mn=Yt[yn+1])+(tr=Yt[yn+6]),Zr=mn-tr,Ss=(Gn=Yt[yn+2])+(Ui=Yt[yn+5]),Bp=Gn-Ui,Cr=(wi=Yt[yn+3])+(Ri=Yt[yn+4]),xw=wi-Ri,no=Il+Cr,$h=Il-Cr,e_=Gh+Ss,io=Gh-Ss;Yt[yn]=no+e_,Yt[yn+4]=no-e_;var xi=.707106781*(io+$h);Yt[yn+2]=$h+xi,Yt[yn+6]=$h-xi;var Er=.382683433*((no=xw+Bp)-(io=Zr+cr)),Cw=.5411961*no+Er,Ja=1.306562965*io+Er,Vp=.707106781*(e_=Bp+Zr),Up=cr+Vp,ri=cr-Vp;Yt[yn+5]=ri+Cw,Yt[yn+3]=ri-Cw,Yt[yn+1]=Up+Ja,Yt[yn+7]=Up-Ja,yn+=8}for(yn=0,di=0;di<8;++di){var Wh=(vn=Yt[yn])+(Ur=Yt[yn+56]),jp=vn-Ur,$c=(mn=Yt[yn+8])+(tr=Yt[yn+48]),ha=mn-tr,qo=(Gn=Yt[yn+16])+(Ui=Yt[yn+40]),Bu=Gn-Ui,FE=(wi=Yt[yn+24])+(Ri=Yt[yn+32]),t_=wi-Ri,Yh=Wh+FE,Zh=Wh-FE,Kh=$c+qo,Hp=$c-qo;Yt[yn]=Yh+Kh,Yt[yn+32]=Yh-Kh;var Ld=.707106781*(Hp+Zh);Yt[yn+16]=Zh+Ld,Yt[yn+48]=Zh-Ld;var zp=.382683433*((Yh=t_+Bu)-(Hp=ha+jp)),Ew=.5411961*Yh+zp,LE=1.306562965*Hp+zp,BE=.707106781*(Kh=Bu+ha),VE=jp+BE,UE=jp-BE;Yt[yn+40]=UE+Ew,Yt[yn+24]=UE-Ew,Yt[yn+8]=VE+LE,Yt[yn+56]=VE-LE,yn++}for(di=0;di<64;++di)D[di]=(Gi=Yt[di]*cn[di])>0?Gi+.5|0:Gi-.5|0;return D}($,ae),Wt=0;Wt<64;++Wt)P[Me[Wt]]=Kt[Wt];var xn=P[0]-le;le=P[0],0==xn?Le(Se[0]):(Le(Se[M[Ge=32767+xn]]),Le(x[Ge]));for(var Sn=63;Sn>0&&0==P[Sn];)Sn--;if(0==Sn)return Le(tt),le;for(var li,wt=1;wt<=Sn;){for(var pe=wt;0==P[wt]&&wt<=Sn;)++wt;var Di=wt-pe;if(Di>=16){li=Di>>4;for(var jn=1;jn<=li;++jn)Le(et);Di&=15}Le(Ve[(Di<<4)+M[Ge=32767+P[wt]]]),Le(x[Ge]),wt++}return 63!=Sn&&Le(tt),le}function sn($){$=Math.min(Math.max($,1),100),s!=$&&(function(ae){for(var le=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Se=0;Se<64;Se++){var Ve=a((le[Se]*ae+50)/100);Ve=Math.min(Math.max(Ve,1),255),d[Me[Se]]=Ve}for(var Ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],tt=0;tt<64;tt++){var et=a((Ge[tt]*ae+50)/100);et=Math.min(Math.max(et,1),255),h[Me[tt]]=et}for(var Kt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Wt=0,xn=0;xn<8;xn++)for(var Sn=0;Sn<8;Sn++)m[Wt]=1/(d[Me[Wt]]*Kt[xn]*Kt[Sn]*8),b[Wt]=1/(h[Me[Wt]]*Kt[xn]*Kt[Sn]*8),Wt++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),s=$)}this.encode=function($,ae){var mn,Gn;ae&&sn(ae),F=new Array,U=0,j=7,Je(65496),Je(65504),Je(16),De(74),De(70),De(73),De(70),De(0),De(1),De(1),De(0),Je(1),Je(1),De(0),De(0),function(){Je(65499),Je(132),De(0);for(var mn=0;mn<64;mn++)De(d[mn]);De(1);for(var Gn=0;Gn<64;Gn++)De(h[Gn])}(),mn=$.width,Gn=$.height,Je(65472),Je(17),De(8),Je(Gn),Je(mn),De(3),De(1),De(17),De(0),De(2),De(17),De(1),De(3),De(17),De(1),function(){Je(65476),Je(418),De(0);for(var mn=0;mn<16;mn++)De(he[mn+1]);for(var Gn=0;Gn<=11;Gn++)De(dt[Gn]);De(16);for(var wi=0;wi<16;wi++)De(gt[wi+1]);for(var Ri=0;Ri<=161;Ri++)De(re[Ri]);De(1);for(var Ui=0;Ui<16;Ui++)De(ie[Ui+1]);for(var tr=0;tr<=11;tr++)De(we[tr]);De(17);for(var Ur=0;Ur<16;Ur++)De(ye[Ur+1]);for(var di=0;di<=161;di++)De(ht[di])}(),Je(65498),Je(12),De(3),De(1),De(0),De(2),De(17),De(3),De(17),De(0),De(63),De(0);var le=0,Se=0,Ve=0;U=0,j=7,this.encode.displayName="_encode_";for(var Ge,tt,et,Kt,Wt,xn,Sn,li,wt,pe=$.data,jn=$.height,Yt=4*$.width,cn=0;cn<jn;){for(Ge=0;Ge<Yt;){for(Wt=Yt*cn+Ge,Sn=-1,li=0,wt=0;wt<64;wt++)xn=Wt+(li=wt>>3)*Yt+(Sn=4*(7&wt)),cn+li>=jn&&(xn-=Yt*(cn+1+li-jn)),Ge+Sn>=Yt&&(xn-=Ge+Sn-Yt+4),tt=pe[xn++],et=pe[xn++],Kt=pe[xn++],Z[wt]=(Ye[tt]+Ye[et+256>>0]+Ye[Kt+512>>0]>>16)-128,ne[wt]=(Ye[tt+768>>0]+Ye[et+1024>>0]+Ye[Kt+1280>>0]>>16)-128,de[wt]=(Ye[tt+1280>>0]+Ye[et+1536>>0]+Ye[Kt+1792>>0]>>16)-128;le=ct(Z,m,le,t,i),Se=ct(ne,b,Se,e,r),Ve=ct(de,b,Ve,e,r),Ge+=32}cn+=8}if(j>=0){var vn=[];vn[1]=j+1,vn[0]=(1<<j+1)-1,Le(vn)}return Je(65497),new Uint8Array(F)},n=n||50,function(){for(var $=String.fromCharCode,ae=0;ae<256;ae++)ke[ae]=$(ae)}(),t=Ee(he,dt),e=Ee(ie,we),i=Ee(gt,re),r=Ee(ye,ht),function(){for(var $=1,ae=2,le=1;le<=15;le++){for(var Se=$;Se<ae;Se++)M[32767+Se]=le,x[32767+Se]=[],x[32767+Se][1]=le,x[32767+Se][0]=Se;for(var Ve=-(ae-1);Ve<=-$;Ve++)M[32767+Ve]=le,x[32767+Ve]=[],x[32767+Ve][1]=le,x[32767+Ve][0]=ae-1+Ve;$<<=1,ae<<=1}}(),function(){for(var $=0;$<256;$++)Ye[$]=19595*$,Ye[$+256>>0]=38470*$,Ye[$+512>>0]=7471*$+32768,Ye[$+768>>0]=-11059*$,Ye[$+1024>>0]=-21709*$,Ye[$+1280>>0]=32768*$+8421375,Ye[$+1536>>0]=-27439*$,Ye[$+1792>>0]=-5329*$}(),sn(n)}function Hh(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yW(n){function t(he){if(!he)throw Error("assert :P")}function e(he,dt,gt){for(var re=0;4>re;re++)if(he[dt+re]!=gt.charCodeAt(re))return!0;return!1}function i(he,dt,gt,re,ie){for(var we=0;we<ie;we++)he[dt+we]=gt[re+we]}function r(he,dt,gt,re){for(var ie=0;ie<re;ie++)he[dt+ie]=gt}function s(he){return new Int32Array(he)}function a(he,dt){for(var gt=[],re=0;re<he;re++)gt.push(new dt);return gt}function d(he,dt){var gt=[];return function re(ie,we,ye){for(var ht=ye[we],Ee=0;Ee<ht&&(ie.push(ye.length>we+1?[]:new dt),!(ye.length<we+1));Ee++)re(ie[Ee],we+1,ye)}(gt,0,he),gt}var h=function(){var he=this;function dt(y,E){for(var R=1<<E-1>>>0;y&R;)R>>>=1;return R?(y&R-1)+R:y}function gt(y,E,R,O,H){t(!(O%R));do{y[E+(O-=R)]=H}while(0<O)}function re(y,E,R,O,H){if(t(2328>=H),512>=H)var W=s(512);else if(null==(W=s(H)))return 0;return function(Y,K,X,oe,Ie,Qe){var Xe,Oe,Nt=K,ft=1<<X,Ae=s(16),Re=s(16);for(t(0!=Ie),t(null!=oe),t(null!=Y),t(0<X),Oe=0;Oe<Ie;++Oe){if(15<oe[Oe])return 0;++Ae[oe[Oe]]}if(Ae[0]==Ie)return 0;for(Re[1]=0,Xe=1;15>Xe;++Xe){if(Ae[Xe]>1<<Xe)return 0;Re[Xe+1]=Re[Xe]+Ae[Xe]}for(Oe=0;Oe<Ie;++Oe)Xe=oe[Oe],0<oe[Oe]&&(Qe[Re[Xe]++]=Oe);if(1==Re[15])return(oe=new ie).g=0,oe.value=Qe[0],gt(Y,Nt,1,ft,oe),ft;var Tt,Bt=-1,kt=ft-1,In=0,un=1,Xn=1,pn=1<<X;for(Oe=0,Xe=1,Ie=2;Xe<=X;++Xe,Ie<<=1){if(un+=Xn<<=1,0>(Xn-=Ae[Xe]))return 0;for(;0<Ae[Xe];--Ae[Xe])(oe=new ie).g=Xe,oe.value=Qe[Oe++],gt(Y,Nt+In,Ie,pn,oe),In=dt(In,Xe)}for(Xe=X+1,Ie=2;15>=Xe;++Xe,Ie<<=1){if(un+=Xn<<=1,0>(Xn-=Ae[Xe]))return 0;for(;0<Ae[Xe];--Ae[Xe]){if(oe=new ie,(In&kt)!=Bt){for(Nt+=pn,Tt=1<<(Bt=Xe)-X;15>Bt&&!(0>=(Tt-=Ae[Bt]));)++Bt,Tt<<=1;ft+=pn=1<<(Tt=Bt-X),Y[K+(Bt=In&kt)].g=Tt+X,Y[K+Bt].value=Nt-K-Bt}oe.g=Xe-X,oe.value=Qe[Oe++],gt(Y,Nt+(In>>X),Ie,pn,oe),In=dt(In,Xe)}}return un!=2*Re[15]-1?0:ft}(y,E,R,O,H,W)}function ie(){this.value=this.g=0}function we(){this.value=this.g=0}function ye(){this.G=a(5,ie),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Yc,we)}function ht(y,E,R,O){t(null!=y),t(null!=E),t(2147483648>O),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=E,y.pa=R,y.Jd=E,y.Yc=R+O,y.Zc=4<=O?R+O-4+1:R,Ge(y)}function Ee(y,E){for(var R=0;0<E--;)R|=et(y,128)<<E;return R}function Le(y,E){var R=Ee(y,E);return tt(y)?-R:R}function De(y,E,R,O){var H,W=0;for(t(null!=y),t(null!=E),t(4294967288>O),y.Sb=O,y.Ra=0,y.u=0,y.h=0,4<O&&(O=4),H=0;H<O;++H)W+=E[R+H]<<8*H;y.Ra=W,y.bb=O,y.oa=E,y.pa=R}function Je(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<tI-8>>>0,++y.bb,y.u-=8;le(y)&&(y.h=1,y.u=0)}function ct(y,E){if(t(0<=E),!y.h&&E<=eI){var R=ae(y)&JE[E];return y.u+=E,Je(y),R}return y.h=1,y.u=0}function sn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(y){return y.Ra>>>(y.u&tI-1)>>>0}function le(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>tI}function Se(y,E){y.u=E,y.h=le(y)}function Ve(y){y.u>=vT&&(t(y.u>=vT),Je(y))}function Ge(y){t(null!=y&&null!=y.oa),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(null!=y&&null!=y.oa),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function tt(y){return Ee(y,1)}function et(y,E){var R=y.Ca;0>y.b&&Ge(y);var O=y.b,H=R*E>>>8,W=(y.I>>>O>H)+0;for(W?(R-=H,y.I-=H+1<<O>>>0):R=H+1,O=R,H=0;256<=O;)H+=8,O>>=8;return y.b-=O=7^H+Zc[O],y.Ca=(R<<O)-1,W}function Kt(y,E,R){y[E+0]=R>>24&255,y[E+1]=R>>16&255,y[E+2]=R>>8&255,y[E+3]=R>>0&255}function Wt(y,E){return y[E+0]<<0|y[E+1]<<8}function xn(y,E){return Wt(y,E)|y[E+2]<<16}function Sn(y,E){return Wt(y,E)|Wt(y,E+2)<<16}function li(y,E){var R=1<<E;return t(null!=y),t(0<E),y.X=s(R),null==y.X?0:(y.Mb=32-E,y.Xa=E,1)}function wt(y,E){t(null!=y),t(null!=E),t(y.Xa==E.Xa),i(E.X,0,y.X,0,1<<E.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function Di(y,E,R,O){t(null!=R),t(null!=O);var H=R[0],W=O[0];return 0==H&&(H=(y*W+E/2)/E),0==W&&(W=(E*H+y/2)/y),0>=H||0>=W?0:(R[0]=H,O[0]=W,1)}function jn(y,E){return y+(1<<E)-1>>>E}function Yt(y,E){return((4278255360&y)+(4278255360&E)>>>0&4278255360)+((16711935&y)+(16711935&E)>>>0&16711935)>>>0}function cn(y,E){he[E]=function(R,O,H,W,Y,K,X){var oe;for(oe=0;oe<Y;++oe){var Ie=he[y](K[X+oe-1],H,W+oe);K[X+oe]=Yt(R[O+oe],Ie)}}}function vn(){this.ud=this.hd=this.jd=0}function mn(y,E){return((4278124286&(y^E))>>>1)+(y&E)>>>0}function Gn(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function wi(y,E){return Gn(y+(y-E+.5>>1))}function Ri(y,E,R){return Math.abs(E-R)-Math.abs(y-R)}function Ui(y,E,R,O,H,W,Y){for(O=W[Y-1],R=0;R<H;++R)W[Y+R]=O=Yt(y[E+R],O)}function tr(y,E,R,O,H){var W;for(W=0;W<R;++W){var Y=y[E+W],K=Y>>8&255,X=16711935&(X=(X=16711935&Y)+((K<<16)+K));O[H+W]=(4278255360&Y)+X>>>0}}function Ur(y,E){E.jd=y>>0&255,E.hd=y>>8&255,E.ud=y>>16&255}function di(y,E,R,O,H,W){var Y;for(Y=0;Y<O;++Y){var K=E[R+Y],X=K>>>8,oe=K,Ie=255&(Ie=(Ie=K>>>16)+((y.jd<<24>>24)*(X<<24>>24)>>>5));oe=255&(oe=(oe+=(y.hd<<24>>24)*(X<<24>>24)>>>5)+((y.ud<<24>>24)*(Ie<<24>>24)>>>5)),H[W+Y]=(4278255360&K)+(Ie<<16)+oe}}function Gi(y,E,R,O,H){he[E]=function(W,Y,K,X,oe,Ie,Qe,Xe,Oe){for(X=Qe;X<Xe;++X)for(Qe=0;Qe<Oe;++Qe)oe[Ie++]=H(K[O(W[Y++])])},he[y]=function(W,Y,K,X,oe,Ie,Qe){var Xe=8>>W.b,Oe=W.Ea,Nt=W.K[0],ft=W.w;if(8>Xe)for(W=(1<<W.b)-1,ft=(1<<Xe)-1;Y<K;++Y){var Ae,Re=0;for(Ae=0;Ae<Oe;++Ae)Ae&W||(Re=O(X[oe++])),Ie[Qe++]=H(Nt[Re&ft]),Re>>=Xe}else he["VP8LMapColor"+R](X,oe,Nt,ft,Ie,Qe,Y,K,Oe)}}function yn(y,E,R,O,H){for(R=E+R;E<R;){var W=y[E++];O[H++]=W>>16&255,O[H++]=W>>8&255,O[H++]=W>>0&255}}function Il(y,E,R,O,H){for(R=E+R;E<R;){var W=y[E++];O[H++]=W>>16&255,O[H++]=W>>8&255,O[H++]=W>>0&255,O[H++]=W>>24&255}}function cr(y,E,R,O,H){for(R=E+R;E<R;){var W=(Y=y[E++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;O[H++]=W,O[H++]=Y}}function Gh(y,E,R,O,H){for(R=E+R;E<R;){var W=(Y=y[E++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;O[H++]=W,O[H++]=Y}}function Zr(y,E,R,O,H){for(R=E+R;E<R;){var W=y[E++];O[H++]=W>>0&255,O[H++]=W>>8&255,O[H++]=W>>16&255}}function Ss(y,E,R,O,H,W){if(0==W)for(R=E+R;E<R;)Kt(O,((W=y[E++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),H+=32;else i(O,H,y,E,R)}function Bp(y,E){he[E][0]=he[y+"0"],he[E][1]=he[y+"1"],he[E][2]=he[y+"2"],he[E][3]=he[y+"3"],he[E][4]=he[y+"4"],he[E][5]=he[y+"5"],he[E][6]=he[y+"6"],he[E][7]=he[y+"7"],he[E][8]=he[y+"8"],he[E][9]=he[y+"9"],he[E][10]=he[y+"10"],he[E][11]=he[y+"11"],he[E][12]=he[y+"12"],he[E][13]=he[y+"13"],he[E][14]=he[y+"0"],he[E][15]=he[y+"0"]}function Cr(y){return y==h8||y==f8||y==NO||y==p8}function xw(){this.eb=[],this.size=this.A=this.fb=0}function no(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $h(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xw,this.f.kb=new no,this.sd=null}function e_(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function io(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xi(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Er(y,E){var R=y.T,O=E.ba.f.RGBA,H=O.eb,W=O.fb+y.ka*O.A,Y=jd[E.ba.S],K=y.y,X=y.O,oe=y.f,Ie=y.N,Qe=y.ea,Xe=y.W,Oe=E.cc,Nt=E.dc,ft=E.Mc,Ae=E.Nc,Re=y.ka,Tt=y.ka+y.T,Bt=y.U,kt=Bt+1>>1;for(0==Re?Y(K,X,null,null,oe,Ie,Qe,Xe,oe,Ie,Qe,Xe,H,W,null,null,Bt):(Y(E.ec,E.fc,K,X,Oe,Nt,ft,Ae,oe,Ie,Qe,Xe,H,W-O.A,H,W,Bt),++R);Re+2<Tt;Re+=2)Y(K,(X+=2*y.fa)-y.fa,K,X,Oe=oe,Nt=Ie,ft=Qe,Ae=Xe,oe,Ie+=y.Rc,Qe,Xe+=y.Rc,H,(W+=2*O.A)-O.A,H,W,Bt);return X+=y.fa,y.j+Tt<y.o?(i(E.ec,E.fc,K,X,Bt),i(E.cc,E.dc,oe,Ie,kt),i(E.Mc,E.Nc,Qe,Xe,kt),R--):1&Tt||Y(K,X,null,null,oe,Ie,Qe,Xe,oe,Ie,Qe,Xe,H,W+O.A,null,null,Bt),R}function Cw(y,E,R){var O=y.F,H=[y.J];if(null!=O){var W=y.U,Y=E.ba.S,K=Y==RO||Y==NO;E=E.ba.f.RGBA;var X=[0],oe=y.ka;X[0]=y.T,y.Kb&&(0==oe?--X[0]:(--oe,H[0]-=y.width),y.j+y.ka+y.T==y.o&&(X[0]=y.o-y.j-oe));var Ie=E.eb;y=SO(O,H[0],y.width,W,X,Ie,(oe=E.fb+oe*E.A)+(K?0:3),E.A),t(R==X),y&&Cr(Y)&&Oy(Ie,oe,K,W,X,E.A)}return 0}function Ja(y){var E=y.ma,R=E.ba.S,O=11>R,H=R==MO||R==kO||R==RO||R==d8||12==R||Cr(R);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!gT(E.Oa,y,H?11:12))return 0;if(H&&Cr(R)&&qt(),y.da)alert("todo:use_scaling");else{if(O){if(E.Ib=xi,y.Kb){if(E.memory=s(y.U+2*(R=y.U+1>>1)),null==E.memory)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+y.U,E.Mc=E.cc,E.Nc=E.dc+R,E.Ib=Er,qt()}}else alert("todo:EmitYUV");H&&(E.Jb=Cw,O&&ze())}if(O&&!BY){for(y=0;256>y;++y)Vfe[y]=89858*(y-128)+OO>>PO,Hfe[y]=-22014*(y-128)+OO,jfe[y]=-45773*(y-128),Ufe[y]=113618*(y-128)+OO>>PO;for(y=ET;y<_8;++y)zfe[y-ET]=Vu(E=76283*(y-16)+OO>>PO,255),qfe[y-ET]=Vu(E+8>>4,15);BY=1}return 1}function Vp(y){var E=y.ma,R=y.U,O=y.T;return t(!(1&y.ka)),0>=R||0>=O?0:(R=E.Ib(y,E),null!=E.Jb&&E.Jb(y,E,R),E.Dc+=R,1)}function Up(y){y.ma.memory=null}function ri(y,E,R,O){return 47!=ct(y,8)?0:(E[0]=ct(y,14)+1,R[0]=ct(y,14)+1,O[0]=ct(y,1),0!=ct(y,3)?0:!y.h)}function Wh(y,E){if(4>y)return y+1;var R=y-2>>1;return(2+(1&y)<<R)+ct(E,R)+1}function jp(y,E){return 120<E?E-120:1<=(R=((R=Ife[E-1])>>4)*y+(8-(15&R)))?R:1;var R}function $c(y,E,R){var O=ae(R),H=y[E+=255&O].g-8;return 0<H&&(Se(R,R.u+8),O=ae(R),E+=y[E].value,E+=O&(1<<H)-1),Se(R,R.u+y[E].g),y[E].value}function ha(y,E,R){return R.g+=y.g,R.value+=y.value<<E>>>0,t(8>=R.g),y.g}function qo(y,E,R){var O=y.xc;return t((E=0==O?0:y.vc[y.md*(R>>O)+(E>>O)])<y.Wb),y.Ya[E]}function Bu(y,E,R,O){var H=y.ab,W=y.c*E,Y=y.C;E=Y+E;var K=R,X=O;for(O=y.Ta,R=y.Ua;0<H--;){var oe=y.gc[H],Ie=Y,Qe=E,Xe=K,Oe=X,Nt=(X=O,K=R,oe.Ea);switch(t(Ie<Qe),t(Qe<=oe.nc),oe.hc){case 2:DO(Xe,Oe,(Qe-Ie)*Nt,X,K);break;case 0:var ft=Ie,Ae=Qe,Re=X,Tt=K,Bt=(pn=oe).Ea;0==ft&&(a8(Xe,Oe,null,null,1,Re,Tt),Ui(Xe,Oe+1,0,0,Bt-1,Re,Tt+1),Oe+=Bt,Tt+=Bt,++ft);for(var kt=1<<pn.b,In=kt-1,un=jn(Bt,pn.b),Xn=pn.K,pn=pn.w+(ft>>pn.b)*un;ft<Ae;){var fr=Xn,Mr=pn,nr=1;for(yT(Xe,Oe,Re,Tt-Bt,1,Re,Tt);nr<Bt;){var Zi=(nr&~In)+kt;Zi>Bt&&(Zi=Bt),(0,ky[fr[Mr++]>>8&15])(Xe,Oe+ +nr,Re,Tt+nr-Bt,Zi-nr,Re,Tt+nr),nr=Zi}Oe+=Bt,Tt+=Bt,++ft&In||(pn+=un)}Qe!=oe.nc&&i(X,K-Nt,X,K+(Qe-Ie-1)*Nt,Nt);break;case 1:for(Nt=Xe,Ae=Oe,Bt=(Xe=oe.Ea)-(Tt=Xe&~(Re=(Oe=1<<oe.b)-1)),ft=jn(Xe,oe.b),kt=oe.K,oe=oe.w+(Ie>>oe.b)*ft;Ie<Qe;){for(In=kt,un=oe,Xn=new vn,pn=Ae+Tt,fr=Ae+Xe;Ae<pn;)Ur(In[un++],Xn),Bd(Xn,Nt,Ae,Oe,X,K),Ae+=Oe,K+=Oe;Ae<fr&&(Ur(In[un++],Xn),Bd(Xn,Nt,Ae,Bt,X,K),Ae+=Bt,K+=Bt),++Ie&Re||(oe+=ft)}break;case 3:if(Xe==X&&Oe==K&&0<oe.b){for(Ae=X,Xe=Nt=K+(Qe-Ie)*Nt-(Tt=(Qe-Ie)*jn(oe.Ea,oe.b)),Oe=X,Re=K,ft=[],Tt=(Bt=Tt)-1;0<=Tt;--Tt)ft[Tt]=Oe[Re+Tt];for(Tt=Bt-1;0<=Tt;--Tt)Ae[Xe+Tt]=ft[Tt];ef(oe,Ie,Qe,X,Nt,X,K)}else ef(oe,Ie,Qe,Xe,Oe,X,K)}K=O,X=R}X!=R&&i(O,R,K,X,W)}function FE(y,E){var R=y.V,O=y.Ba+y.c*y.C,H=E-y.C;if(t(E<=y.l.o),t(16>=H),0<H){var W=y.l,Y=y.Ta,K=y.Ua,X=W.width;if(Bu(y,H,R,O),H=K=[K],t((R=y.C)<(O=E)),t(W.v<W.va),O>W.o&&(O=W.o),R<W.j){var oe=W.j-R;R=W.j,H[0]+=oe*X}if(R>=O?R=0:(H[0]+=4*W.v,W.ka=R-W.j,W.U=W.va-W.v,W.T=O-R,R=1),R){if(K=K[0],11>(R=y.ca).S){var Ie=R.f.RGBA,Qe=(O=R.S,H=W.U,W=W.T,oe=Ie.eb,Ie.A),Xe=W;for(Ie=Ie.fb+y.Ma*Ie.A;0<Xe--;){var Oe=Y,Nt=K,ft=H,Ae=oe,Re=Ie;switch(O){case TO:tf(Oe,Nt,ft,Ae,Re);break;case MO:Ry(Oe,Nt,ft,Ae,Re);break;case h8:Ry(Oe,Nt,ft,Ae,Re),Oy(Ae,Re,0,ft,1,0);break;case AY:nI(Oe,Nt,ft,Ae,Re);break;case kO:Ss(Oe,Nt,ft,Ae,Re,1);break;case f8:Ss(Oe,Nt,ft,Ae,Re,1),Oy(Ae,Re,0,ft,1,0);break;case RO:Ss(Oe,Nt,ft,Ae,Re,0);break;case NO:Ss(Oe,Nt,ft,Ae,Re,0),Oy(Ae,Re,1,ft,1,0);break;case d8:Gp(Oe,Nt,ft,Ae,Re);break;case p8:Gp(Oe,Nt,ft,Ae,Re),sI(Ae,Re,ft,1,0);break;case TY:s_(Oe,Nt,ft,Ae,Re);break;default:t(0)}K+=X,Ie+=Qe}y.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=R.height)}}y.C=E,t(y.C<=y.i)}function t_(y){var E;if(0<y.ua)return 0;for(E=0;E<y.Wb;++E){var R=y.Ya[E].G,O=y.Ya[E].H;if(0<R[1][O[1]+0].g||0<R[2][O[2]+0].g||0<R[3][O[3]+0].g)return 0}return 1}function Yh(y,E,R,O,H,W){if(0!=y.Z){var Y=y.qd,K=y.rd;for(t(null!=Ly[y.Z]);E<R;++E)Ly[y.Z](Y,K,O,H,O,H,W),Y=O,K=H,H+=W;y.qd=Y,y.rd=K}}function Zh(y,E){var R=y.l.ma,O=0==R.Z||1==R.Z?y.l.j:y.C;if(O=y.C<O?O:y.C,t(E<=y.l.o),E>O){var H=y.l.width,W=R.ca,Y=R.tb+H*O,K=y.V,X=y.Ba+y.c*O,oe=y.gc;t(1==y.ab),t(3==oe[0].hc),l8(oe[0],O,E,K,X,W,Y),Yh(R,O,E,W,Y,H)}y.C=y.Ma=E}function Kh(y,E,R,O,H,W,Y){var K=y.$/O,X=y.$%O,oe=y.m,Ie=y.s,Qe=R+y.$,Xe=Qe;H=R+O*H;var Oe=R+O*W,Nt=280+Ie.ua,ft=y.Pb?K:16777216,Ae=0<Ie.ua?Ie.Wa:null,Re=Ie.wc,Tt=Qe<Oe?qo(Ie,X,K):null;t(y.C<W),t(Oe<=H);var Bt=!1;e:for(;;){for(;Bt||Qe<Oe;){var kt=0;if(K>=ft){var In=Qe-R;t((ft=y).Pb),ft.wd=ft.m,ft.xd=In,0<ft.s.ua&&wt(ft.s.Wa,ft.s.vb),ft=K+Sfe}if(X&Re||(Tt=qo(Ie,X,K)),t(null!=Tt),Tt.Qb&&(E[Qe]=Tt.qb,Bt=!0),!Bt)if(Ve(oe),Tt.jc){In=E;var un=Qe,Xn=Tt.pd[ae(kt=oe)&Yc-1];t(Tt.jc),256>Xn.g?(Se(kt,kt.u+Xn.g),In[un]=Xn.value,kt=0):(Se(kt,kt.u+Xn.g-256),t(256<=Xn.value),kt=Xn.value),0==kt&&(Bt=!0)}else kt=$c(Tt.G[0],Tt.H[0],oe);if(oe.h)break;if(Bt||256>kt){if(!Bt)if(Tt.nd)E[Qe]=(Tt.qb|kt<<8)>>>0;else{if(Ve(oe),Bt=$c(Tt.G[1],Tt.H[1],oe),Ve(oe),In=$c(Tt.G[2],Tt.H[2],oe),un=$c(Tt.G[3],Tt.H[3],oe),oe.h)break;E[Qe]=(un<<24|Bt<<16|kt<<8|In)>>>0}if(Bt=!1,++Qe,++X>=O&&(X=0,++K,null!=Y&&K<=W&&!(K%16)&&Y(y,K),null!=Ae))for(;Xe<Qe;)kt=E[Xe++],Ae.X[(506832829*kt&4294967295)>>>Ae.Mb]=kt}else if(280>kt){if(kt=Wh(kt-256,oe),In=$c(Tt.G[4],Tt.H[4],oe),Ve(oe),In=jp(O,In=Wh(In,oe)),oe.h)break;if(Qe-R<In||H-Qe<kt)break e;for(un=0;un<kt;++un)E[Qe+un]=E[Qe+un-In];for(Qe+=kt,X+=kt;X>=O;)X-=O,++K,null!=Y&&K<=W&&!(K%16)&&Y(y,K);if(t(Qe<=H),X&Re&&(Tt=qo(Ie,X,K)),null!=Ae)for(;Xe<Qe;)kt=E[Xe++],Ae.X[(506832829*kt&4294967295)>>>Ae.Mb]=kt}else{if(!(kt<Nt))break e;for(Bt=kt-280,t(null!=Ae);Xe<Qe;)kt=E[Xe++],Ae.X[(506832829*kt&4294967295)>>>Ae.Mb]=kt;kt=Qe,t(!(Bt>>>(In=Ae).Xa)),E[kt]=In.X[Bt],Bt=!0}Bt||t(oe.h==le(oe))}if(y.Pb&&oe.h&&Qe<H)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&wt(y.s.vb,y.s.Wa);else{if(oe.h)break e;Y?.(y,K>W?W:K),y.a=0,y.$=Qe-R}return 1}return y.a=3,0}function Hp(y){t(null!=y),y.vc=null,y.yc=null,y.Ya=null;var E=y.Wa;null!=E&&(E.X=null),y.vb=null,t(null!=y)}function Ld(){var y=new o8;return null==y?null:(y.a=0,y.xb=RY,Bp("Predictor","VP8LPredictors"),Bp("Predictor","VP8LPredictors_C"),Bp("PredictorAdd","VP8LPredictorsAdd"),Bp("PredictorAdd","VP8LPredictorsAdd_C"),DO=tr,Bd=di,tf=yn,Ry=Il,Gp=cr,s_=Gh,nI=Zr,he.VP8LMapColor32b=bT,he.VP8LMapColor8b=c8,y)}function zp(y,E,R,O,H){var W=1,Y=[y],K=[E],X=O.m,oe=O.s,Ie=null,Qe=0;e:for(;;){if(R)for(;W&&ct(X,1);){var Xe=Y,Oe=K,Nt=O,ft=1,Ae=Nt.m,Re=Nt.gc[Nt.ab],Tt=ct(Ae,2);if(Nt.Oc&1<<Tt)W=0;else{switch(Nt.Oc|=1<<Tt,Re.hc=Tt,Re.Ea=Xe[0],Re.nc=Oe[0],Re.K=[null],++Nt.ab,t(4>=Nt.ab),Tt){case 0:case 1:Re.b=ct(Ae,3)+2,ft=zp(jn(Re.Ea,Re.b),jn(Re.nc,Re.b),0,Nt,Re.K),Re.K=Re.K[0];break;case 3:var Bt,kt=ct(Ae,8)+1,In=16<kt?0:4<kt?1:2<kt?2:3;if(Xe[0]=jn(Re.Ea,In),Re.b=In,Bt=ft=zp(kt,1,0,Nt,Re.K)){var un,Xn=kt,pn=Re,fr=1<<(8>>pn.b),Mr=s(fr);if(null==Mr)Bt=0;else{var nr=pn.K[0],Zi=pn.w;for(Mr[0]=pn.K[0][0],un=1;un<1*Xn;++un)Mr[un]=Yt(nr[Zi+un],Mr[un-1]);for(;un<4*fr;++un)Mr[un]=0;pn.K[0]=null,pn.K[0]=Mr,Bt=1}}ft=Bt;break;case 2:break;default:t(0)}W=ft}}if(Y=Y[0],K=K[0],W&&ct(X,1)&&!(W=1<=(Qe=ct(X,4))&&11>=Qe)){O.a=3;break e}var Kr;if(Kr=W)t:{var jr,ki,$o,Kc=O,Wo=Y,Qc=K,kr=Qe,ju=R,Hu=Kc.m,Va=Kc.s,el=[null],_c=1,Hd=0,$p=Dfe[kr];n:for(;;){if(ju&&ct(Hu,1)){var Ua=ct(Hu,3)+2,u_=jn(Wo,Ua),kw=jn(Qc,Ua),oI=u_*kw;if(!zp(u_,kw,0,Kc,el))break n;for(el=el[0],Va.xc=Ua,jr=0;jr<oI;++jr){var By=el[jr]>>8&65535;el[jr]=By,By>=_c&&(_c=By+1)}}if(Hu.h)break n;for(ki=0;5>ki;++ki){var so=MY[ki];!ki&&0<kr&&(so+=1<<kr),Hd<so&&(Hd=so)}var v8=a(_c*$p,ie),jY=_c,HY=a(jY,ye);if(null==HY)var LO=null;else t(65536>=jY),LO=HY;var IT=s(Hd);if(null==LO||null==IT||null==v8){Kc.a=1;break n}var BO=v8;for(jr=$o=0;jr<_c;++jr){var af=LO[jr],aI=af.G,lI=af.H,zY=0,VO=1,qY=0;for(ki=0;5>ki;++ki){so=MY[ki],aI[ki]=BO,lI[ki]=$o,!ki&&0<kr&&(so+=1<<kr);r:{var UO,y8=so,jO=Kc,DT=IT,Wfe=BO,Yfe=$o,b8=0,Vy=jO.m,Zfe=ct(Vy,1);if(r(DT,0,0,y8),Zfe){var Kfe=ct(Vy,1)+1,Qfe=ct(Vy,1),GY=ct(Vy,0==Qfe?1:8);DT[GY]=1,2==Kfe&&(DT[GY=ct(Vy,8)]=1);var HO=1}else{var $Y=s(19),WY=ct(Vy,4)+4;if(19<WY){jO.a=3;var zO=0;break r}for(UO=0;UO<WY;++UO)$Y[Efe[UO]]=ct(Vy,3);var w8=void 0,ST=void 0,YY=jO,Xfe=$Y,qO=y8,ZY=DT,x8=0,Uy=YY.m,KY=8,QY=a(128,ie);i:for(;re(QY,0,7,Xfe,19);){if(ct(Uy,1)){var Jfe=2+2*ct(Uy,3);if((w8=2+ct(Uy,Jfe))>qO)break i}else w8=qO;for(ST=0;ST<qO&&w8--;){Ve(Uy);var XY=QY[0+(127&ae(Uy))];Se(Uy,Uy.u+XY.g);var cI=XY.value;if(16>cI)ZY[ST++]=cI,0!=cI&&(KY=cI);else{var epe=16==cI,JY=cI-16,tpe=xfe[JY],eZ=ct(Uy,wfe[JY])+tpe;if(ST+eZ>qO)break i;for(var npe=epe?KY:0;0<eZ--;)ZY[ST++]=npe}}x8=1;break i}x8||(YY.a=3),HO=x8}(HO=HO&&!Vy.h)&&(b8=re(Wfe,Yfe,8,DT,y8)),HO&&0!=b8?zO=b8:(jO.a=3,zO=0)}if(0==zO)break n;if(VO&&1==Cfe[ki]&&(VO=0==BO[$o].g),zY+=BO[$o].g,$o+=zO,3>=ki){var AT,C8=IT[0];for(AT=1;AT<so;++AT)IT[AT]>C8&&(C8=IT[AT]);qY+=C8}}if(af.nd=VO,af.Qb=0,VO&&(af.qb=(aI[3][lI[3]+0].value<<24|aI[1][lI[1]+0].value<<16|aI[2][lI[2]+0].value)>>>0,0==zY&&256>aI[0][lI[0]+0].value&&(af.Qb=1,af.qb+=aI[0][lI[0]+0].value<<8)),af.jc=!af.Qb&&6>qY,af.jc){var GO,d_=af;for(GO=0;GO<Yc;++GO){var jy=GO,Hy=d_.pd[jy],$O=d_.G[0][d_.H[0]+jy];256<=$O.value?(Hy.g=$O.g+256,Hy.value=$O.value):(Hy.g=0,Hy.value=0,jy>>=ha($O,8,Hy),jy>>=ha(d_.G[1][d_.H[1]+jy],16,Hy),jy>>=ha(d_.G[2][d_.H[2]+jy],0,Hy),ha(d_.G[3][d_.H[3]+jy],24,Hy))}}}Va.vc=el,Va.Wb=_c,Va.Ya=LO,Va.yc=v8,Kr=1;break t}Kr=0}if(!(W=Kr)){O.a=3;break e}if(0<Qe){if(oe.ua=1<<Qe,!li(oe.Wa,Qe)){O.a=1,W=0;break e}}else oe.ua=0;var E8=O,tZ=Y,ipe=K,I8=E8.s,D8=I8.xc;if(E8.c=tZ,E8.i=ipe,I8.md=jn(tZ,D8),I8.wc=0==D8?-1:(1<<D8)-1,R){O.xb=Pfe;break e}if(null==(Ie=s(Y*K))){O.a=1,W=0;break e}W=(W=Kh(O,Ie,0,Y,K,K,null))&&!X.h;break e}return W?(null!=H?H[0]=Ie:(t(null==Ie),t(R)),O.$=0,R||Hp(oe)):Hp(oe),W}function Ew(y,E){var R=y.c*y.i,O=R+E+16*E;return t(y.c<=E),y.V=s(O),null==y.V?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+R+E,1)}function LE(y,E){var R=y.C,O=E-R,H=y.V,W=y.Ba+y.c*R;for(t(E<=y.l.o);0<O;){var Y=16<O?16:O,K=y.l.ma,X=y.l.width,oe=X*Y,Ie=K.ca,Qe=K.tb+X*R,Xe=y.Ta,Oe=y.Ua;Bu(y,Y,H,W),xY(Xe,Oe,Ie,Qe,oe),Yh(K,R,R+Y,Ie,Qe,X),O-=Y,H+=Y*y.c,R+=Y}t(R==E),y.C=y.Ma=E}function BE(){this.ub=this.yd=this.td=this.Rb=0}function VE(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function UE(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function oO(){var y;this.Yb=(function E(R,O,H){for(var W=H[O],Y=0;Y<W&&(R.push(H.length>O+1?[]:0),!(H.length<O+1));Y++)E(R[Y],O+1,H)}(y=[],0,[3,11]),y)}function LU(){this.jb=s(3),this.Wc=d([4,8],oO),this.Xc=d([4,17],oO)}function BU(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function jE(){this.ld=this.La=this.dd=this.tc=0}function aO(){this.Na=this.la=0}function VU(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function eT(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function UU(){this.uc=this.M=this.Nb=0,this.wa=Array(new jE),this.Y=0,this.ya=Array(new eT),this.aa=0,this.l=new HE}function lO(){this.y=s(16),this.f=s(8),this.ea=s(8)}function jU(){this.cb=this.a=0,this.sc="",this.m=new sn,this.Od=new BE,this.Kc=new VE,this.ed=new BU,this.Qa=new UE,this.Ic=this.$c=this.Aa=0,this.D=new UU,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,sn),this.ia=0,this.pb=a(4,VU),this.Pa=new LU,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new lO),this.Hd=0,this.rb=Array(new aO),this.sb=0,this.wa=Array(new jE),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new eT),this.L=this.aa=0,this.gd=d([4,2],jE),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function HE(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function HU(){var y=new jU;return null!=y&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,CT||(CT=dO)),y}function bo(y,E,R){return 0==y.a&&(y.a=E,y.sc=R,y.cb=0),0}function cO(y,E,R){return 3<=R&&157==y[E+0]&&1==y[E+1]&&42==y[E+2]}function uO(y,E){if(null==y)return 0;if(y.a=0,y.sc="OK",null==E)return bo(y,2,"null VP8Io passed to VP8GetHeaders()");var R=E.data,O=E.w,H=E.ha;if(4>H)return bo(y,7,"Truncated header.");var W=R[O+0]|R[O+1]<<8|R[O+2]<<16,Y=y.Od;if(Y.Rb=!(1&W),Y.td=W>>1&7,Y.yd=W>>4&1,Y.ub=W>>5,3<Y.td)return bo(y,3,"Incorrect keyframe parameters.");if(!Y.yd)return bo(y,4,"Frame not displayable.");O+=3,H-=3;var K=y.Kc;if(Y.Rb){if(7>H)return bo(y,7,"cannot parse picture header");if(!cO(R,O,H))return bo(y,3,"Bad code word");K.c=16383&(R[O+4]<<8|R[O+3]),K.Td=R[O+4]>>6,K.i=16383&(R[O+6]<<8|R[O+5]),K.Ud=R[O+6]>>6,O+=7,H-=7,y.za=K.c+15>>4,y.Ub=K.i+15>>4,E.width=K.c,E.height=K.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,r((W=y.Pa).jb,0,255,W.jb.length),t(null!=(W=y.Qa)),W.Cb=0,W.Bb=0,W.Fb=1,r(W.Zb,0,0,W.Zb.length),r(W.Lb,0,0,W.Lb)}if(Y.ub>H)return bo(y,7,"bad partition length");ht(W=y.m,R,O,Y.ub),O+=Y.ub,H-=Y.ub,Y.Rb&&(K.Ld=tt(W),K.Kd=tt(W)),K=y.Qa;var X,oe=y.Pa;if(t(null!=W),t(null!=K),K.Cb=tt(W),K.Cb){if(K.Bb=tt(W),tt(W)){for(K.Fb=tt(W),X=0;4>X;++X)K.Zb[X]=tt(W)?Le(W,7):0;for(X=0;4>X;++X)K.Lb[X]=tt(W)?Le(W,6):0}if(K.Bb)for(X=0;3>X;++X)oe.jb[X]=tt(W)?Ee(W,8):255}else K.Bb=0;if(W.Ka)return bo(y,3,"cannot parse segment header");if((K=y.ed).zd=tt(W),K.Tb=Ee(W,6),K.wb=Ee(W,3),K.Pc=tt(W),K.Pc&&tt(W)){for(oe=0;4>oe;++oe)tt(W)&&(K.vd[oe]=Le(W,6));for(oe=0;4>oe;++oe)tt(W)&&(K.od[oe]=Le(W,6))}if(y.L=0==K.Tb?0:K.zd?1:2,W.Ka)return bo(y,3,"cannot parse filter header");var Ie=H;if(H=X=O,O=X+Ie,K=Ie,y.Xb=(1<<Ee(y.m,2))-1,Ie<3*(oe=y.Xb))R=7;else{for(X+=3*oe,K-=3*oe,Ie=0;Ie<oe;++Ie){var Qe=R[H+0]|R[H+1]<<8|R[H+2]<<16;Qe>K&&(Qe=K),ht(y.Jc[+Ie],R,X,Qe),X+=Qe,K-=Qe,H+=3}ht(y.Jc[+oe],R,X,K),R=X<O?0:5}if(0!=R)return bo(y,R,"cannot parse partitions");for(R=Ee(X=y.m,7),H=tt(X)?Le(X,4):0,O=tt(X)?Le(X,4):0,K=tt(X)?Le(X,4):0,oe=tt(X)?Le(X,4):0,X=tt(X)?Le(X,4):0,Ie=y.Qa,Qe=0;4>Qe;++Qe){if(Ie.Cb){var Xe=Ie.Zb[Qe];Ie.Fb||(Xe+=R)}else{if(0<Qe){y.pb[Qe]=y.pb[0];continue}Xe=R}var Oe=y.pb[Qe];Oe.Sc[0]=m8[Vu(Xe+H,127)],Oe.Sc[1]=g8[Vu(Xe+0,127)],Oe.Eb[0]=2*m8[Vu(Xe+O,127)],Oe.Eb[1]=101581*g8[Vu(Xe+K,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=m8[Vu(Xe+oe,117)],Oe.Qc[1]=g8[Vu(Xe+X,127)],Oe.lc=Xe+X}if(!Y.Rb)return bo(y,4,"Not a key frame.");for(tt(W),Y=y.Pa,R=0;4>R;++R){for(H=0;8>H;++H)for(O=0;3>O;++O)for(K=0;11>K;++K)oe=et(W,Rfe[R][H][O][K])?Ee(W,8):Mfe[R][H][O][K],Y.Wc[R][H].Yb[O][K]=oe;for(H=0;17>H;++H)Y.Xc[R][H]=Y.Wc[R][Nfe[H]]}return y.kc=tt(W),y.kc&&(y.Bd=Ee(W,8)),y.cb=1}function dO(y,E,R,O,H,W,Y){var K=E[H].Yb[R];for(R=0;16>H;++H){if(!et(y,K[R+0]))return H;for(;!et(y,K[R+1]);)if(K=E[++H].Yb[0],R=0,16==H)return 16;var X=E[H+1].Yb;if(et(y,K[R+2])){var oe=y,Ie=0;if(et(oe,(Xe=K)[(Qe=R)+3]))if(et(oe,Xe[Qe+6])){for(K=0,Qe=2*(Ie=et(oe,Xe[Qe+8]))+(Xe=et(oe,Xe[Qe+9+Ie])),Ie=0,Xe=Afe[Qe];Xe[K];++K)Ie+=Ie+et(oe,Xe[K]);Ie+=3+(8<<Qe)}else et(oe,Xe[Qe+7])?(Ie=7+2*et(oe,165),Ie+=et(oe,145)):Ie=5+et(oe,159);else Ie=et(oe,Xe[Qe+4])?3+et(oe,Xe[Qe+5]):2;K=X[2]}else Ie=1,K=X[1];X=Y+Tfe[H],0>(oe=y).b&&Ge(oe);var Qe,Xe=oe.b,Oe=(Qe=oe.Ca>>1)-(oe.I>>Xe)>>31;--oe.b,oe.Ca+=Oe,oe.Ca|=1,oe.I-=(Qe+1&Oe)<<Xe,W[X]=((Ie^Oe)-Oe)*O[(0<H)+0]}return 16}function tT(y){var E=y.rb[y.sb-1];E.la=0,E.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function Qh(y,E,R,O,H){y[E+R+32*O]=-256&(H=y[E+R+32*O]+(H>>3))?0>H?0:255:H}function zE(y,E,R,O,H,W){Qh(y,E,0,R,O+H),Qh(y,E,1,R,O+W),Qh(y,E,2,R,O-W),Qh(y,E,3,R,O-H)}function Wc(y){return(20091*y>>16)+y}function nT(y,E,R,O){var H,W=0,Y=s(16);for(H=0;4>H;++H){var K=y[E+0]+y[E+8],X=y[E+0]-y[E+8],oe=(35468*y[E+4]>>16)-Wc(y[E+12]),Ie=Wc(y[E+4])+(35468*y[E+12]>>16);Y[W+0]=K+Ie,Y[W+1]=X+oe,Y[W+2]=X-oe,Y[W+3]=K-Ie,W+=4,E++}for(H=W=0;4>H;++H)K=(y=Y[W+0]+4)+Y[W+8],X=y-Y[W+8],oe=(35468*Y[W+4]>>16)-Wc(Y[W+12]),Qh(R,O,0,0,K+(Ie=Wc(Y[W+4])+(35468*Y[W+12]>>16))),Qh(R,O,1,0,X+oe),Qh(R,O,2,0,X-oe),Qh(R,O,3,0,K-Ie),W++,O+=32}function hO(y,E,R,O){var H=y[E+0]+4,W=35468*y[E+4]>>16,Y=Wc(y[E+4]),K=35468*y[E+1]>>16;zE(R,O,0,H+Y,y=Wc(y[E+1]),K),zE(R,O,1,H+W,y,K),zE(R,O,2,H-W,y,K),zE(R,O,3,H-Y,y,K)}function qU(y,E,R,O,H){nT(y,E,R,O),H&&nT(y,E+16,R,O+4)}function fO(y,E,R,O){iI(y,E+0,R,O,1),iI(y,E+32,R,O+128,1)}function GU(y,E,R,O){var H;for(y=y[E+0]+4,H=0;4>H;++H)for(E=0;4>E;++E)Qh(R,O,E,H,y)}function pO(y,E,R,O){y[E+0]&&rf(y,E+0,R,O),y[E+16]&&rf(y,E+16,R,O+4),y[E+32]&&rf(y,E+32,R,O+128),y[E+48]&&rf(y,E+48,R,O+128+4)}function $U(y,E,R,O){var H,W=s(16);for(H=0;4>H;++H){var Y=y[E+0+H]+y[E+12+H],K=y[E+4+H]+y[E+8+H],X=y[E+4+H]-y[E+8+H],oe=y[E+0+H]-y[E+12+H];W[0+H]=Y+K,W[8+H]=Y-K,W[4+H]=oe+X,W[12+H]=oe-X}for(H=0;4>H;++H)Y=(y=W[0+4*H]+3)+W[3+4*H],X=W[1+4*H]-W[2+4*H],oe=y-W[3+4*H],R[O+0]=Y+(K=W[1+4*H]+W[2+4*H])>>3,R[O+16]=oe+X>>3,R[O+32]=Y-K>>3,R[O+48]=oe-X>>3,O+=64}function iT(y,E,R){var O,H=E-32,W=Uu,Y=255-y[H-1];for(O=0;O<R;++O){var K,X=W,oe=Y+y[E-1];for(K=0;K<R;++K)y[E+K]=X[oe+y[H+K]];E+=32}}function WU(y,E){iT(y,E,4)}function YU(y,E){iT(y,E,8)}function ZU(y,E){iT(y,E,16)}function n_(y,E){var R;for(R=0;16>R;++R)i(y,E+32*R,y,E-32,16)}function qE(y,E){var R;for(R=16;0<R;--R)r(y,E,y[E-1],16),E+=32}function GE(y,E,R){var O;for(O=0;16>O;++O)r(E,R+32*O,y,16)}function mO(y,E){var R,O=16;for(R=0;16>R;++R)O+=y[E-1+32*R]+y[E+R-32];GE(O>>5,y,E)}function Dl(y,E){var R,O=8;for(R=0;16>R;++R)O+=y[E-1+32*R];GE(O>>4,y,E)}function KU(y,E){var R,O=8;for(R=0;16>R;++R)O+=y[E+R-32];GE(O>>4,y,E)}function gO(y,E){GE(128,y,E)}function _i(y,E,R){return y+2*E+R+2>>2}function QU(y,E){var R,O=E-32;for(O=new Uint8Array([_i(y[O-1],y[O+0],y[O+1]),_i(y[O+0],y[O+1],y[O+2]),_i(y[O+1],y[O+2],y[O+3]),_i(y[O+2],y[O+3],y[O+4])]),R=0;4>R;++R)i(y,E+32*R,O,0,O.length)}function XU(y,E){var R=y[E-1],O=y[E-1+32],H=y[E-1+64],W=y[E-1+96];Kt(y,E+0,16843009*_i(y[E-1-32],R,O)),Kt(y,E+32,16843009*_i(R,O,H)),Kt(y,E+64,16843009*_i(O,H,W)),Kt(y,E+96,16843009*_i(H,W,W))}function qp(y,E){var R,O=4;for(R=0;4>R;++R)O+=y[E+R-32]+y[E-1+32*R];for(O>>=3,R=0;4>R;++R)r(y,E+32*R,O,4)}function _O(y,E){var R=y[E-1+0],O=y[E-1+32],H=y[E-1+64],W=y[E-1-32],Y=y[E+0-32],K=y[E+1-32],X=y[E+2-32],oe=y[E+3-32];y[E+0+96]=_i(O,H,y[E-1+96]),y[E+1+96]=y[E+0+64]=_i(R,O,H),y[E+2+96]=y[E+1+64]=y[E+0+32]=_i(W,R,O),y[E+3+96]=y[E+2+64]=y[E+1+32]=y[E+0+0]=_i(Y,W,R),y[E+3+64]=y[E+2+32]=y[E+1+0]=_i(K,Y,W),y[E+3+32]=y[E+2+0]=_i(X,K,Y),y[E+3+0]=_i(oe,X,K)}function vO(y,E){var R=y[E+1-32],O=y[E+2-32],H=y[E+3-32],W=y[E+4-32],Y=y[E+5-32],K=y[E+6-32],X=y[E+7-32];y[E+0+0]=_i(y[E+0-32],R,O),y[E+1+0]=y[E+0+32]=_i(R,O,H),y[E+2+0]=y[E+1+32]=y[E+0+64]=_i(O,H,W),y[E+3+0]=y[E+2+32]=y[E+1+64]=y[E+0+96]=_i(H,W,Y),y[E+3+32]=y[E+2+64]=y[E+1+96]=_i(W,Y,K),y[E+3+64]=y[E+2+96]=_i(Y,K,X),y[E+3+96]=_i(K,X,X)}function $E(y,E){var R=y[E-1+0],O=y[E-1+32],H=y[E-1+64],W=y[E-1-32],Y=y[E+0-32],K=y[E+1-32],X=y[E+2-32],oe=y[E+3-32];y[E+0+0]=y[E+1+64]=W+Y+1>>1,y[E+1+0]=y[E+2+64]=Y+K+1>>1,y[E+2+0]=y[E+3+64]=K+X+1>>1,y[E+3+0]=X+oe+1>>1,y[E+0+96]=_i(H,O,R),y[E+0+64]=_i(O,R,W),y[E+0+32]=y[E+1+96]=_i(R,W,Y),y[E+1+32]=y[E+2+96]=_i(W,Y,K),y[E+2+32]=y[E+3+96]=_i(Y,K,X),y[E+3+32]=_i(K,X,oe)}function rT(y,E){var R=y[E+0-32],O=y[E+1-32],H=y[E+2-32],W=y[E+3-32],Y=y[E+4-32],K=y[E+5-32],X=y[E+6-32],oe=y[E+7-32];y[E+0+0]=R+O+1>>1,y[E+1+0]=y[E+0+64]=O+H+1>>1,y[E+2+0]=y[E+1+64]=H+W+1>>1,y[E+3+0]=y[E+2+64]=W+Y+1>>1,y[E+0+32]=_i(R,O,H),y[E+1+32]=y[E+0+96]=_i(O,H,W),y[E+2+32]=y[E+1+96]=_i(H,W,Y),y[E+3+32]=y[E+2+96]=_i(W,Y,K),y[E+3+64]=_i(Y,K,X),y[E+3+96]=_i(K,X,oe)}function JU(y,E){var R=y[E-1+0],O=y[E-1+32],H=y[E-1+64],W=y[E-1+96];y[E+0+0]=R+O+1>>1,y[E+2+0]=y[E+0+32]=O+H+1>>1,y[E+2+32]=y[E+0+64]=H+W+1>>1,y[E+1+0]=_i(R,O,H),y[E+3+0]=y[E+1+32]=_i(O,H,W),y[E+3+32]=y[E+1+64]=_i(H,W,W),y[E+3+64]=y[E+2+64]=y[E+0+96]=y[E+1+96]=y[E+2+96]=y[E+3+96]=W}function e8(y,E){var R=y[E-1+0],O=y[E-1+32],H=y[E-1+64],W=y[E-1+96],Y=y[E-1-32],K=y[E+0-32],X=y[E+1-32],oe=y[E+2-32];y[E+0+0]=y[E+2+32]=R+Y+1>>1,y[E+0+32]=y[E+2+64]=O+R+1>>1,y[E+0+64]=y[E+2+96]=H+O+1>>1,y[E+0+96]=W+H+1>>1,y[E+3+0]=_i(K,X,oe),y[E+2+0]=_i(Y,K,X),y[E+1+0]=y[E+3+32]=_i(R,Y,K),y[E+1+32]=y[E+3+64]=_i(O,R,Y),y[E+1+64]=y[E+3+96]=_i(H,O,R),y[E+1+96]=_i(W,H,O)}function t8(y,E){var R;for(R=0;8>R;++R)i(y,E+32*R,y,E-32,8)}function sT(y,E){var R;for(R=0;8>R;++R)r(y,E,y[E-1],8),E+=32}function Iw(y,E,R){var O;for(O=0;8>O;++O)r(E,R+32*O,y,8)}function Sy(y,E){var R,O=8;for(R=0;8>R;++R)O+=y[E+R-32]+y[E-1+32*R];Iw(O>>4,y,E)}function n8(y,E){var R,O=4;for(R=0;8>R;++R)O+=y[E+R-32];Iw(O>>3,y,E)}function Dw(y,E){var R,O=4;for(R=0;8>R;++R)O+=y[E-1+32*R];Iw(O>>3,y,E)}function oT(y,E){Iw(128,y,E)}function WE(y,E,R){var O=y[E-R],H=y[E+0],W=3*(H-O)+u8[1020+y[E-2*R]-y[E+R]],Y=AO[112+(W+4>>3)];y[E-R]=Uu[255+O+AO[112+(W+3>>3)]],y[E+0]=Uu[255+H-Y]}function yO(y,E,R,O){return Ud[255+y[E-2*R]-y[E-R]]>O||Ud[255+y[E+R]-y[E+0]]>O}function bO(y,E,R,O){return 4*Ud[255+y[E-R]-y[E+0]]+Ud[255+y[E-2*R]-y[E+R]]<=O}function wO(y,E,R,O,H){var W=y[E-3*R],Y=y[E-2*R],K=y[E-R],X=y[E+0],oe=y[E+R],Ie=y[E+2*R];return 4*Ud[255+K-X]+Ud[255+Y-oe]>O?0:Ud[255+y[E-4*R]-W]<=H&&Ud[255+W-Y]<=H&&Ud[255+Y-K]<=H&&Ud[255+y[E+3*R]-Ie]<=H&&Ud[255+Ie-oe]<=H&&Ud[255+oe-X]<=H}function xO(y,E,R,O){var H=2*O+1;for(O=0;16>O;++O)bO(y,E+O,R,H)&&WE(y,E+O,R)}function i_(y,E,R,O){var H=2*O+1;for(O=0;16>O;++O)bO(y,E+O*R,1,H)&&WE(y,E+O*R,1)}function Ay(y,E,R,O){var H;for(H=3;0<H;--H)xO(y,E+=4*R,R,O)}function i8(y,E,R,O){var H;for(H=3;0<H;--H)i_(y,E+=4,R,O)}function Ty(y,E,R,O,H,W,Y,K){for(W=2*W+1;0<H--;){if(wO(y,E,R,W,Y))if(yO(y,E,R,K))WE(y,E,R);else{var X=y,oe=E,Ie=R,Qe=X[oe-2*Ie],Xe=X[oe-Ie],Oe=X[oe+0],Nt=X[oe+Ie],ft=X[oe+2*Ie],Ae=27*(Tt=u8[1020+3*(Oe-Xe)+u8[1020+Qe-Nt]])+63>>7,Re=18*Tt+63>>7,Tt=9*Tt+63>>7;X[oe-3*Ie]=Uu[255+X[oe-3*Ie]+Tt],X[oe-2*Ie]=Uu[255+Qe+Re],X[oe-Ie]=Uu[255+Xe+Ae],X[oe+0]=Uu[255+Oe-Ae],X[oe+Ie]=Uu[255+Nt-Re],X[oe+2*Ie]=Uu[255+ft-Tt]}E+=O}}function Xh(y,E,R,O,H,W,Y,K){for(W=2*W+1;0<H--;){if(wO(y,E,R,W,Y))if(yO(y,E,R,K))WE(y,E,R);else{var X=y,oe=E,Ie=R,Qe=X[oe-Ie],Xe=X[oe+0],Oe=X[oe+Ie],Nt=AO[112+(4+(ft=3*(Xe-Qe))>>3)],ft=AO[112+(ft+3>>3)],Ae=Nt+1>>1;X[oe-2*Ie]=Uu[255+X[oe-2*Ie]+Ae],X[oe-Ie]=Uu[255+Qe+ft],X[oe+0]=Uu[255+Xe-Nt],X[oe+Ie]=Uu[255+Oe-Ae]}E+=O}}function aT(y,E,R,O,H,W){Ty(y,E,R,1,16,O,H,W)}function Sw(y,E,R,O,H,W){Ty(y,E,1,R,16,O,H,W)}function r8(y,E,R,O,H,W){var Y;for(Y=3;0<Y;--Y)Xh(y,E+=4*R,R,1,16,O,H,W)}function YE(y,E,R,O,H,W){var Y;for(Y=3;0<Y;--Y)Xh(y,E+=4,1,R,16,O,H,W)}function s8(y,E,R,O,H,W,Y,K){Ty(y,E,H,1,8,W,Y,K),Ty(R,O,H,1,8,W,Y,K)}function lT(y,E,R,O,H,W,Y,K){Ty(y,E,1,H,8,W,Y,K),Ty(R,O,1,H,8,W,Y,K)}function cT(y,E,R,O,H,W,Y,K){Xh(y,E+4*H,H,1,8,W,Y,K),Xh(R,O+4*H,H,1,8,W,Y,K)}function CO(y,E,R,O,H,W,Y,K){Xh(y,E+4,1,H,8,W,Y,K),Xh(R,O+4,1,H,8,W,Y,K)}function ZE(){this.ba=new $h,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new io,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function uT(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dT(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function EO(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ye,this.yc=new ie}function o8(){this.xb=this.a=0,this.l=new HE,this.ca=new $h,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new EO,this.ab=0,this.gc=a(4,dT),this.Oc=0}function KE(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new HE,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Aw(y,E,R,O,H,W,Y){for(y=null==y?0:y[E+0],E=0;E<Y;++E)H[W+E]=y+R[O+E]&255,y=H[W+E]}function hT(y,E,R,O,H,W,Y){var K;if(null==y)Aw(null,null,R,O,H,W,Y);else for(K=0;K<Y;++K)H[W+K]=y[E+K]+R[O+K]&255}function My(y,E,R,O,H,W,Y){if(null==y)Aw(null,null,R,O,H,W,Y);else{var K,X=y[E+0],oe=X,Ie=X;for(K=0;K<Y;++K)oe=Ie+(X=y[E+K])-oe,Ie=R[O+K]+(-256&oe?0>oe?0:255:oe)&255,oe=X,H[W+K]=Ie}}function fT(y,E,R,O){var H=E.width,W=E.o;if(t(null!=y&&null!=E),0>R||0>=O||R+O>W)return null;if(!y.Cc){if(null==y.ga){var Y;if(y.ga=new KE,(Y=null==y.ga)||(Y=E.width*E.o,t(0==y.Gb.length),y.Gb=s(Y),y.Uc=0,null==y.Gb?Y=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Y=1),Y=!Y),!Y){var K=y.Fa,X=y.P,oe=y.qc,Ie=y.mb,Qe=y.nb,Xe=X+1,Oe=oe-1,Nt=(Y=y.ga).l;if(t(null!=K&&null!=Ie&&null!=E),Ly[0]=null,Ly[1]=Aw,Ly[2]=hT,Ly[3]=My,Y.ca=Ie,Y.tb=Qe,Y.c=E.width,Y.i=E.height,t(0<Y.c&&0<Y.i),1>=oe)E=0;else if(Y.$a=K[X+0]>>0&3,Y.Z=K[X+0]>>2&3,Y.Lc=K[X+0]>>4&3,X=K[X+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||X)E=0;else if(Nt.put=Vp,Nt.ac=Ja,Nt.bc=Up,Nt.ma=Y,Nt.width=E.width,Nt.height=E.height,Nt.Da=E.Da,Nt.v=E.v,Nt.va=E.va,Nt.j=E.j,Nt.o=E.o,Y.$a)e:{t(1==Y.$a),E=Ld();t:for(;;){if(null==E){E=0;break e}if(t(null!=Y),Y.mc=E,E.c=Y.c,E.i=Y.i,E.l=Y.l,E.l.ma=Y,E.l.width=Y.c,E.l.height=Y.i,E.a=0,De(E.m,K,Xe,Oe),!zp(Y.c,Y.i,1,E,null)||(1==E.ab&&3==E.gc[0].hc&&t_(E.s)?(Y.ic=1,K=E.c*E.i,E.Ta=null,E.Ua=0,E.V=s(K),E.Ba=0,null==E.V?(E.a=1,E=0):E=1):(Y.ic=0,E=Ew(E,Y.c)),!E))break t;E=1;break e}Y.mc=null,E=0}else E=Oe>=Y.c*Y.i;Y=!E}if(Y)return null;1!=y.ga.Lc?y.Ga=0:O=W-R}t(null!=y.ga),t(R+O<=W);e:{if(E=(K=y.ga).c,W=K.l.o,0==K.$a){if(Xe=y.rc,Oe=y.Vc,Nt=y.Fa,oe=y.mb,Ie=y.nb+R*E,t((X=y.P+1+R*E)<=y.P+y.qc),0!=K.Z)for(t(null!=Ly[K.Z]),Y=0;Y<O;++Y)Ly[K.Z](Xe,Oe,Nt,X,oe,Ie,E),Xe=oe,Oe=Ie,Ie+=E,X+=E;else for(Y=0;Y<O;++Y)i(oe,Ie,Nt,X,E),Xe=oe,Oe=Ie,Ie+=E,X+=E;y.rc=Xe,y.Vc=Oe}else{if(t(null!=K.mc),E=R+O,t(null!=(Y=K.mc)),t(E<=Y.i),Y.C>=E)E=1;else if(K.ic||ze(),K.ic){K=Y.V,Xe=Y.Ba;var ft=Y.i,Ae=(Nt=1,X=Y.$/(Oe=Y.c),oe=Y.$%Oe,Ie=Y.m,Qe=Y.s,Y.$),Re=Oe*ft,Tt=Oe*E,Bt=Qe.wc,kt=Ae<Tt?qo(Qe,oe,X):null;t(Ae<=Re),t(E<=ft),t(t_(Qe));t:for(;;){for(;!Ie.h&&Ae<Tt;){if(oe&Bt||(kt=qo(Qe,oe,X)),t(null!=kt),Ve(Ie),256>(ft=$c(kt.G[0],kt.H[0],Ie)))K[Xe+Ae]=ft,++Ae,++oe>=Oe&&(oe=0,++X<=E&&!(X%16)&&Zh(Y,X));else{if(!(280>ft)){Nt=0;break t}ft=Wh(ft-256,Ie);var In,un=$c(kt.G[4],kt.H[4],Ie);if(Ve(Ie),!(Ae>=(un=jp(Oe,un=Wh(un,Ie)))&&Re-Ae>=ft)){Nt=0;break t}for(In=0;In<ft;++In)K[Xe+Ae+In]=K[Xe+Ae+In-un];for(Ae+=ft,oe+=ft;oe>=Oe;)oe-=Oe,++X<=E&&!(X%16)&&Zh(Y,X);Ae<Tt&&oe&Bt&&(kt=qo(Qe,oe,X))}t(Ie.h==le(Ie))}Zh(Y,X>E?E:X);break t}!Nt||Ie.h&&Ae<Re?(Nt=0,Y.a=Ie.h?5:3):Y.$=Ae,E=Nt}else E=Kh(Y,Y.V,Y.Ba,Y.c,Y.i,E,LE);if(!E){O=0;break e}}R+O>=W&&(y.Cc=1),O=1}if(!O)return null;if(y.Cc&&(null!=(O=y.ga)&&(O.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+R*H}function T(y,E,R,O,H,W){for(;0<H--;){var Y,K=y,X=E+(R?1:0),oe=y,Ie=E+(R?0:3);for(Y=0;Y<O;++Y){var Qe=oe[Ie+4*Y];255!=Qe&&(K[X+4*Y+0]=K[X+4*Y+0]*(Qe*=32897)>>23,K[X+4*Y+1]=K[X+4*Y+1]*Qe>>23,K[X+4*Y+2]=K[X+4*Y+2]*Qe>>23)}E+=W}}function z(y,E,R,O,H){for(;0<O--;){var W;for(W=0;W<R;++W){var Y=y[E+2*W+0],K=15&(oe=y[E+2*W+1]),X=4369*K,oe=(240&oe|oe>>4)*X>>16;y[E+2*W+0]=(240&Y|Y>>4)*X>>16&240|(15&Y|Y<<4)*X>>16>>4&15,y[E+2*W+1]=240&oe|K}E+=H}}function ce(y,E,R,O,H,W,Y,K){var X,oe,Ie=255;for(oe=0;oe<H;++oe){for(X=0;X<O;++X){var Qe=y[E+X];W[Y+4*X]=Qe,Ie&=Qe}E+=R,Y+=K}return 255!=Ie}function xe(y,E,R,O,H){var W;for(W=0;W<H;++W)R[O+W]=y[E+W]>>8}function ze(){Oy=T,sI=z,SO=ce,xY=xe}function vt(y,E,R){he[y]=function(O,H,W,Y,K,X,oe,Ie,Qe,Xe,Oe,Nt,ft,Ae,Re,Tt,Bt){var kt,In=Bt-1>>1,un=K[X+0]|oe[Ie+0]<<16,Xn=Qe[Xe+0]|Oe[Nt+0]<<16;t(null!=O);var pn=3*un+Xn+131074>>2;for(E(O[H+0],255&pn,pn>>16,ft,Ae),null!=W&&E(W[Y+0],255&(pn=3*Xn+un+131074>>2),pn>>16,Re,Tt),kt=1;kt<=In;++kt){var fr=K[X+kt]|oe[Ie+kt]<<16,Mr=Qe[Xe+kt]|Oe[Nt+kt]<<16,nr=un+fr+Xn+Mr+524296,Zi=nr+2*(fr+Xn)>>3;pn=Zi+un>>1,un=(nr=nr+2*(un+Mr)>>3)+fr>>1,E(O[H+2*kt-1],255&pn,pn>>16,ft,Ae+(2*kt-1)*R),E(O[H+2*kt-0],255&un,un>>16,ft,Ae+(2*kt-0)*R),null!=W&&(un=Zi+Mr>>1,E(W[Y+2*kt-1],255&(pn=nr+Xn>>1),pn>>16,Re,Tt+(2*kt-1)*R),E(W[Y+2*kt+0],255&un,un>>16,Re,Tt+(2*kt+0)*R)),un=fr,Xn=Mr}1&Bt||(E(O[H+Bt-1],255&(pn=3*un+Xn+131074>>2),pn>>16,ft,Ae+(Bt-1)*R),null!=W&&E(W[Y+Bt-1],255&(pn=3*Xn+un+131074>>2),pn>>16,Re,Tt+(Bt-1)*R))}}function qt(){jd[TO]=Ofe,jd[MO]=NY,jd[AY]=Ffe,jd[kO]=PY,jd[RO]=OY,jd[d8]=FY,jd[TY]=Lfe,jd[h8]=NY,jd[f8]=PY,jd[NO]=OY,jd[p8]=FY}function Cn(y){return y&~Bfe?0>y?0:255:y>>LY}function Wn(y,E){return Cn((19077*y>>8)+(26149*E>>8)-14234)}function Si(y,E,R){return Cn((19077*y>>8)-(6419*E>>8)-(13320*R>>8)+8708)}function Fi(y,E){return Cn((19077*y>>8)+(33050*E>>8)-17685)}function Xi(y,E,R,O,H){O[H+0]=Wn(y,R),O[H+1]=Si(y,E,R),O[H+2]=Fi(y,E)}function js(y,E,R,O,H){O[H+0]=Fi(y,E),O[H+1]=Si(y,E,R),O[H+2]=Wn(y,R)}function ro(y,E,R,O,H){var W=Si(y,E,R);E=W<<3&224|Fi(y,E)>>3,O[H+0]=248&Wn(y,R)|W>>5,O[H+1]=E}function Go(y,E,R,O,H){var W=240&Fi(y,E)|15;O[H+0]=240&Wn(y,R)|Si(y,E,R)>>4,O[H+1]=W}function Sl(y,E,R,O,H){O[H+0]=255,Xi(y,E,R,O,H+1)}function Ba(y,E,R,O,H){js(y,E,R,O,H),O[H+3]=255}function Jh(y,E,R,O,H){Xi(y,E,R,O,H),O[H+3]=255}function Vu(y,E){return 0>y?0:y>E?E:y}function r_(y,E,R){he[y]=function(O,H,W,Y,K,X,oe,Ie,Qe){for(var Xe=Ie+(-2&Qe)*R;Ie!=Xe;)E(O[H+0],W[Y+0],K[X+0],oe,Ie),E(O[H+1],W[Y+0],K[X+0],oe,Ie+R),H+=2,++Y,++X,Ie+=2*R;1&Qe&&E(O[H+0],W[Y+0],K[X+0],oe,Ie)}}function IO(y,E,R){return 0==R?0==y?0==E?6:5:0==E?4:0:R}function pT(y,E,R,O,H){switch(y>>>30){case 3:iI(E,R,O,H,0);break;case 2:wT(E,R,O,H);break;case 1:rf(E,R,O,H)}}function mT(y,E){var R,O,H=E.M,W=E.Nb,Y=y.oc,K=y.pc+40,X=y.oc,oe=y.pc+584,Ie=y.oc,Qe=y.pc+600;for(R=0;16>R;++R)Y[K+32*R-1]=129;for(R=0;8>R;++R)X[oe+32*R-1]=129,Ie[Qe+32*R-1]=129;for(0<H?Y[K-1-32]=X[oe-1-32]=Ie[Qe-1-32]=129:(r(Y,K-32-1,127,21),r(X,oe-32-1,127,9),r(Ie,Qe-32-1,127,9)),O=0;O<y.za;++O){var Xe=E.ya[E.aa+O];if(0<O){for(R=-1;16>R;++R)i(Y,K+32*R-4,Y,K+32*R+12,4);for(R=-1;8>R;++R)i(X,oe+32*R-4,X,oe+32*R+4,4),i(Ie,Qe+32*R-4,Ie,Qe+32*R+4,4)}var Oe=y.Gd,Nt=y.Hd+O,ft=Xe.ad,Ae=Xe.Hc;if(0<H&&(i(Y,K-32,Oe[Nt].y,0,16),i(X,oe-32,Oe[Nt].f,0,8),i(Ie,Qe-32,Oe[Nt].ea,0,8)),Xe.Za){var Re=Y,Tt=K-32+16;for(0<H&&(O>=y.za-1?r(Re,Tt,Oe[Nt].y[15],4):i(Re,Tt,Oe[Nt+1].y,0,4)),R=0;4>R;R++)Re[Tt+128+R]=Re[Tt+256+R]=Re[Tt+384+R]=Re[Tt+0+R];for(R=0;16>R;++R,Ae<<=2)sf[Xe.Ob[R]](Re=Y,Tt=K+VY[R]),pT(Ae,ft,16*+R,Re,Tt)}else if(Re=IO(O,H,Xe.Ob[0]),Fy[Re](Y,K),0!=Ae)for(R=0;16>R;++R,Ae<<=2)pT(Ae,ft,16*+R,Y,K+VY[R]);for(R=Xe.Gc,Re=IO(O,H,Xe.Dd),c_[Re](X,oe),c_[Re](Ie,Qe),Ae=ft,Re=X,Tt=oe,255&(Xe=R>>0)&&(170&Xe?Ny(Ae,256,Re,Tt):o_(Ae,256,Re,Tt)),Xe=Ie,Ae=Qe,255&(R>>=8)&&(170&R?Ny(ft,320,Xe,Ae):o_(ft,320,Xe,Ae)),H<y.Ub-1&&(i(Oe[Nt].y,0,Y,K+480,16),i(Oe[Nt].f,0,X,oe+224,8),i(Oe[Nt].ea,0,Ie,Qe+224,8)),Oe=y.sa,Nt=y.ta+16*O+16*W*y.R,ft=y.qa,Xe=y.ra+8*O+(R=8*W*y.B),Ae=y.Ha,Re=y.Ia+8*O+R,R=0;16>R;++R)i(Oe,Nt+R*y.R,Y,K+32*R,16);for(R=0;8>R;++R)i(ft,Xe+R*y.B,X,oe+32*R,8),i(Ae,Re+R*y.B,Ie,Qe+32*R,8)}}function QE(y,E,R,O,H,W,Y,K,X){var oe=[0],Ie=[0],Qe=0,Xe=null!=X?X.kd:0,Oe=X??new uT;if(null==y||12>R)return 7;Oe.data=y,Oe.w=E,Oe.ha=R,E=[E],R=[R],Oe.gb=[Oe.gb];e:{var Nt=E,ft=R,Ae=Oe.gb;if(t(null!=y),t(null!=ft),t(null!=Ae),Ae[0]=0,12<=ft[0]&&!e(y,Nt[0],"RIFF")){if(e(y,Nt[0]+8,"WEBP")){Ae=3;break e}var Re=Sn(y,Nt[0]+4);if(12>Re||4294967286<Re){Ae=3;break e}if(Xe&&Re>ft[0]-8){Ae=7;break e}Ae[0]=Re,Nt[0]+=12,ft[0]-=12}Ae=0}if(0!=Ae)return Ae;for(Re=0<Oe.gb[0],R=R[0];;){e:{var Tt=y;ft=E,Ae=R;var Bt=oe,kt=Ie,In=Nt=[0];if((pn=Qe=[Qe])[0]=0,8>Ae[0])Ae=7;else{if(!e(Tt,ft[0],"VP8X")){if(10!=Sn(Tt,ft[0]+4)){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var un=Sn(Tt,ft[0]+8),Xn=1+xn(Tt,ft[0]+12);if(2147483648<=Xn*(Tt=1+xn(Tt,ft[0]+15))){Ae=3;break e}null!=In&&(In[0]=un),null!=Bt&&(Bt[0]=Xn),null!=kt&&(kt[0]=Tt),ft[0]+=18,Ae[0]-=18,pn[0]=1}Ae=0}}if(Qe=Qe[0],0!=Ae)return Ae;if(ft=!!(2&(Nt=Nt[0])),!Re&&Qe)return 3;if(null!=W&&(W[0]=!!(16&Nt)),null!=Y&&(Y[0]=ft),null!=K&&(K[0]=0),Y=oe[0],Nt=Ie[0],Qe&&ft&&null==X){Ae=0;break}if(4>R){Ae=7;break}if(Re&&Qe||!Re&&!Qe&&!e(y,E[0],"ALPH")){R=[R],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Ae=E,Re=R;var pn=Oe.gb;Bt=Oe.na,kt=Oe.P,In=Oe.Sa,Xn=22,t(null!=(un=y)),t(null!=Re),Tt=Ae[0];var fr=Re[0];for(t(null!=Bt),t(null!=In),Bt[0]=null,kt[0]=null,In[0]=0;;){if(Ae[0]=Tt,Re[0]=fr,8>fr){Ae=7;break e}var Mr=Sn(un,Tt+4);if(4294967286<Mr){Ae=3;break e}var nr=8+Mr+1&-2;if(Xn+=nr,0<pn&&Xn>pn){Ae=3;break e}if(!e(un,Tt,"VP8 ")||!e(un,Tt,"VP8L")){Ae=0;break e}if(fr[0]<nr){Ae=7;break e}e(un,Tt,"ALPH")||(Bt[0]=un,kt[0]=Tt+8,In[0]=Mr),Tt+=nr,fr-=nr}}if(R=R[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],0!=Ae)break}R=[R],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(pn=y,Ae=E,Re=R,Bt=Oe.gb[0],kt=Oe.Ja,In=Oe.xa,un=Ae[0],Tt=!e(pn,un,"VP8 "),Xn=!e(pn,un,"VP8L"),t(null!=pn),t(null!=Re),t(null!=kt),t(null!=In),8>Re[0])Ae=7;else{if(Tt||Xn){if(pn=Sn(pn,un+4),12<=Bt&&pn>Bt-12){Ae=3;break e}if(Xe&&pn>Re[0]-8){Ae=7;break e}kt[0]=pn,Ae[0]+=8,Re[0]-=8,In[0]=Xn}else In[0]=5<=Re[0]&&47==pn[un+0]&&!(pn[un+4]>>5),kt[0]=Re[0];Ae=0}if(R=R[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],E=E[0],0!=Ae)break;if(4294967286<Oe.Ja)return 3;if(null==K||ft||(K[0]=Oe.xa?2:1),Y=[Y],Nt=[Nt],Oe.xa){if(5>R){Ae=7;break}K=Y,Xe=Nt,ft=W,null==y||5>R?y=0:5<=R&&47==y[E+0]&&!(y[E+4]>>5)?(Re=[0],pn=[0],Bt=[0],De(kt=new $,y,E,R),ri(kt,Re,pn,Bt)?(null!=K&&(K[0]=Re[0]),null!=Xe&&(Xe[0]=pn[0]),null!=ft&&(ft[0]=Bt[0]),y=1):y=0):y=0}else{if(10>R){Ae=7;break}K=Nt,null==y||10>R||!cO(y,E+3,R-3)?y=0:(Xe=y[E+0]|y[E+1]<<8|y[E+2]<<16,ft=16383&(y[E+7]<<8|y[E+6]),y=16383&(y[E+9]<<8|y[E+8]),1&Xe||3<(Xe>>1&7)||!(Xe>>4&1)||Xe>>5>=Oe.Ja||!ft||!y?y=0:(Y&&(Y[0]=ft),K&&(K[0]=y),y=1))}if(!y||(Y=Y[0],Nt=Nt[0],Qe&&(oe[0]!=Y||Ie[0]!=Nt)))return 3;null!=X&&(X[0]=Oe,X.offset=E-X.w,t(4294967286>E-X.w),t(X.offset==X.ha-R));break}return 0==Ae||7==Ae&&Qe&&null==X?(null!=W&&(W[0]|=null!=Oe.na&&0<Oe.na.length),null!=O&&(O[0]=Y),null!=H&&(H[0]=Nt),0):Ae}function gT(y,E,R){var O=E.width,H=E.height,W=0,Y=0,K=O,X=H;if(E.Da=null!=y&&0<y.Da,E.Da&&(K=y.cd,X=y.bd,W=y.v,Y=y.j,11>R||(W&=-2,Y&=-2),0>W||0>Y||0>=K||0>=X||W+K>O||Y+X>H))return 0;if(E.v=W,E.j=Y,E.va=W+K,E.o=Y+X,E.U=K,E.T=X,E.da=null!=y&&0<y.da,E.da){if(!Di(K,X,R=[y.ib],W=[y.hb]))return 0;E.ib=R[0],E.hb=W[0]}return E.ob=null!=y&&y.ob,E.Kb=null==y||!y.Sd,E.da&&(E.ob=E.ib<3*O/4&&E.hb<3*H/4,E.Kb=0),1}function _T(y){if(null==y)return 2;if(11>y.S){var E=y.f.RGBA;E.fb+=(y.height-1)*E.A,E.A=-E.A}else(E=y.f.kb).O+=((y=y.height)-1)*E.fa,E.fa=-E.fa,E.N+=(y-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(y-1>>1)*E.Db,E.Db=-E.Db,null!=E.F&&(E.J+=(y-1)*E.lb,E.lb=-E.lb);return 0}function XE(y,E,R,O){if(null==O||0>=y||0>=E)return 2;if(null!=R){if(R.Da){var H=R.cd,W=R.bd,Y=-2&R.v,K=-2&R.j;if(0>Y||0>K||0>=H||0>=W||Y+H>y||K+W>E)return 2;y=H,E=W}if(R.da){if(!Di(y,E,H=[R.ib],W=[R.hb]))return 2;y=H[0],E=W[0]}}O.width=y,O.height=E;e:{var X=O.width,oe=O.height;if(y=O.S,0>=X||0>=oe||!(y>=TO&&13>y))y=2;else{if(0>=O.Rd&&null==O.sd){Y=W=H=E=0;var Ie=(K=X*UY[y])*oe;if(11>y||(W=(oe+1)/2*(E=(X+1)/2),12==y&&(Y=(H=X)*oe)),null==(oe=s(Ie+2*W+Y))){y=1;break e}O.sd=oe,11>y?((X=O.f.RGBA).eb=oe,X.fb=0,X.A=K,X.size=Ie):((X=O.f.kb).y=oe,X.O=0,X.fa=K,X.Fd=Ie,X.f=oe,X.N=0+Ie,X.Ab=E,X.Cd=W,X.ea=oe,X.W=0+Ie+W,X.Db=E,X.Ed=W,12==y&&(X.F=oe,X.J=0+Ie+2*W),X.Tc=Y,X.lb=H)}if(E=1,W=O.width,Y=O.height,(H=O.S)>=TO&&13>H)if(11>H)y=O.f.RGBA,E&=(K=Math.abs(y.A))*(Y-1)+W<=y.size,E&=K>=W*UY[H],E&=null!=y.eb;else{y=O.f.kb,K=(W+1)/2,Ie=(Y+1)/2,X=Math.abs(y.fa),oe=Math.abs(y.Ab);var Qe=Math.abs(y.Db),Xe=Math.abs(y.lb);E&=X*(Y-1)+W<=y.Fd,E&=oe*(Ie-1)+K<=y.Cd,E=(E&=Qe*(Ie-1)+K<=y.Ed)&X>=W&oe>=K&Qe>=K,E&=null!=y.y,E&=null!=y.f,E&=null!=y.ea,12==H&&(E&=Xe>=W,E&=Xe*(Y-1)+W<=y.Tc,E&=null!=y.F)}else E=0;y=E?0:2}}return 0!=y||null!=R&&R.fd&&(y=_T(O)),y}var Yc=64,JE=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],eI=24,tI=32,vT=8,Zc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];cn("Predictor0","PredictorAdd0"),he.Predictor0=function(){return 4278190080},he.Predictor1=function(y){return y},he.Predictor2=function(y,E,R){return E[R+0]},he.Predictor3=function(y,E,R){return E[R+1]},he.Predictor4=function(y,E,R){return E[R-1]},he.Predictor5=function(y,E,R){return mn(mn(y,E[R+1]),E[R+0])},he.Predictor6=function(y,E,R){return mn(y,E[R-1])},he.Predictor7=function(y,E,R){return mn(y,E[R+0])},he.Predictor8=function(y,E,R){return mn(E[R-1],E[R+0])},he.Predictor9=function(y,E,R){return mn(E[R+0],E[R+1])},he.Predictor10=function(y,E,R){return mn(mn(y,E[R-1]),mn(E[R+0],E[R+1]))},he.Predictor11=function(y,E,R){var O=E[R+0];return 0>=Ri(O>>24&255,y>>24&255,(E=E[R-1])>>24&255)+Ri(O>>16&255,y>>16&255,E>>16&255)+Ri(O>>8&255,y>>8&255,E>>8&255)+Ri(255&O,255&y,255&E)?O:y},he.Predictor12=function(y,E,R){var O=E[R+0];return(Gn((y>>24&255)+(O>>24&255)-((E=E[R-1])>>24&255))<<24|Gn((y>>16&255)+(O>>16&255)-(E>>16&255))<<16|Gn((y>>8&255)+(O>>8&255)-(E>>8&255))<<8|Gn((255&y)+(255&O)-(255&E)))>>>0},he.Predictor13=function(y,E,R){var O=E[R-1];return(wi((y=mn(y,E[R+0]))>>24&255,O>>24&255)<<24|wi(y>>16&255,O>>16&255)<<16|wi(y>>8&255,O>>8&255)<<8|wi(y>>0&255,O>>0&255))>>>0};var a8=he.PredictorAdd0;he.PredictorAdd1=Ui,cn("Predictor2","PredictorAdd2"),cn("Predictor3","PredictorAdd3"),cn("Predictor4","PredictorAdd4"),cn("Predictor5","PredictorAdd5"),cn("Predictor6","PredictorAdd6"),cn("Predictor7","PredictorAdd7"),cn("Predictor8","PredictorAdd8"),cn("Predictor9","PredictorAdd9"),cn("Predictor10","PredictorAdd10"),cn("Predictor11","PredictorAdd11"),cn("Predictor12","PredictorAdd12"),cn("Predictor13","PredictorAdd13");var yT=he.PredictorAdd2;Gi("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Gi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var DO,ef=he.ColorIndexInverseTransform,bT=he.MapARGB,l8=he.VP8LColorIndexInverseTransformAlpha,c8=he.MapAlpha,ky=he.VP8LPredictorsAdd=[];ky.length=16,(he.VP8LPredictors=[]).length=16,(he.VP8LPredictorsAdd_C=[]).length=16,(he.VP8LPredictors_C=[]).length=16;var Bd,tf,Ry,Gp,s_,nI,nf,iI,wT,Ny,rf,o_,Tw,rI,Mw,Py,xT,Vd,a_,is,rs,wo,fa,l_,Oy,sI,SO,xY,CY=s(511),EY=s(2041),IY=s(225),DY=s(767),SY=0,u8=EY,AO=IY,Uu=DY,Ud=CY,TO=0,MO=1,AY=2,kO=3,RO=4,d8=5,TY=6,h8=7,f8=8,NO=9,p8=10,wfe=[2,3,7],xfe=[3,3,11],MY=[280,256,256,256,40],Cfe=[0,1,1,1,0],Efe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ife=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Dfe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Sfe=8,m8=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],g8=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],CT=null,Afe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tfe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kY=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Mfe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kfe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rfe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nfe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fy=[],sf=[],c_=[],Pfe=1,RY=2,Ly=[],jd=[];vt("UpsampleRgbLinePair",Xi,3),vt("UpsampleBgrLinePair",js,3),vt("UpsampleRgbaLinePair",Jh,4),vt("UpsampleBgraLinePair",Ba,4),vt("UpsampleArgbLinePair",Sl,4),vt("UpsampleRgba4444LinePair",Go,2),vt("UpsampleRgb565LinePair",ro,2);var Ofe=he.UpsampleRgbLinePair,Ffe=he.UpsampleBgrLinePair,NY=he.UpsampleRgbaLinePair,PY=he.UpsampleBgraLinePair,OY=he.UpsampleArgbLinePair,FY=he.UpsampleRgba4444LinePair,Lfe=he.UpsampleRgb565LinePair,PO=16,OO=1<<PO-1,ET=-227,_8=482,LY=6,Bfe=(256<<LY)-1,BY=0,Vfe=s(256),Ufe=s(256),jfe=s(256),Hfe=s(256),zfe=s(_8-ET),qfe=s(_8-ET);r_("YuvToRgbRow",Xi,3),r_("YuvToBgrRow",js,3),r_("YuvToRgbaRow",Jh,4),r_("YuvToBgraRow",Ba,4),r_("YuvToArgbRow",Sl,4),r_("YuvToRgba4444Row",Go,2),r_("YuvToRgb565Row",ro,2);var VY=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],FO=[0,2,8],Gfe=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(y,E,R,O,H){var W=MO,Y=new ZE,K=new $h;Y.ba=K,K.S=W,K.width=[K.width],K.height=[K.height];var X=K.width,oe=K.height,Ie=new e_;if(null==Ie||null==y)var Qe=2;else t(null!=Ie),Qe=QE(y,E,R,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if(0!=Qe?X=0:(null!=X&&(X[0]=Ie.width[0]),null!=oe&&(oe[0]=Ie.height[0]),X=1),X){K.width=K.width[0],K.height=K.height[0],null!=O&&(O[0]=K.width),null!=H&&(H[0]=K.height);e:{if(O=new HE,(H=new uT).data=y,H.w=E,H.ha=R,H.kd=1,E=[0],t(null!=H),(0==(y=QE(H.data,H.w,H.ha,null,null,null,E,null,H))||7==y)&&E[0]&&(y=4),0==(E=y)){if(t(null!=Y),O.data=H.data,O.w=H.w+H.offset,O.ha=H.ha-H.offset,O.put=Vp,O.ac=Ja,O.bc=Up,O.ma=Y,H.xa){if(null==(y=Ld())){Y=1;break e}if(function(Xe,Oe){var Nt=[0],ft=[0],Ae=[0];t:for(;;){if(null==Xe)return 0;if(null==Oe)return Xe.a=2,0;if(Xe.l=Oe,Xe.a=0,De(Xe.m,Oe.data,Oe.w,Oe.ha),!ri(Xe.m,Nt,ft,Ae)){Xe.a=3;break t}if(Xe.xb=RY,Oe.width=Nt[0],Oe.height=ft[0],!zp(Nt[0],ft[0],1,Xe,null))break t;return 1}return t(0!=Xe.a),0}(y,O)){if(O=0==(E=XE(O.width,O.height,Y.Oa,Y.ba))){t:{O=y;n:for(;;){if(null==O){O=0;break t}if(t(null!=O.s.yc),t(null!=O.s.Ya),t(0<O.s.Wb),t(null!=(R=O.l)),t(null!=(H=R.ma)),0!=O.xb){if(O.ca=H.ba,O.tb=H.tb,t(null!=O.ca),!gT(H.Oa,R,kO)){O.a=2;break n}if(!Ew(O,R.width)||R.da)break n;if((R.da||Cr(O.ca.S))&&ze(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=O.ca.f.kb.F&&ze()),O.Pb&&0<O.s.ua&&null==O.s.vb.X&&!li(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!Kh(O,O.V,O.Ba,O.c,O.i,R.o,FE))break n;H.Dc=O.Ma,O=1;break t}t(0!=O.a),O=0}O=!O}O&&(E=y.a)}else E=y.a}else{if(null==(y=new HU)){Y=1;break e}if(y.Fa=H.na,y.P=H.P,y.qc=H.Sa,uO(y,O)){if(0==(E=XE(O.width,O.height,Y.Oa,Y.ba))){if(y.Aa=0,R=Y.Oa,t(null!=(H=y)),null!=R){if(0<(X=0>(X=R.Md)?0:100<X?255:255*X/100)){for(oe=Ie=0;4>oe;++oe)12>(Qe=H.pb[oe]).lc&&(Qe.ia=X*Gfe[0>Qe.lc?0:Qe.lc]>>3),Ie|=Qe.ia;Ie&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=R.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function zU(y,E){if(null==y)return 0;if(null==E)return bo(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!uO(y,E))return 0;if(t(y.cb),null==E.ac||E.ac(E)){E.ob&&(y.L=0);var R=FO[y.L];if(2==y.L?(y.yb=0,y.zb=0):(y.yb=E.v-R>>4,y.zb=E.j-R>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=E.o+15+R>>4,y.Hb=E.va+15+R>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var O=y.ed;for(R=0;4>R;++R){var H;if(y.Qa.Cb){var W=y.Qa.Lb[R];y.Qa.Fb||(W+=O.Tb)}else W=O.Tb;for(H=0;1>=H;++H){var Y=y.gd[R][H],K=W;if(O.Pc&&(K+=O.vd[0],H&&(K+=O.od[0])),0<(K=0>K?0:63<K?63:K)){var X=K;0<O.wb&&(X=4<O.wb?X>>2:X>>1)>9-O.wb&&(X=9-O.wb),1>X&&(X=1),Y.dd=X,Y.tc=2*K+X,Y.ld=40<=K?2:15<=K?1:0}else Y.tc=0;Y.La=H}}}R=0}else bo(y,6,"Frame setup failed"),R=y.a;if(R=0==R){if(R){y.$c=0,0<y.Aa||(y.Ic=1);e:{O=4*(X=y.za);var oe=32*X,Ie=X+1,Qe=0<y.L?X*(0<y.Aa?2:1):0,Xe=(2==y.Aa?2:1)*X;if((Y=O+832+(H=3*(16*(R=y.Ic)+FO[y.L])/2*oe)+(W=null!=y.Fa&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=Y)R=0;else{if(Y>y.Vb){if(y.Vb=0,y.Ec=s(Y),y.Fc=0,null==y.Ec){R=bo(y,1,"no memory during frame initialization.");break e}y.Vb=Y}K=y.Fc,y.Ac=Y=y.Ec,y.Bc=K,K+=O,y.Gd=a(oe,lO),y.Hd=0,y.rb=a(Ie+1,aO),y.sb=1,y.wa=Qe?a(Qe,jE):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=X),t(!0),y.oc=Y,y.pc=K,K+=832,y.ya=a(Xe,eT),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,2==y.Aa&&(y.D.aa+=X),y.R=16*X,y.B=8*X,X=(oe=FO[y.L])*y.R,oe=oe/2*y.B,y.sa=Y,y.ta=K+X,y.qa=y.sa,y.ra=y.ta+16*R*y.R+oe,y.Ha=y.qa,y.Ia=y.ra+8*R*y.B+oe,y.$c=0,K+=H,y.mb=W?Y:null,y.nb=W?K:null,t(K+W<=y.Fc+y.Vb),tT(y),r(y.Ac,y.Bc,0,O),R=1}}if(R){if(E.ka=0,E.y=y.sa,E.O=y.ta,E.f=y.qa,E.N=y.ra,E.ea=y.Ha,E.Vd=y.Ia,E.fa=y.R,E.Rc=y.B,E.F=null,E.J=0,!SY){for(R=-255;255>=R;++R)CY[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)EY[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)IY[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)DY[255+R]=0>R?0:255<R?255:R;SY=1}nf=$U,iI=qU,Ny=fO,rf=GU,o_=pO,wT=hO,Tw=aT,rI=Sw,Mw=s8,Py=lT,xT=r8,Vd=YE,a_=cT,is=CO,rs=xO,wo=i_,fa=Ay,l_=i8,sf[0]=qp,sf[1]=WU,sf[2]=QU,sf[3]=XU,sf[4]=_O,sf[5]=$E,sf[6]=vO,sf[7]=rT,sf[8]=e8,sf[9]=JU,Fy[0]=mO,Fy[1]=ZU,Fy[2]=n_,Fy[3]=qE,Fy[4]=Dl,Fy[5]=KU,Fy[6]=gO,c_[0]=Sy,c_[1]=YU,c_[2]=t8,c_[3]=sT,c_[4]=Dw,c_[5]=n8,c_[6]=oT,R=1}else R=0}R&&(R=function(Oe,Nt){for(Oe.M=0;Oe.M<Oe.Va;++Oe.M){var ft,Ae=Oe.Jc[Oe.M&Oe.Xb],Re=Oe.m,Tt=Oe;for(ft=0;ft<Tt.za;++ft){var Bt=Re,kt=Tt,In=kt.Ac,un=kt.Bc+4*ft,Xn=kt.zc,pn=kt.ya[kt.aa+ft];if(pn.$b=kt.Qa.Bb?et(Bt,kt.Pa.jb[0])?2+et(Bt,kt.Pa.jb[2]):et(Bt,kt.Pa.jb[1]):0,kt.kc&&(pn.Ad=et(Bt,kt.Bd)),pn.Za=!et(Bt,145)+0,pn.Za){var fr=pn.Ob,Mr=0;for(kt=0;4>kt;++kt){var nr,Zi=Xn[0+kt];for(nr=0;4>nr;++nr){for(var Kr=kY[et(Bt,(Zi=kfe[In[un+nr]][Zi])[0])];0<Kr;)Kr=kY[2*Kr+et(Bt,Zi[Kr])];In[un+nr]=Zi=-Kr}i(fr,Mr,In,un,4),Mr+=4,Xn[0+kt]=Zi}}else Zi=et(Bt,156)?et(Bt,128)?1:3:et(Bt,163)?2:0,pn.Ob[0]=Zi,r(In,un,Zi,4),r(Xn,0,Zi,4);pn.Dd=et(Bt,142)?et(Bt,114)?et(Bt,183)?1:3:2:0}if(Tt.m.Ka)return bo(Oe,7,"Premature end-of-partition0 encountered.");for(;Oe.ja<Oe.za;++Oe.ja){if(Tt=Ae,Bt=(Re=Oe).rb[Re.sb-1],In=Re.rb[Re.sb+Re.ja],ft=Re.ya[Re.aa+Re.ja],un=Re.kc?ft.Ad:0)Bt.la=In.la=0,ft.Za||(Bt.Na=In.Na=0),ft.Hc=0,ft.Gc=0,ft.ia=0;else{var jr,ki;if(Bt=In,In=Tt,un=Re.Pa.Xc,pn=Re.pb[(Xn=Re.ya[Re.aa+Re.ja]).$b],Mr=Re.rb[Re.sb-1],Zi=nr=0,r(kt=Xn.ad,fr=0,0,384),Xn.Za)var $o=0,Kc=un[3];else{Kr=s(16);var Wo=Bt.Na+Mr.Na;if(Wo=CT(In,un[1],Wo,pn.Eb,0,Kr,0),Bt.Na=Mr.Na=(0<Wo)+0,1<Wo)nf(Kr,0,kt,fr);else{var Qc=Kr[0]+3>>3;for(Kr=0;256>Kr;Kr+=16)kt[fr+Kr]=Qc}$o=1,Kc=un[0]}var kr=15&Bt.la,ju=15&Mr.la;for(Kr=0;4>Kr;++Kr){var Hu=1&ju;for(Qc=ki=0;4>Qc;++Qc)kr=kr>>1|(Hu=(Wo=CT(In,Kc,Wo=Hu+(1&kr),pn.Sc,$o,kt,fr))>$o)<<7,ki=ki<<2|(3<Wo?3:1<Wo?2:0!=kt[fr+0]),fr+=16;kr>>=4,ju=ju>>1|Hu<<7,nr=(nr<<8|ki)>>>0}for(Kc=kr,$o=ju>>4,jr=0;4>jr;jr+=2){for(ki=0,kr=Bt.la>>4+jr,ju=Mr.la>>4+jr,Kr=0;2>Kr;++Kr){for(Hu=1&ju,Qc=0;2>Qc;++Qc)kr=kr>>1|(Hu=0<(Wo=CT(In,un[2],Wo=Hu+(1&kr),pn.Qc,0,kt,fr)))<<3,ki=ki<<2|(3<Wo?3:1<Wo?2:0!=kt[fr+0]),fr+=16;kr>>=2,ju=ju>>1|Hu<<5}Zi|=ki<<4*jr,Kc|=kr<<4<<jr,$o|=(240&ju)<<jr}Bt.la=Kc,Mr.la=$o,Xn.Hc=nr,Xn.Gc=Zi,Xn.ia=43690&Zi?0:pn.ia,un=!(nr|Zi)}if(0<Re.L&&(Re.wa[Re.Y+Re.ja]=Re.gd[ft.$b][ft.Za],Re.wa[Re.Y+Re.ja].La|=!un),Tt.Ka)return bo(Oe,7,"Premature end-of-file encountered.")}if(tT(Oe),Re=Nt,Tt=1,ft=(Ae=Oe).D,Bt=0<Ae.L&&Ae.M>=Ae.zb&&Ae.M<=Ae.Va,0==Ae.Aa)e:{if(ft.M=Ae.M,ft.uc=Bt,mT(Ae,ft),Tt=1,ft=(ki=Ae.D).Nb,Bt=(Zi=FO[Ae.L])*Ae.R,un=Ae.sa,Xn=Ae.ta-Bt+(Kr=16*ft*Ae.R),pn=Ae.qa,kt=Ae.ra-(In=Zi/2*Ae.B)+(Qc=8*ft*Ae.B),fr=Ae.Ha,Mr=Ae.Ia-In+Qc,ju=0==(kr=ki.M),nr=kr>=Ae.Va-1,2==Ae.Aa&&mT(Ae,ki),ki.uc)for(Hu=(Wo=Ae).D.M,t(Wo.D.uc),ki=Wo.yb;ki<Wo.Hb;++ki){Kc=Hu;var Va=(el=(so=Wo).D).Nb,el=el.wa[el.Y+($o=ki)],_c=so.sa,Hd=so.ta+16*Va*(jr=so.R)+16*$o,$p=el.dd,Ua=el.tc;if(0!=Ua)if(t(3<=Ua),1==so.L)0<$o&&wo(_c,Hd,jr,Ua+4),el.La&&l_(_c,Hd,jr,Ua),0<Kc&&rs(_c,Hd,jr,Ua+4),el.La&&fa(_c,Hd,jr,Ua);else{var u_=so.B,kw=so.qa,oI=so.ra+8*Va*u_+8*$o,By=so.Ha,so=so.Ia+8*Va*u_+8*$o;Va=el.ld,0<$o&&(rI(_c,Hd,jr,Ua+4,$p,Va),Py(kw,oI,By,so,u_,Ua+4,$p,Va)),el.La&&(Vd(_c,Hd,jr,Ua,$p,Va),is(kw,oI,By,so,u_,Ua,$p,Va)),0<Kc&&(Tw(_c,Hd,jr,Ua+4,$p,Va),Mw(kw,oI,By,so,u_,Ua+4,$p,Va)),el.La&&(xT(_c,Hd,jr,Ua,$p,Va),a_(kw,oI,By,so,u_,Ua,$p,Va))}}if(Ae.ia&&alert("todo:DitherRow"),null!=Re.put){if(ki=16*kr,kr=16*(kr+1),ju?(Re.y=Ae.sa,Re.O=Ae.ta+Kr,Re.f=Ae.qa,Re.N=Ae.ra+Qc,Re.ea=Ae.Ha,Re.W=Ae.Ia+Qc):(ki-=Zi,Re.y=un,Re.O=Xn,Re.f=pn,Re.N=kt,Re.ea=fr,Re.W=Mr),nr||(kr-=Zi),kr>Re.o&&(kr=Re.o),Re.F=null,Re.J=null,null!=Ae.Fa&&0<Ae.Fa.length&&ki<kr&&(Re.J=fT(Ae,Re,ki,kr-ki),Re.F=Ae.mb,null==Re.F&&0==Re.F.length)){Tt=bo(Ae,3,"Could not decode alpha data.");break e}ki<Re.j&&(Zi=Re.j-ki,ki=Re.j,t(!(1&Zi)),Re.O+=Ae.R*Zi,Re.N+=Ae.B*(Zi>>1),Re.W+=Ae.B*(Zi>>1),null!=Re.F&&(Re.J+=Re.width*Zi)),ki<kr&&(Re.O+=Re.v,Re.N+=Re.v>>1,Re.W+=Re.v>>1,null!=Re.F&&(Re.J+=Re.v),Re.ka=ki-Re.j,Re.U=Re.va-Re.v,Re.T=kr-ki,Tt=Re.put(Re))}ft+1!=Ae.Ic||nr||(i(Ae.sa,Ae.ta-Bt,un,Xn+16*Ae.R,Bt),i(Ae.qa,Ae.ra-In,pn,kt+8*Ae.B,In),i(Ae.Ha,Ae.Ia-In,fr,Mr+8*Ae.B,In))}if(!Tt)return bo(Oe,6,"Output aborted.")}return 1}(y,E)),null!=E.bc&&E.bc(E),R&=1}return R?(y.cb=0,R):0})(y,O)||(E=y.a)}}else E=y.a}0==E&&null!=Y.Oa&&Y.Oa.fd&&(E=_T(Y.ba))}Y=E}W=0!=Y?null:11>W?K.f.RGBA.eb:K.f.kb.y}else W=null;return W};var UY=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(he,dt){for(var gt="",re=0;re<4;re++)gt+=String.fromCharCode(he[dt++]);return gt}function b(he,dt){return(he[dt+0]<<0|he[dt+1]<<8|he[dt+2]<<16)>>>0}function x(he,dt){return(he[dt+0]<<0|he[dt+1]<<8|he[dt+2]<<16|he[dt+3]<<24)>>>0}new h;var M=[0],D=[0],P=[],F=new h,U=n,j=function(he,dt){var gt={},re=0,ie=!1,we=0,ye=0;if(gt.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(ae,le,Se,Ve){for(var Ge=0;Ge<4;Ge++)if(ae[le+Ge]!="RIFF".charCodeAt(Ge))return!0;return!1}(he,dt)){var ht,Ee;for(x(he,dt+=4),dt+=8;dt<he.length;){var Le=m(he,dt),De=x(he,dt+=4);dt+=4;var Je=De+(1&De);switch(Le){case"VP8 ":case"VP8L":void 0===gt.frames[re]&&(gt.frames[re]={}),($=gt.frames[re]).src_off=ie?ye:dt-8,$.src_size=we+De+8,re++,ie&&(ie=!1,we=0,ye=0);break;case"VP8X":($=gt.header={}).feature_flags=he[dt];var ct=dt+4;$.canvas_width=1+b(he,ct),$.canvas_height=1+b(he,ct+=3),ct+=3;break;case"ALPH":ie=!0,we=Je+8,ye=dt-8;break;case"ANIM":($=gt.header).bgcolor=x(he,dt),$.loop_count=(ht=he)[(Ee=ct=dt+4)+0]<<0|ht[Ee+1]<<8,ct+=2;break;case"ANMF":var sn,$;($=gt.frames[re]={}).offset_x=2*b(he,dt),$.offset_y=2*b(he,dt+=3),$.width=1+b(he,dt+=3),$.height=1+b(he,dt+=3),$.duration=b(he,dt+=3),dt+=3,sn=he[dt++],$.dispose=1&sn,$.blend=sn>>1&1}"ANMF"!=Le&&(dt+=Je)}return gt}}(U,0);j.response=U,j.rgbaoutput=!0,j.dataurl=!1;var Z=j.header?j.header:null,ne=j.frames?j.frames:null;if(Z){Z.loop_counter=Z.loop_count,M=[Z.canvas_height],D=[Z.canvas_width];for(var de=0;de<ne.length&&0!=ne[de].blend;de++);}var ke=ne[0],Ye=F.WebPDecodeRGBA(U,ke.src_off,ke.src_size,D,M);ke.rgba=Ye,ke.imgwidth=D[0],ke.imgheight=M[0];for(var Me=0;Me<D[0]*M[0]*4;Me++)P[Me]=Ye[Me];return this.width=D,this.height=M,this.data=P,this}(function(n){var e=function(M,D,P,F){var U=4,j=a;switch(F){case n.image_compression.FAST:U=1,j=s;break;case n.image_compression.MEDIUM:U=6,j=d;break;case n.image_compression.SLOW:U=9,j=h}var Z=G2(M=i(M,D,P,j),{level:U});return n.__addimage__.arrayBufferToBinaryString(Z)},i=function(M,D,P,F){for(var U,j,Z,ne=M.length/D,de=new Uint8Array(M.length+ne),ke=b(),Ye=0;Ye<ne;Ye+=1){if(U=M.subarray(Z=Ye*D,Z+D),F)de.set(F(U,P,j),Z+Ye);else{for(var Me,he=ke.length,dt=[];Me<he;Me+=1)dt[Me]=ke[Me](U,P,j);var gt=x(dt.concat());de.set(dt[gt],Z+Ye)}j=U}return de},r=function(M){var D=Array.apply([],M);return D.unshift(0),D},s=function(M,D){var F=[],U=M.length;F[0]=1;for(var j=0;j<U;j+=1)F[j+1]=M[j]-(M[j-D]||0)+256&255;return F},a=function(M,D,P){var U=[],j=M.length;U[0]=2;for(var Z=0;Z<j;Z+=1)U[Z+1]=M[Z]-(P&&P[Z]||0)+256&255;return U},d=function(M,D,P){var j=[],Z=M.length;j[0]=3;for(var ne=0;ne<Z;ne+=1)j[ne+1]=M[ne]+256-((M[ne-D]||0)+(P&&P[ne]||0)>>>1)&255;return j},h=function(M,D,P){var Z,ne=[],de=M.length;ne[0]=4;for(var ke=0;ke<de;ke+=1)Z=m(M[ke-D]||0,P&&P[ke]||0,P&&P[ke-D]||0),ne[ke+1]=M[ke]-Z+256&255;return ne},m=function(M,D,P){if(M===D&&D===P)return M;var F=Math.abs(D-P),U=Math.abs(M-P),j=Math.abs(M+D-P-P);return F<=U&&F<=j?M:U<=j?D:P},b=function(){return[r,s,a,d,h]},x=function(M){var D=M.map(function(P){return P.reduce(function(F,U){return F+Math.abs(U)},0)});return D.indexOf(Math.min.apply(null,D))};n.processPNG=function(M,D,P,F){var U,j,Z,ne,de,ke,Ye,Me,he,dt,gt,re,ie,we,ye,ht=this.decode.FLATE_DECODE,Ee="";if(this.__addimage__.isArrayBuffer(M)&&(M=new Uint8Array(M)),this.__addimage__.isArrayBufferView(M)){if(M=(Z=new Pce(M)).imgData,j=Z.bits,U=Z.colorSpace,de=Z.colors,-1!==[4,6].indexOf(Z.colorType)){if(8===Z.bits){he=(Me=32==Z.pixelBitlength?new Uint32Array(Z.decodePixels().buffer):16==Z.pixelBitlength?new Uint16Array(Z.decodePixels().buffer):new Uint8Array(Z.decodePixels().buffer)).length,gt=new Uint8Array(he*Z.colors),dt=new Uint8Array(he);var Le,De=Z.pixelBitlength-Z.bits;for(we=0,ye=0;we<he;we++){for(ie=Me[we],Le=0;Le<De;)gt[ye++]=ie>>>Le&255,Le+=Z.bits;dt[we]=ie>>>Le&255}}if(16===Z.bits){he=(Me=new Uint32Array(Z.decodePixels().buffer)).length,gt=new Uint8Array(he*(32/Z.pixelBitlength)*Z.colors),dt=new Uint8Array(he*(32/Z.pixelBitlength)),re=Z.colors>1,we=0,ye=0;for(var Je=0;we<he;)ie=Me[we++],gt[ye++]=ie>>>0&255,re&&(gt[ye++]=ie>>>16&255,ie=Me[we++],gt[ye++]=ie>>>0&255),dt[Je++]=ie>>>16&255;j=8}F!==n.image_compression.NONE?(M=e(gt,Z.width*Z.colors,Z.colors,F),Ye=e(dt,Z.width,1,F)):(M=gt,Ye=dt,ht=void 0)}if(3===Z.colorType&&(U=this.color_spaces.INDEXED,ke=Z.palette,Z.transparency.indexed)){var ct=Z.transparency.indexed,sn=0;for(we=0,he=ct.length;we<he;++we)sn+=ct[we];if((sn/=255)==he-1&&-1!==ct.indexOf(0))ne=[ct.indexOf(0)];else if(sn!==he){for(Me=Z.decodePixels(),dt=new Uint8Array(Me.length),we=0,he=Me.length;we<he;we++)dt[we]=ct[Me[we]];Ye=e(dt,Z.width,1)}}var $=function(ae){var le;switch(ae){case n.image_compression.FAST:le=11;break;case n.image_compression.MEDIUM:le=13;break;case n.image_compression.SLOW:le=14;break;default:le=12}return le}(F);return ht===this.decode.FLATE_DECODE&&(Ee="/Predictor "+$+" "),Ee+="/Colors "+de+" /BitsPerComponent "+j+" /Columns "+Z.width,(this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),(Ye&&this.__addimage__.isArrayBuffer(Ye)||this.__addimage__.isArrayBufferView(Ye))&&(Ye=this.__addimage__.arrayBufferToBinaryString(Ye)),{alias:P,data:M,index:D,filter:ht,decodeParameters:Ee,transparency:ne,palette:ke,sMask:Ye,predictor:$,width:Z.width,height:Z.height,bitsPerComponent:j,colorSpace:U}}}})(ii.API),function(n){n.processGIF89A=function(t,e,i,r){var s=new Oce(t),a=s.width,d=s.height,h=[];s.decodeAndBlitFrameRGBA(0,h);var m={data:h,width:a,height:d},b=new oU(100).encode(m,100);return n.processJPEG.call(this,b,e,i,r)},n.processGIF87A=n.processGIF89A}(ii.API),Hh.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hh.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(e){Yr.log("bit decode error:"+e)}},Hh.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,d=0;d<8&&8*r+d<this.width;d++){var h=this.palette[s>>7-d&1];this.data[a+4*d]=h.blue,this.data[a+4*d+1]=h.green,this.data[a+4*d+2]=h.red,this.data[a+4*d+3]=255}0!==e&&(this.pos+=4-e)}},Hh.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,h=15&s,m=this.palette[s>>4];if(this.data[a]=m.blue,this.data[a+1]=m.green,this.data[a+2]=m.red,this.data[a+3]=255,2*r+1>=this.width)break;this.data[a+4]=(m=this.palette[h]).blue,this.data[a+4+1]=m.green,this.data[a+4+2]=m.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},Hh.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},Hh.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,d=(s>>5&t)/t*255|0,m=s>>15?255:0,b=i*this.width*4+4*r;this.data[b]=(s>>10&t)/t*255|0,this.data[b+1]=d,this.data[b+2]=a,this.data[b+3]=m}this.pos+=n}},Hh.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(a&t)/t*255|0,h=(a>>5&e)/e*255|0,b=r*this.width*4+4*s;this.data[b]=(a>>11)/t*255|0,this.data[b+1]=h,this.data[b+2]=d,this.data[b+3]=255}this.pos+=n}},Hh.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},Hh.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*e;this.data[d]=s,this.data[d+1]=r,this.data[d+2]=i,this.data[d+3]=a}},Hh.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(t,e,i,r){var s=new Hh(t,!1),a=s.width,d=s.height,h={data:s.getData(),width:a,height:d},m=new oU(100).encode(h,100);return n.processJPEG.call(this,m,e,i,r)}}(ii.API),yW.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(t,e,i,r){var s=new yW(t,!1),a=s.width,d=s.height,h={data:s.getData(),width:a,height:d},m=new oU(100).encode(h,100);return n.processJPEG.call(this,m,e,i,r)}}(ii.API),ii.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),d=0,h=0,m=0;m<r;m+=4){var x=i[m+1],M=i[m+2],D=i[m+3];s[d++]=i[m],s[d++]=x,s[d++]=M,a[h++]=D}var P=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:P,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ii.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},UP=(PE=ii.API).getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:r.metadata.Unicode.widths,h=d.fof?d.fof:1,m=t.kerning?t.kerning:r.metadata.Unicode.kerning,b=m.fof?m.fof:1,x=!1!==t.doKerning,M=0,D=n.length,P=0,F=d[0]||h,U=[];for(e=0;e<D;e++)i=n.charCodeAt(e),"function"==typeof r.metadata.widthOfString?U.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(M=x&&"object"===(0,Wr.Z)(m[i])&&!isNaN(parseInt(m[i][P],10))?m[i][P]/b:0,U.push((d[i]||F)/h+M)),P=i;return U},mW=PE.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return PE.processArabic&&(n=PE.processArabic(n)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(n,e,r)/e:UP.apply(this,arguments).reduce(function(s,a){return s+a},0)},gW=function(n,t,e,i){for(var r=[],s=0,a=n.length,d=0;s!==a&&d+t[s]<e;)d+=t[s],s++;r.push(n.slice(0,s));var h=s;for(d=0;s!==a;)d+t[s]>i&&(r.push(n.slice(h,s)),d=0,h=s),d+=t[s],s++;return h!==s&&r.push(n.slice(h,s)),r},_W=function(n,t,e){e||(e={});var i,r,s,a,d,h,b=[],x=[b],M=e.textIndent||0,D=0,P=0,F=n.split(" "),U=UP.apply(this,[" ",e])[0];if(h=-1===e.lineIndent?F[0].length+2:e.lineIndent||0){var j=Array(h).join(" "),Z=[];F.map(function(de){(de=de.split(/\s*\n/)).length>1?Z=Z.concat(de.map(function(ke,Ye){return(Ye&&ke.length?"\n":"")+ke})):Z.push(de[0])}),F=Z,h=mW.apply(this,[j,e])}for(s=0,a=F.length;s<a;s++){var ne=0;if(i=F[s],h&&"\n"==i[0]&&(i=i.substr(1),ne=1),M+D+(P=(r=UP.apply(this,[i,e])).reduce(function(de,ke){return de+ke},0))>t||ne){if(P>t){for(d=gW.apply(this,[i,r,t-(M+D),t]),b.push(d.shift()),b=[d.pop()];d.length;)x.push([d.shift()]);P=r.slice(i.length-(b[0]?b[0].length:0)).reduce(function(de,ke){return de+ke},0)}else b=[i];x.push(b),M=P+h,D=U}else b.push(i),M+=D+P,D=U}return x.map(h?function(de,ke){return(ke?j:"")+de.join(" ")}:function(de){return de.join(" ")})},PE.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var x=this.internal.getFont(b.fontName,b.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var d,h,m=[];for(d=0,h=i.length;d<h;d++)m=m.concat(_W.apply(this,[i[d],a,s]));return m},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<16;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var s=function(x){return"0x"+parseInt(x,10).toString(16)},a=n.__fontmetrics__.compress=function(x){var M,D,P,F,U=["{"];for(var j in x){if(M=x[j],isNaN(parseInt(j,10))?D="'"+j+"'":(j=parseInt(j,10),D=(D=s(j).slice(2)).slice(0,-1)+i[D.slice(-1)]),"number"==typeof M)M<0?(P=s(M).slice(3),F="-"):(P=s(M).slice(2),F=""),P=F+P.slice(0,-1)+i[P.slice(-1)];else{if("object"!==(0,Wr.Z)(M))throw new Error("Don't know what to do with value type "+(0,Wr.Z)(M)+".");P=a(M)}U.push(D+P)}return U.push("}"),U.join("")},d=n.__fontmetrics__.uncompress=function(x){if("string"!=typeof x)throw new Error("Invalid argument passed to uncompress.");for(var M,D,P,F,U={},j=1,Z=U,ne=[],de="",ke="",Ye=x.length-1,Me=1;Me<Ye;Me+=1)"'"==(F=x[Me])?M?(P=M.join(""),M=void 0):M=[]:M?M.push(F):"{"==F?(ne.push([Z,P]),Z={},P=void 0):"}"==F?((D=ne.pop())[0][D[1]]=Z,P=void 0,Z=D[0]):"-"==F?j=-1:void 0===P?e.hasOwnProperty(F)?(de+=e[F],P=parseInt(de,16)*j,j=1,de=""):de+=F:e.hasOwnProperty(F)?(ke+=e[F],Z[P]=parseInt(ke,16)*j,j=1,P=void 0,ke=""):ke+=F;return U},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},b={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var M=x.font,D=b.Unicode[M.postScriptName];D&&(M.metadata.Unicode={},M.metadata.Unicode.widths=D.widths,M.metadata.Unicode.kerning=D.kerning);var P=m.Unicode[M.postScriptName];P&&(M.metadata.Unicode.encoding=P,M.encoding=P.codePages[0])}])}(ii.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=e.charCodeAt(s);return r};n.API.events.push(["addFont",function(e){var a,d,i=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===s.existsFileInVFS(r.postScriptName)?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");a=r,d=/^\x00\x01\x00\x00/.test(d=i)?t(d):t($2(d)),a.metadata=n.API.TTFFont.open(d),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]}}])}(ii),ii.API.addSvgAsImage=function(e,i,r,s,a,d,h,m){if(isNaN(i)||isNaN(r))throw Yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var b=document.createElement("canvas");b.width=s,b.height=a;var x=b.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,b.width,b.height);var M={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},D=this;return function t(){return(ai.canvg?Promise.resolve(ai.canvg):Q.e(484).then(Q.bind(Q,9484))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}().then(function(P){return P.fromString(x,e,M)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(P){return P.render(M)}).then(function(){D.addImage(b.toDataURL("image/jpeg",1),i,r,s,a,h,m)})},ii.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},ii.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(a),h=[],m=0,b=0,x=0;function M(P,F){var U,j=!1;for(U=0;U<P.length;U+=1)P[U]===F&&(j=!0);return j}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,"reset"===n||!0===t){var D=d.length;for(x=0;x<D;x+=1)e[d[x]].value=e[d[x]].defaultValue,e[d[x]].explicitSet=!1}if("object"===(0,Wr.Z)(n))for(r in n)if(s=n[r],M(d,r)&&void 0!==s){if("boolean"===e[r].type&&"boolean"==typeof s)e[r].value=s;else if("name"===e[r].type&&M(e[r].valueSet,s))e[r].value=s;else if("integer"===e[r].type&&Number.isInteger(s))e[r].value=s;else if("array"===e[r].type){for(m=0;m<s.length;m+=1)if(i=!0,1===s[m].length&&"number"==typeof s[m][0])h.push(String(s[m]-1));else if(s[m].length>1){for(b=0;b<s[m].length;b+=1)"number"!=typeof s[m][b]&&(i=!1);!0===i&&h.push([s[m][0]-1,s[m][1]-1].join(" "))}e[r].value="["+h.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var P,F=[];for(P in e)!0===e[P].explicitSet&&F.push("name"===e[P].type?"/"+P+" /"+e[P].value:"/"+P+" "+e[P].value);0!==F.length&&this.internal.write("/ViewerPreferences\n<<\n"+F.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),m=s.length+a.length+d.length+r.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+d+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(ii.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,a){for(var d,h=a.metadata.Unicode.widths,m=["","0","00","000","0000"],b=[""],x=0,M=s.length;x<M;++x){if(d=a.metadata.characterToGlyph(s.charCodeAt(x)),a.metadata.glyIdsUsed.push(d),a.metadata.toUnicode[d]=s.charCodeAt(x),-1==h.indexOf(d)&&(h.push(d),h.push([parseInt(a.metadata.widthOfGlyph(d),10)])),"0"==d)return b.join("");d=d.toString(16),b.push(m[4-d.length],d)}return b.join("")},i=function(s){var a,d,h,m,b,x,M;for(b="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",h=[],x=0,M=(d=Object.keys(s).sort(function(D,P){return D-P})).length;x<M;x++)a=d[x],h.length>=100&&(b+="\n"+h.length+" beginbfchar\n"+h.join("\n")+"\nendbfchar",h=[]),null!=s[a]&&"function"==typeof s[a].toString&&(m=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),h.push("<"+a+"><"+m+">"));return h.length&&(b+="\n"+h.length+" beginbfchar\n"+h.join("\n")+"\nendbfchar\n"),b+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(s){!function(a){var d=a.font,h=a.out,m=a.newObject,b=a.putStream;if(d.metadata instanceof n.API.TTFFont&&"Identity-H"===d.encoding){for(var x=d.metadata.Unicode.widths,M=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),D="",P=0;P<M.length;P++)D+=String.fromCharCode(M[P]);var F=m();b({data:D,addLength1:!0,objectId:F}),h("endobj");var U=m();b({data:i(d.metadata.toUnicode),addLength1:!0,objectId:U}),h("endobj");var j=m();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+SE(d.fontName)),h("/FontFile2 "+F+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var Z=m();h("<<"),h("/Type /Font"),h("/BaseFont /"+SE(d.fontName)),h("/FontDescriptor "+j+" 0 R"),h("/W "+n.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=m(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+U+" 0 R"),h("/BaseFont /"+SE(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+Z+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}}(s)}]),t.events.push(["putFont",function(s){!function(a){var d=a.font,h=a.out,m=a.newObject,b=a.putStream;if(d.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===d.encoding){for(var x=d.metadata.rawData,M="",D=0;D<x.length;D++)M+=String.fromCharCode(x[D]);var P=m();b({data:M,addLength1:!0,objectId:P}),h("endobj");var F=m();b({data:i(d.metadata.toUnicode),addLength1:!0,objectId:F}),h("endobj");var U=m();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+P+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+SE(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=m();for(var j=0;j<d.metadata.hmtx.widths.length;j++)d.metadata.hmtx.widths[j]=parseInt(d.metadata.hmtx.widths[j]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+F+" 0 R/BaseFont/"+SE(d.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}}(s)}]);var r=function(s){var a,d=s.text||"",h=s.x,m=s.y,b=s.options||{},x=s.mutex||{},M=x.pdfEscape,D=x.activeFontKey,P=x.fonts,F=D,U="",j=0,Z="",ne=P[F].encoding;if("Identity-H"!==P[F].encoding)return{text:d,x:h,y:m,options:b,mutex:x};for(Z=d,F=D,Array.isArray(d)&&(Z=d[0]),j=0;j<Z.length;j+=1)P[F].metadata.hasOwnProperty("cmap")&&(a=P[F].metadata.cmap.unicode.codeMap[Z[j].charCodeAt(0)]),a||Z[j].charCodeAt(0)<256&&P[F].metadata.hasOwnProperty("Unicode")?U+=Z[j]:U+="";var de="";return parseInt(F.slice(1))<14||"WinAnsiEncoding"===ne?de=M(U,F).split("").map(function(ke){return ke.charCodeAt(0).toString(16)}).join(""):"Identity-H"===ne&&(de=e(U,P[F])),x.isHex=!0,{text:de,x:h,y:m,options:b,mutex:x}};t.events.push(["postProcessText",function(s){var a=s.text||"",d=[],h={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var m=0;for(m=0;m<a.length;m+=1)Array.isArray(a[m])&&3===a[m].length?d.push([r(Object.assign({},h,{text:a[m][0]})).text,a[m][1],a[m][2]]):d.push(r(Object.assign({},h,{text:a[m]})).text);s.text=d}else s.text=r(Object.assign({},h,{text:a})).text}])}(ii),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(ii.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,a,d,h,m,b,x=t,M=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],D=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},F={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Z=!1,ne=0;this.__bidiEngine__={};var de=function(re){var ie=re.charCodeAt(),we=ie>>8,ye=F[we];return void 0!==ye?x[256*ye+(255&ie)]:252===we||253===we?"AL":j.test(we)?"L":8===we?"R":"N"},ke=function(re){for(var ie,we=0;we<re.length;we++){if("L"===(ie=de(re.charAt(we))))return!1;if("R"===ie)return!0}return!1},Ye=function(re,ie,we,ye){var ht,Ee,Le,De,Je=ie[ye];switch(Je){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Z=!1;break;case"N":case"AN":break;case"EN":Z&&(Je="AN");break;case"AL":Z=!0,Je="R";break;case"WS":case"BN":Je="N";break;case"CS":ye<1||ye+1>=ie.length||"EN"!==(ht=we[ye-1])&&"AN"!==ht||"EN"!==(Ee=ie[ye+1])&&"AN"!==Ee?Je="N":Z&&(Ee="AN"),Je=Ee===ht?Ee:"N";break;case"ES":Je="EN"===(ht=ye>0?we[ye-1]:"B")&&ye+1<ie.length&&"EN"===ie[ye+1]?"EN":"N";break;case"ET":if(ye>0&&"EN"===we[ye-1]){Je="EN";break}if(Z){Je="N";break}for(Le=ye+1,De=ie.length;Le<De&&"ET"===ie[Le];)Le++;Je=Le<De&&"EN"===ie[Le]?"EN":"N";break;case"NSM":if(a&&!d){for(De=ie.length,Le=ye+1;Le<De&&"NSM"===ie[Le];)Le++;if(Le<De){var ct=re[ye];if(ht=ie[Le],(ct>=1425&&ct<=2303||64286===ct)&&("R"===ht||"AL"===ht)){Je="R";break}}}Je=ye<1||"B"===(ht=ie[ye-1])?"N":we[ye-1];break;case"B":Z=!1,r=!0,Je=ne;break;case"S":s=!0,Je="N"}return Je},Me=function(re,ie,we){var ye=re.split("");return we&&he(ye,we,{hiLevel:ne}),ye.reverse(),ie&&ie.reverse(),ye.join("")},he=function(re,ie,we){var ye,ht,Ee,Le,De,Je=-1,ct=re.length,sn=0,$=[],ae=ne?D:M,le=[];for(Z=!1,r=!1,s=!1,ht=0;ht<ct;ht++)le[ht]=de(re[ht]);for(Ee=0;Ee<ct;Ee++){if(De=sn,$[Ee]=Ye(re,le,$,Ee),ye=240&(sn=ae[De][P[$[Ee]]]),ie[Ee]=Le=ae[sn&=15][5],ye>0)if(16===ye){for(ht=Je;ht<Ee;ht++)ie[ht]=1;Je=-1}else Je=-1;if(ae[sn][6])-1===Je&&(Je=Ee);else if(Je>-1){for(ht=Je;ht<Ee;ht++)ie[ht]=Le;Je=-1}"B"===le[Ee]&&(ie[Ee]=0),we.hiLevel|=Le}s&&function(Se,Ve,Ge){for(var tt=0;tt<Ge;tt++)if("S"===Se[tt]){Ve[tt]=ne;for(var et=tt-1;et>=0&&"WS"===Se[et];et--)Ve[et]=ne}}(le,ie,ct)},dt=function(re,ie,we,ye,ht){if(!(ht.hiLevel<re)){if(1===re&&1===ne&&!r)return ie.reverse(),void(we&&we.reverse());for(var Ee,Le,De,Je,ct=ie.length,sn=0;sn<ct;){if(ye[sn]>=re){for(De=sn+1;De<ct&&ye[De]>=re;)De++;for(Je=sn,Le=De-1;Je<Le;Je++,Le--)Ee=ie[Je],ie[Je]=ie[Le],ie[Le]=Ee,we&&(Ee=we[Je],we[Je]=we[Le],we[Le]=Ee);sn=De}sn++}}},gt=function(re,ie,we){var ye=re.split(""),ht={hiLevel:ne};return we||(we=[]),he(ye,we,ht),function(Ee,Le,De){if(0!==De.hiLevel&&b)for(var Je,ct=0;ct<Ee.length;ct++)1===Le[ct]&&(Je=U.indexOf(Ee[ct]))>=0&&(Ee[ct]=U[Je+1])}(ye,we,ht),dt(2,ye,ie,we,ht),dt(1,ye,ie,we,ht),ye.join("")};return this.__bidiEngine__.doBidiReorder=function(re,ie,we){if(function(ht,Ee){if(Ee)for(var Le=0;Le<ht.length;Le++)Ee[Le]=Le;void 0===d&&(d=ke(ht)),void 0===m&&(m=ke(ht))}(re,ie),a||!h||m)if(a&&h&&d^m)ne=d?1:0,re=Me(re,ie,we);else if(!a&&h&&m)ne=d?1:0,re=gt(re,ie,we),re=Me(re,ie);else if(!a||d||h||m){if(a&&!h&&d^m)re=Me(re,ie),d?(ne=0,re=gt(re,ie,we)):(ne=1,re=gt(re,ie,we),re=Me(re,ie));else if(a&&d&&!h&&m)ne=1,re=gt(re,ie,we),re=Me(re,ie);else if(!a&&!h&&d^m){var ye=b;d?(ne=1,re=gt(re,ie,we),ne=0,b=!1,re=gt(re,ie,we),b=ye):(ne=0,re=gt(re,ie,we),re=Me(re,ie),ne=1,b=!1,re=gt(re,ie,we),b=ye,re=Me(re,ie))}}else ne=0,re=gt(re,ie,we);else ne=d?1:0,re=gt(re,ie,we);return re},this.__bidiEngine__.setOptions=function(re){re&&(a=re.isInputVisual,h=re.isOutputVisual,d=re.isInputRtl,m=re.isOutputRtl,b=re.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,s=i.options||{},a=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,e.setOptions(s),"[object Array]"===Object.prototype.toString.call(r)){var d=0;for(a=[],d=0;d<r.length;d+=1)"[object Array]"===Object.prototype.toString.call(r[d])?a.push([e.doBidiReorder(r[d][0]),r[d][1],r[d][2]]):a.push([e.doBidiReorder(r[d])]);i.text=a}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(ii),ii.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new xy(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Kce(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new Fce(this.contents),this.head=new Bce(this),this.name=new zce(this),this.cmap=new wW(this),this.toUnicode={},this.hhea=new Vce(this),this.maxp=new qce(this),this.hmtx=new Gce(this),this.post=new jce(this),this.os2=new Uce(this),this.loca=new Zce(this),this.glyf=new $ce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,d,h,m;for(m=[],a=0,d=(h=this.bbox).length;a<d;a++)m.push(Math.round(h[a]*this.scaleFactor));return m}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,s,a,d;for(a=0,s=0,d=(t=""+t).length;0<=d?s<d:s>d;s=0<=d?++s:--s)r=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return a*(e/1e3)},n.prototype.lineHeight=function(t,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*t},n}();var zh,xy=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,s,a,d,h;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),d=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^d)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*s+65536*a+256*d+h},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var i,r,s;for(s=[],i=0,r=t.length;i<r;i++)s.push(this.writeByte(t[i]));return s},n}(),Fce=function(){var n;function t(e){var i,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,a,d,h,m,b,x,M,D,P,F;for(F in D=Object.keys(e).length,h=Math.log(2),x=16*Math.floor(Math.log(D)/h),a=Math.floor(x/h),b=16*D-x,(r=new xy).writeInt(this.scalarType),r.writeShort(D),r.writeShort(x),r.writeShort(a),r.writeShort(b),m=r.pos+16*D,d=null,P=[],e)for(M=e[F],r.writeString(F),r.writeInt(n(M)),r.writeInt(m),r.writeInt(M.length),P=P.concat(M),"head"===F&&(d=m),m+=M.length;m%4;)P.push(0),m++;return r.write(P),i=2981146554-n(r.data),r.pos=d+8,r.writeUInt32(i),r.data},n=function(e){var i,r,s,a;for(e=xW.call(e);e.length%4;)e.push(0);for(s=new xy(e),r=0,i=0,a=e.length;i<a;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),Lce={}.hasOwnProperty,Fp=function(n,t){for(var e in t)Lce.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};zh=function(){function n(t){var e;this.file=t,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Bce=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Fp(t,zh),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new xy).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),bW=function(){function n(t,e){var i,r,s,a,d,h,m,b,x,M,D,P,F,U,j,Z,ne;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),x=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(D=t.readUInt16(),M=D/2,t.pos+=6,s=function(){var de,ke;for(ke=[],h=de=0;0<=M?de<M:de>M;h=0<=M?++de:--de)ke.push(t.readUInt16());return ke}(),t.pos+=2,F=function(){var de,ke;for(ke=[],h=de=0;0<=M?de<M:de>M;h=0<=M?++de:--de)ke.push(t.readUInt16());return ke}(),m=function(){var de,ke;for(ke=[],h=de=0;0<=M?de<M:de>M;h=0<=M?++de:--de)ke.push(t.readUInt16());return ke}(),b=function(){var de,ke;for(ke=[],h=de=0;0<=M?de<M:de>M;h=0<=M?++de:--de)ke.push(t.readUInt16());return ke}(),r=(this.length-t.pos+this.offset)/2,d=function(){var de,ke;for(ke=[],h=de=0;0<=r?de<r:de>r;h=0<=r?++de:--de)ke.push(t.readUInt16());return ke}(),h=j=0,ne=s.length;j<ne;h=++j)for(U=s[h],i=Z=P=F[h];P<=U?Z<=U:Z>=U;i=P<=U?++Z:--Z)0===b[h]?a=i+m[h]:0!==(a=d[b[h]/2+(i-P)-(M-h)]||0)&&(a+=m[h]),this.codeMap[i]=65535&a}t.pos=x}return n.encode=function(t,e){var i,r,s,a,d,h,m,b,x,M,D,P,F,U,j,Z,ne,ke,Ye,Me,he,dt,gt,re,ie,we,ye,ht,Ee,Le,De,Je,ct,sn,$,ae,le,Se,Ve,Ge,tt,et,Kt,Wt,xn;switch(ye=new xy,a=Object.keys(t).sort(function(Sn,li){return Sn-li}),e){case"macroman":for(F=0,U=function(){var Sn=[];for(P=0;P<256;++P)Sn.push(0);return Sn}(),Z={0:0},s={},ht=0,Je=a.length;ht<Je;ht++)null==Z[et=t[r=a[ht]]]&&(Z[et]=++F),s[r]={old:t[r],new:Z[t[r]]},U[r]=Z[t[r]];return ye.writeUInt16(1),ye.writeUInt16(0),ye.writeUInt32(12),ye.writeUInt16(0),ye.writeUInt16(262),ye.writeUInt16(0),ye.write(U),{charMap:s,subtable:ye.data,maxGlyphID:F+1};case"unicode":for(ie=[],x=[],ne=0,Z={},i={},j=m=null,Ee=0,ct=a.length;Ee<ct;Ee++)null==Z[ke=t[r=a[Ee]]]&&(Z[ke]=++ne),i[r]={old:ke,new:Z[ke]},d=Z[ke]-r,null!=j&&d===m||(j&&x.push(j),ie.push(r),m=d),j=r;for(j&&x.push(j),x.push(65535),ie.push(65535),gt=2*(dt=ie.length),he=2*Math.pow(Math.log(dt)/Math.LN2,2),M=Math.log(he/2)/Math.LN2,Me=2*dt-he,h=[],Ye=[],D=[],P=Le=0,sn=ie.length;Le<sn;P=++Le){if(b=x[P],65535===(re=ie[P])){h.push(0),Ye.push(0);break}if(re-(we=i[re].new)>=32768)for(h.push(0),Ye.push(2*(D.length+dt-P)),r=De=re;re<=b?De<=b:De>=b;r=re<=b?++De:--De)D.push(i[r].new);else h.push(we-re),Ye.push(0)}for(ye.writeUInt16(3),ye.writeUInt16(1),ye.writeUInt32(12),ye.writeUInt16(4),ye.writeUInt16(16+8*dt+2*D.length),ye.writeUInt16(0),ye.writeUInt16(gt),ye.writeUInt16(he),ye.writeUInt16(M),ye.writeUInt16(Me),Ge=0,$=x.length;Ge<$;Ge++)ye.writeUInt16(r=x[Ge]);for(ye.writeUInt16(0),tt=0,ae=ie.length;tt<ae;tt++)ye.writeUInt16(r=ie[tt]);for(Kt=0,le=h.length;Kt<le;Kt++)ye.writeUInt16(d=h[Kt]);for(Wt=0,Se=Ye.length;Wt<Se;Wt++)ye.writeUInt16(Ye[Wt]);for(xn=0,Ve=D.length;xn<Ve;xn++)ye.writeUInt16(F=D[xn]);return{charMap:i,subtable:ye.data,maxGlyphID:ne+1}}},n}(),wW=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Fp(t,zh),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new bW(e,this.offset),this.tables.push(i),i.isUnicode&&null==this.unicode&&(this.unicode=i);return!0},t.encode=function(e,i){var r,s;return null==i&&(i="macroman"),r=bW.encode(e,i),(s=new xy).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),Vce=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Fp(t,zh),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Uce=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Fp(t,zh),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),jce=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Fp(t,zh),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)i=e.readByte(),s.push(this.names.push(e.readString(i)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var d,h,m;for(m=[],a=d=0,h=this.file.maxp.numGlyphs;0<=h?d<h:d>h;a=0<=h?++d:--d)m.push(e.readUInt32());return m}.call(this)}},t}(),Hce=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},zce=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Fp(t,zh),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,s,a,d,h,m,b,x,M,D;for(e.pos=this.offset,e.readShort(),i=e.readShort(),h=e.readShort(),r=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(m={},a=x=0,M=r.length;x<M;a=++x)e.pos=(s=r[a]).offset,b=e.readString(s.length),d=new Hce(b,s),null==m[D=s.nameID]&&(m[D]=[]),m[s.nameID].push(d);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},t}(),qce=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Fp(t,zh),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Gce=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Fp(t,zh),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,s,d,h,m;for(e.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var b,x;for(x=[],i=b=0;0<=s?b<s:b>s;i=0<=s?++b:--b)x.push(e.readInt16());return x}(),this.widths=function(){var b,x,M,D;for(D=[],b=0,x=(M=this.metrics).length;b<x;b++)D.push(M[b].advance);return D}.call(this),r=this.widths[this.widths.length-1],m=[],i=d=0;0<=s?d<s:d>s;i=0<=s?++d:--d)m.push(this.widths.push(r));return m},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),xW=[].slice,$ce=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Fp(t,zh),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,s,a,d,h,m,b,x,M;return e in this.cache?this.cache[e]:(i=this.file.contents,r=(a=this.file.loca).indexOf(e),0===(s=a.lengthOf(e))?this.cache[e]=null:(i.pos=this.offset+r,d=(h=new xy(i.read(s))).readShort(),b=h.readShort(),M=h.readShort(),m=h.readShort(),x=h.readShort(),this.cache[e]=-1===d?new Yce(h,b,M,m,x):new Wce(h,d,b,M,m,x),this.cache[e]))},t.prototype.encode=function(e,i,r){var s,a,d,h,m;for(d=[],a=[],h=0,m=i.length;h<m;h++)s=e[i[h]],a.push(d.length),s&&(d=d.concat(s.encode(r)));return a.push(d.length),{table:d,offsets:a}},t}(),Wce=function(){function n(t,e,i,r,s,a){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Yce=function(){function n(t,e,i,r,s){var a,d;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;d=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&d;)a.pos+=1&d?4:2,128&d?a.pos+=8:64&d?a.pos+=4:8&d&&(a.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new xy(xW.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),Zce=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Fp(t,zh),t.prototype.tag="loca",t.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,a;for(a=[],r=0,s=this.length;r<s;r+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var s,a;for(a=[],r=0,s=this.length;r<s;r+=4)a.push(e.readUInt32());return a}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),s=0,a=0,d=0;d<r.length;++d)if(r[d]=s,a<i.length&&i[a]==d){++a,r[d]=s;var m=this.offsets[d+1]-this.offsets[d];m>0&&(s+=m)}for(var b=new Array(4*r.length),x=0;x<r.length;++x)b[4*x+3]=255&r[x],b[4*x+2]=(65280&r[x])>>8,b[4*x+1]=(16711680&r[x])>>16,b[4*x]=(4278190080&r[x])>>24;return b},t}(),Kce=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)t[e]=r[s[e]];return t},n.prototype.glyphsFor=function(t){var e,i,r,s,a,d,h;for(r={},a=0,d=t.length;a<d;a++)r[s=t[a]]=this.font.glyf.glyphFor(s);for(s in e=[],r)null!=(i=r[s])&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in h=this.glyphsFor(e))r[s]=i=h[s];return r},n.prototype.encode=function(t,e){var i,r,s,a,h,m,b,x,M,D,P,F,U,j;for(r in i=wW.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),D={0:0},j=i.charMap)D[(h=j[r]).old]=h.new;for(P in M=i.maxGlyphID,a)P in D||(D[P]=M++);return b=function(Z){var ne,de;for(ne in de={},Z)de[Z[ne]]=ne;return de}(D),x=Object.keys(b).sort(function(Z,ne){return Z-ne}),F=function(){var Z,ne,de;for(de=[],Z=0,ne=x.length;Z<ne;Z++)de.push(b[x[Z]]);return de}(),s=this.font.glyf.encode(a,F,D),m=this.font.loca.encode(s.offsets,F),U={cmap:this.font.cmap.raw(),glyf:s.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n}();ii.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var r,s;if(Array.isArray(e))return"["+function(){var d,h,m;for(m=[],d=0,h=e.length;d<h;d++)m.push(t.convert(e[d]));return m}().join(" ")+"]";if("string"==typeof e)return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(e)){for(r in s=["<<"],e)s.push("/"+r+" "+t.convert(e[r]));return s.push(">>"),s.join("\n")}return""+e},t}();const Qce=["pdfContainer"];let Xce=(()=>{class n{constructor(){this.invoiceData=null}ngAfterViewInit(){this.pdfContainer&&this.generatePDF()}generatePDF(){this.invoiceData&&(new ii).html(this.pdfContainer.nativeElement,{callback:r=>{r.save("invoice.pdf")}})}getSelectedRoomsNames(){return this.invoiceData?.bookingDetails?.rooms.map(e=>e.name).join(", ")||""}printInvoice(){window.print()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-invoice"]],viewQuery:function(i,r){if(1&i&&l.Gf(Qce,5),2&i){let s;l.iGM(s=l.CRH())&&(r.pdfContainer=s.first)}},inputs:{invoiceData:"invoiceData"},decls:21,vars:6,consts:[[1,"invoice-container"],[1,"customer-info"],[1,"booking-details"],[1,"total-cost"],[3,"click"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Invoice"),l.qZA(),l.TgZ(3,"div",1)(4,"h3"),l._uU(5,"Customer Information"),l.qZA(),l.TgZ(6,"p"),l._uU(7),l.qZA()(),l.TgZ(8,"div",2)(9,"h3"),l._uU(10,"Booking Details"),l.qZA(),l.TgZ(11,"p"),l._uU(12),l.qZA()(),l.TgZ(13,"div",3)(14,"h3"),l._uU(15,"Total Cost"),l.qZA(),l.TgZ(16,"p"),l._uU(17),l.ALo(18,"currency"),l.qZA()(),l.TgZ(19,"button",4),l.NdJ("click",function(){return r.printInvoice()}),l._uU(20,"Print Invoice"),l.qZA()()),2&i&&(l.xp6(7),l.hij("Name: ",(null==r.invoiceData||null==r.invoiceData.customerInfo?null:r.invoiceData.customerInfo.email)||"N/A",""),l.xp6(5),l.hij("Selected Rooms: ",r.getSelectedRoomsNames(),""),l.xp6(5),l.hij("Total: ",l.xi3(18,3,null==r.invoiceData?null:r.invoiceData.totalCost,"INR"),""))},dependencies:[ei],styles:[".invoice-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:10px;border:1px solid #ccc;border-radius:8px;background-color:#fff}.customer-info[_ngcontent-%COMP%], .booking-details[_ngcontent-%COMP%], .total-cost[_ngcontent-%COMP%]{margin-bottom:15px}@media only screen and (max-width: 600px){.invoice-container[_ngcontent-%COMP%]{padding:8px}}@media only screen and (min-width: 601px) and (max-width: 768px){.invoice-container[_ngcontent-%COMP%]{padding:15px}}"]})}return n})(),Jce=(()=>{class n{constructor(e,i,r){this.authService=e,this._snackBar=i,this.router=r,this.email="",this.password=""}ngOnInit(){this.authService.isUserLoggedIn().subscribe(e=>{e&&(this.openSnackBar("User is logged in","Close"),this.router.navigate(["/"]))})}login(){this.authService.signIn(this.email,this.password).then(()=>{this.authService.userExists(this.email).then(e=>{e?(this.openSnackBar("Login Successful","Close"),console.log("User exists. Proceed with logic...")):(this.openSnackBar("User not found. Please Signup first","Close"),this.router.navigate(["/signup"]))}).catch(e=>{console.error("Error checking user existence:",e),this.openSnackBar(e,"Close")})}).catch(e=>{console.error("Login failed:",e),this.openSnackBar("Login Failed. Enter valid data","Close")})}openSnackBar(e,i){const r=new Nd;r.verticalPosition="top",r.horizontalPosition="center",r.duration=3e3,this._snackBar.open(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(uw),l.Y36(gy),l.Y36(Js))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:14,vars:2,consts:[[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"],["routerLink","/signup"]],template:function(i,r){1&i&&(l.TgZ(0,"div")(1,"h2"),l._uU(2,"Login"),l.qZA(),l.TgZ(3,"form",0),l.NdJ("ngSubmit",function(){return r.login()}),l.TgZ(4,"label",1),l._uU(5,"Email:"),l.qZA(),l.TgZ(6,"input",2),l.NdJ("ngModelChange",function(a){return r.email=a}),l.qZA(),l.TgZ(7,"label",3),l._uU(8,"Password:"),l.qZA(),l.TgZ(9,"input",4),l.NdJ("ngModelChange",function(a){return r.password=a}),l.qZA(),l.TgZ(10,"button",5),l._uU(11,"Login"),l.qZA(),l.TgZ(12,"a",6),l._uU(13," Or Signup here "),l.qZA()()()),2&i&&(l.xp6(6),l.Q6J("ngModel",r.email),l.xp6(3),l.Q6J("ngModel",r.password))},dependencies:[_2,fP,mE,iP,rP,vE,F2,fy],styles:["div[_ngcontent-%COMP%]{max-width:400px;margin:5% auto;padding:20px;box-shadow:0 0 10px #0000001a}h2[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:8px}input[_ngcontent-%COMP%]{padding:10px;margin-bottom:16px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{padding:12px;background-color:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#2980b9}"]})}return n})(),eue=(()=>{class n{constructor(e,i,r){this.authService=e,this._snackBar=i,this.router=r,this.email="",this.password="",this.name=""}ngOnInit(){this.authService.isUserLoggedIn().subscribe(e=>{e&&(this.openSnackBar("User is logged in","Close"),this.router.navigate(["/"]))})}signUp(){this.authService.signUp(this.email,this.password,this.name).then(()=>{this.openSnackBar("Signup Successful. Please use the credentials to login","Close"),this.router.navigate(["/login"])}).catch(e=>{console.error("SignUp failed",e),this.openSnackBar("Signup Failed. Enter valid data","Close")})}openSnackBar(e,i){const r=new Nd;r.verticalPosition="top",r.horizontalPosition="center",r.duration=3e3,this._snackBar.open(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(uw),l.Y36(gy),l.Y36(Js))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-signup"]],decls:17,vars:3,consts:[[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(i,r){1&i&&(l.TgZ(0,"div")(1,"h2"),l._uU(2,"Sign Up"),l.qZA(),l.TgZ(3,"form",0),l.NdJ("ngSubmit",function(){return r.signUp()}),l.TgZ(4,"label",1),l._uU(5,"Email:"),l.qZA(),l.TgZ(6,"input",2),l.NdJ("ngModelChange",function(a){return r.email=a}),l.qZA(),l.TgZ(7,"label",3),l._uU(8,"Name:"),l.qZA(),l.TgZ(9,"input",4),l.NdJ("ngModelChange",function(a){return r.name=a}),l.qZA(),l.TgZ(10,"label",5),l._uU(11,"Password:"),l.qZA(),l.TgZ(12,"input",6),l.NdJ("ngModelChange",function(a){return r.password=a}),l.qZA(),l.TgZ(13,"p"),l._uU(14,"Password must be atleast 6 characters"),l.qZA(),l.TgZ(15,"button",7),l._uU(16,"Sign Up"),l.qZA()()()),2&i&&(l.xp6(6),l.Q6J("ngModel",r.email),l.xp6(3),l.Q6J("ngModel",r.name),l.xp6(3),l.Q6J("ngModel",r.password))},dependencies:[fP,mE,iP,rP,vE,F2,fy],styles:["div[_ngcontent-%COMP%]{max-width:400px;margin:5% auto;padding:20px;box-shadow:0 0 10px #0000001a}h2[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:8px}input[_ngcontent-%COMP%]{padding:10px;margin-bottom:16px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{padding:12px;background-color:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#2980b9}"]})}return n})(),tue=(()=>{class n{constructor(e){this.db=e}getRooms(){return this.db.list("rooms").valueChanges()}saveRooms(e){e.forEach(i=>{this.db.list("rooms").push(i)})}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(eS))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nue(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA(),l.TgZ(4,"mat-card-subtitle"),l._uU(5),l.qZA()(),l._UZ(6,"img",3),l.TgZ(7,"mat-card-content",4)(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"p")(13,"span",5),l._uU(14,"Rs."),l.qZA(),l.TgZ(15,"span",6),l._uU(16),l.qZA(),l.TgZ(17,"span",7),l._uU(18,"/Day"),l.qZA()()(),l.TgZ(19,"mat-card-actions")(20,"button",8),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.book())}),l._uU(21,"Book Now"),l.qZA()()()}if(2&n){const e=t.$implicit;l.xp6(3),l.Oqu(e.name),l.xp6(2),l.Oqu(e.subtitle),l.xp6(1),l.Q6J("src",e.photo,l.LSH),l.xp6(3),l.Oqu(e.description),l.xp6(2),l.hij("Accommodates: ",e.accommodation," People"),l.xp6(5),l.Oqu(e.price)}}let iue=(()=>{class n{constructor(e,i,r,s,a){this.firebaseService=e,this._snackBar=i,this.router=r,this.authService=s,this.sharedService=a,this.rooms=[{name:"Suite 1",subtitle:"Most Popular",photo:"assets/photos/3.jpg",description:"This suite offers you the best time you can imagine",accommodation:3,price:3e4},{name:"Suite 2",subtitle:"Family Pack",photo:"assets/photos/4.jpg",description:"You and your family will get only the best services here",accommodation:4,price:3e4},{name:"River View room",subtitle:"Nature Lover",photo:"assets/photos/2.jpg",description:"This room offers the best view of the river and you can enjoy with the calming sound of the river flowing",accommodation:3,price:1e4},{name:"Room 1",subtitle:"Normal",photo:"assets/photos/6.jpg",description:"This room accomodates two people",accommodation:2,price:2500},{name:"Room 2",subtitle:"Normal",photo:"assets/photos/6.jpg",description:"This room accomodates three people",accommodation:3,price:4e3},{name:"Room 3",subtitle:"Normal",photo:"assets/photos/6.jpg",description:"This room accomodates two people",accommodation:2,price:3e3}]}ngOnInit(){this.firebaseService.saveRooms([{name:"Suite 1",subtitle:"Most Popular",photo:"assets/photos/3.jpg",description:"This suite offers you the best time you can imagine",accommodation:3,price:3e4},{name:"Suite 2",subtitle:"Family Pack",photo:"assets/photos/4.jpg",description:"You and your family will get only the best services here",accommodation:4,price:3e4},{name:"River View room",subtitle:"Nature Lover",photo:"assets/photos/2.jpg",description:"This room offers the best view of the river and you can enjoy with the calming sound of the river flowing",accommodation:3,price:1e4},{name:"Room 1",subtitle:"Normal",photo:"assets/photos/6.jpg",description:"This room accomodates two people",accommodation:2,price:2500},{name:"Room 2",subtitle:"Normal",photo:"assets/photos/6.jpg",description:"This room accomodates three people",accommodation:3,price:4e3},{name:"Room 3",subtitle:"Normal",photo:"assets/photos/6.jpg",description:"This room accomodates two people",accommodation:2,price:3e3}])}book(){this.authService.user$.subscribe(e=>{e?(this.openSnackBar("Arrival and Departure dates should be selected","Ok"),this.router.navigate(["/"])):(this.openSnackBar("User must be logged in","Login"),this.router.navigate(["/login"]))})}openSnackBar(e,i){const r=new Nd;r.verticalPosition="top",r.horizontalPosition="center",r.duration=3e3,this._snackBar.open(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(tue),l.Y36(gy),l.Y36(Js),l.Y36(uw),l.Y36(fE))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-allrooms"]],decls:2,vars:1,consts:[[1,"rooms"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-image","","alt","Photo of a room",3,"src"],[1,"card-content"],[1,"currency"],[1,"price"],[1,"period"],[1,"btn",3,"click"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0),l.YNc(1,nue,22,6,"mat-card",1),l.qZA()),2&i&&(l.xp6(1),l.Q6J("ngForOf",r.rooms))},dependencies:[zs,iw,k2,sw,aw,pE,ow,rw],styles:[".rooms[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.filter-sort-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.filter-sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.filter-sort-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px;cursor:pointer}.example-card[_ngcontent-%COMP%]{width:calc(33.33% - 40px);margin:20px;display:flex;flex-direction:column;border-radius:8px;overflow:hidden;box-shadow:0 0 10px #0000001a;transition:transform .3s}.example-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}mat-card-content[_ngcontent-%COMP%]{flex-grow:1;padding:16px}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:16px}p[_ngcontent-%COMP%]{margin-bottom:10px}p[_ngcontent-%COMP%]   span.currency[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#333}p[_ngcontent-%COMP%]   span.price[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#7658e4}p[_ngcontent-%COMP%]   span.period[_ngcontent-%COMP%]{font-size:1em;color:#333}.rooms[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:18px;color:#f1f1f1;background-color:#35965d;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.rooms[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#bd4a3a}@media only screen and (max-width: 1200px){.example-card[_ngcontent-%COMP%]{width:calc(50% - 40px)}}@media only screen and (max-width: 768px){.example-card[_ngcontent-%COMP%]{width:calc(100% - 40px)}}"]})}return n})(),rue=(()=>{class n{_printStyle=[];_styleSheetFile="";setPrintStyle(e){this._printStyle=[];for(let i in e)e.hasOwnProperty(i)&&this._printStyle.push((i+JSON.stringify(e[i])).replace(/['"]+/g,""))}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}returnStyleSheetLinkTags(){return this._styleSheetFile}setStyleSheetFile(e){let i=function(r){return`<link rel="stylesheet" type="text/css" href="${r}">`};if(-1!==e.indexOf(",")){const r=e.split(",");this._styleSheetFile=r.map(s=>i(s)).join("")}else this._styleSheetFile=i(e)}updateInputDefaults(e){for(let i=0;i<e.length;i++){const r=e[i];r.defaultValue=r.value,r.checked&&(r.defaultChecked=!0)}}updateSelectDefaults(e){for(let i=0;i<e.length;i++){const r=e[i];r.options[r.selectedIndex].defaultSelected=!0}}updateTextAreaDefaults(e){for(let i=0;i<e.length;i++){const r=e[i];r.defaultValue=r.value}}canvasToImageHtml(e){return`<img src="${e.toDataURL()}" style="max-width: 100%;">`}updateCanvasToImage(e){for(let i=0;i<e.length;i++){const r=this.canvasToImageHtml(e[i]);e[i].insertAdjacentHTML("afterend",r),e[i].remove()}}getHtmlContents(e){const i=document.getElementById(e);if(!i)return null;const r=i.getElementsByTagName("input"),s=i.getElementsByTagName("select"),a=i.getElementsByTagName("textarea"),d=i.getElementsByTagName("canvas");return this.updateInputDefaults(r),this.updateSelectDefaults(s),this.updateTextAreaDefaults(a),this.updateCanvasToImage(d),i.innerHTML}getElementTag(e){const i=[],r=document.getElementsByTagName(e);for(let s=0;s<r.length;s++)i.push(r[s].outerHTML);return i.join("\r\n")}print(e){let i="",r="",s="top=0,left=0,height=auto,width=auto";const a=this.getElementTag("base");e.useExistingCss&&(i=this.getElementTag("style"),r=this.getElementTag("link")),e.openNewTab&&(s="");const d=this.getHtmlContents(e.printSectionId);if(!d)return void console.error(`Print section with id ${e.printSectionId} not found.`);const h=window.open("","_blank",s);h?(h.document.open(),h.document.write(`\n          <html>\n            <head>\n              <title>${e.printTitle?e.printTitle:""}</title>\n              ${a}\n              ${this.returnStyleValues()}\n              ${this.returnStyleSheetLinkTags()}\n              ${i}\n              ${r}\n            </head>\n            <body ${e.bodyClass?`class="${e.bodyClass}"`:""}>\n              ${d}\n              <script defer>\n                function triggerPrint(event) {\n                  window.removeEventListener('load', triggerPrint, false);\n                  ${e.previewOnly?"":`setTimeout(function() {\n                    closeWindow(window.print());\n                  }, ${e.printDelay});`}\n                }\n                function closeWindow(){\n                  ${e.closeWindow?"window.close();":""}\n                }\n                window.addEventListener('load', triggerPrint, false);\n              <\/script>\n            </body>\n          </html>`),h.document.close()):console.error("Could not open print window.")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class sue{printSectionId=null;printTitle=null;useExistingCss=!1;bodyClass="";openNewTab=!1;previewOnly=!1;closeWindow=!0;printDelay=0;constructor(t){t&&Object.assign(this,t)}}let oue=(()=>{class n extends rue{printOptions=new sue;set previewOnly(e){this.printOptions={...this.printOptions,previewOnly:e}}set printSectionId(e){this.printOptions={...this.printOptions,printSectionId:e}}set printTitle(e){this.printOptions={...this.printOptions,printTitle:e}}set useExistingCss(e){this.printOptions={...this.printOptions,useExistingCss:e}}set printDelay(e){this.printOptions={...this.printOptions,printDelay:e}}set closeWindow(e){this.printOptions={...this.printOptions,closeWindow:e}}set bodyClass(e){this.printOptions={...this.printOptions,bodyClass:e}}set openNewTab(e){this.printOptions={...this.printOptions,openNewTab:e}}set printStyle(e){super.setPrintStyle(e)}set styleSheetFile(e){super.setStyleSheetFile(e)}print(){super.print(this.printOptions)}static \u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}();static \u0275dir=l.lG2({type:n,selectors:[["button","ngxPrint",""]],hostBindings:function(i,r){1&i&&l.NdJ("click",function(){return r.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",closeWindow:"closeWindow",bodyClass:"bodyClass",openNewTab:"openNewTab",printStyle:"printStyle",styleSheetFile:"styleSheetFile"},standalone:!0,features:[l.qOj]})}return n})(),aue=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=l.oAB({type:n});static \u0275inj=l.cJS({})}return n})();function lue(n,t){if(1&n&&(l.TgZ(0,"ul")(1,"li"),l._uU(2),l.qZA()()),2&n){const e=t.$implicit;l.xp6(2),l.Oqu(e.data.name)}}function cue(n,t){if(1&n&&(l.TgZ(0,"ul")(1,"li"),l._uU(2),l.qZA()()),2&n){const e=t.$implicit;l.xp6(2),l.hij("",e.data.price,"/ Day")}}function uue(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-card",12)(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA(),l.TgZ(4,"mat-card-subtitle"),l._uU(5),l.qZA()(),l._UZ(6,"img",13),l.TgZ(7,"mat-card-content",14)(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"p")(13,"span",15),l._uU(14,"Rs."),l.qZA(),l.TgZ(15,"span",16),l._uU(16),l.qZA(),l.TgZ(17,"span",17),l._uU(18,"/Day"),l.qZA()()(),l.TgZ(19,"button",7),l.NdJ("click",function(){const s=l.CHM(e).$implicit,a=l.oxw(2);return l.KtG(a.removeRoom(s))}),l._uU(20,"Remove room"),l.qZA()()}if(2&n){const e=t.$implicit;l.xp6(3),l.Oqu(e.data.name),l.xp6(2),l.Oqu(e.data.subtitle),l.xp6(1),l.Q6J("src",e.data.photo,l.LSH),l.xp6(3),l.Oqu(e.data.description),l.xp6(2),l.hij("Accommodates: ",e.data.accommodation," People"),l.xp6(5),l.Oqu(e.data.price)}}function due(n,t){if(1&n&&(l.TgZ(0,"div",10)(1,"h2"),l._uU(2,"Your rooms"),l.qZA(),l.YNc(3,uue,21,6,"mat-card",11),l.qZA()),2&n){const e=l.oxw();l.xp6(3),l.Q6J("ngForOf",e.userRooms)}}function hue(n,t){if(1&n&&(l.ynx(0),l.TgZ(1,"tr")(2,"td"),l._uU(3),l.qZA(),l.TgZ(4,"td"),l._uU(5),l.ALo(6,"currency"),l.qZA()(),l.BQk()),2&n){const e=t.$implicit,i=t.odd;l.xp6(1),l.ekj("odd-row",i),l.xp6(2),l.Oqu(e.data.name),l.xp6(2),l.Oqu(l.Dn7(6,4,e.data.price,"NPR","symbol"))}}const fue=function(){return{color:"navy","font-size":"1.2em","margin-bottom":"10px"}},pue=function(){return{border:"1px solid #ddd",padding:"8px","text-align":"left"}},mue=function(){return{"border-bottom":"1px solid #ccc",padding:"5px 0"}},gue=function(n,t,e){return{h3:n,td:t,p:e}};function _ue(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",18)(1,"h2"),l._uU(2,"Invoice"),l.qZA(),l.TgZ(3,"div",19)(4,"table",20)(5,"thead")(6,"tr")(7,"th"),l._uU(8,"Room Name"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Price/Day"),l.qZA()()(),l.TgZ(11,"tbody"),l.YNc(12,hue,7,8,"ng-container",6),l.qZA()(),l._UZ(13,"div",21),l.TgZ(14,"div",22)(15,"h3"),l._uU(16,"Total Cost"),l.qZA(),l.TgZ(17,"p"),l._uU(18),l.ALo(19,"currency"),l.qZA(),l.TgZ(20,"p"),l._uU(21,"Discount of 5% is applied for booking of 3 or more rooms"),l.qZA()()(),l.TgZ(22,"button",23),l._uU(23,"Print Invoice"),l.qZA(),l.TgZ(24,"button",24),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.closeInvoice())}),l._uU(25,"Close"),l.qZA()()}if(2&n){const e=l.oxw();l.xp6(12),l.Q6J("ngForOf",e.userRooms),l.xp6(6),l.hij("Total: ",l.Dn7(19,3,e.invoiceTotal,"NPR","symbol"),""),l.xp6(4),l.Q6J("printStyle",l.kEZ(10,gue,l.DdM(7,fue),l.DdM(8,pue),l.DdM(9,mue)))}}const vue=[{path:"",component:Ele},{path:"room-vacancy",component:f$},{path:"book-room",component:jle},{path:"admin",component:p$},{path:"gallery",component:ice},{path:"invoice",component:Xce},{path:"offers",component:BV},{path:"login",component:Jce},{path:"signup",component:eue},{path:"allrooms",component:iue},{path:"myrooms",component:(()=>{class n{constructor(e,i,r,s,a){this.authService=e,this.firestoreService=i,this.sharedService=r,this._snackBar=s,this.router=a,this.userRooms=[],this.userEmail="",this.userName="",this.showInvoice=!1,this.arrivalDate=null,this.departureDate=null,this.selectedRoom=null,this.invoiceTotal=0}ngOnInit(){this.rooms(),this.stay=this.sharedService.getStayDays(),console.log(this.stay)}openSnackBar(e,i){const r=new Nd;r.verticalPosition="top",r.horizontalPosition="center",r.duration=5e3,this._snackBar.open(e,i,r)}rooms(){this.authService.user$.subscribe(e=>{if(e){const i=e.email||"";this.userEmail=i,console.log(this.userEmail),this.firestoreService.getUserRooms(i).then(r=>{this.userRooms=r}).catch(r=>{console.log(r)})}else this.openSnackBar("User must be logged in","Login"),this.router.navigate(["/login"])})}getRoomPrices(){return this.userRooms.map(e=>e.data.price)}totalPrice(){const e=this.getRoomPrices(),i=e.length;console.log(e),console.log("the number of rooms",i);let r=e.reduce((s,a)=>s+a,0);return i>=3&&(this.openSnackBar("You have received a discount of 5%","Login"),r-=.05*r),console.log(r),r}checkout(){this.showInvoice=!0,this.invoiceTotal=this.totalPrice()}removeRoom(e){this.selectedRoom=e.data.name,console.log(this.selectedRoom),this.firestoreService.removeBooking(this.selectedRoom)}closeInvoice(){this.showInvoice=!1}getRoomNames(){return this.userRooms.map(e=>e.data.name).join(", ")}printInvoice(){window.print()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(uw),l.Y36(_P),l.Y36(fE),l.Y36(gy),l.Y36(Js))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-myrooms"]],decls:24,vars:5,consts:[[1,"profile-container"],[1,"profile-header"],[1,"profile-name"],[1,"profile-bio"],[1,"profile-details"],[1,"profile-info"],[4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],["class","rooms",4,"ngIf"],["class","invoice-container",4,"ngIf"],[1,"rooms"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-image","","alt","Photo of a room",3,"src"],[1,"card-content"],[1,"currency"],[1,"price"],[1,"period"],[1,"invoice-container"],["id","print-section",1,"table-responsive"],[1,"table"],[1,"line","my-4"],[1,"total-cost"],["mat-button","","printSectionId","print-section","ngxPrint","",3,"printStyle"],["mat-button","",3,"click"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),l._uU(3,"Your Information"),l.qZA(),l.TgZ(4,"p",3),l._uU(5,"This Information will used in billing"),l.qZA()(),l.TgZ(6,"div",4)(7,"div",5)(8,"h2"),l._uU(9,"Contact Information"),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA()(),l.TgZ(12,"div",5)(13,"h2"),l._uU(14,"Room"),l.qZA(),l.YNc(15,lue,3,1,"ul",6),l.qZA(),l.TgZ(16,"div",5)(17,"h2"),l._uU(18,"Cost"),l.qZA(),l.YNc(19,cue,3,1,"ul",6),l.qZA(),l.TgZ(20,"button",7),l.NdJ("click",function(){return r.checkout()}),l._uU(21,"View Invoice"),l.qZA()()(),l.YNc(22,due,4,1,"div",8),l.YNc(23,_ue,26,14,"div",9)),2&i&&(l.xp6(11),l.hij("Email: ",r.userEmail,""),l.xp6(4),l.Q6J("ngForOf",r.userRooms),l.xp6(4),l.Q6J("ngForOf",r.userRooms),l.xp6(3),l.Q6J("ngIf",!r.showInvoice),l.xp6(1),l.Q6J("ngIf",r.showInvoice))},dependencies:[zs,ma,iw,sw,aw,pE,ow,rw,uy,oue,ei],styles:[".profile-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#fff;box-shadow:0 0 10px #0000001a;border-radius:8px}.profile-header[_ngcontent-%COMP%]{text-align:center}.profile-picture[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;margin-bottom:10px}.profile-name[_ngcontent-%COMP%]{font-size:24px;margin:0;color:#333}.profile-bio[_ngcontent-%COMP%]{font-size:16px;margin:5px 0;color:#777}.profile-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.profile-info[_ngcontent-%COMP%]{flex:0 0 30%}.profile-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:#333}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#555;margin:5px 0}.profile-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:700}.profile-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.rooms[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;margin-bottom:150px}.example-card[_ngcontent-%COMP%]{width:calc(33.33% - 40px);margin:20px;display:flex;flex-direction:column;border-radius:8px;overflow:hidden;box-shadow:0 0 10px #0000001a;transition:transform .3s}.example-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}mat-card-content[_ngcontent-%COMP%]{flex-grow:1;padding:16px}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:16px}p[_ngcontent-%COMP%]{margin-bottom:10px}p[_ngcontent-%COMP%]   span.currency[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#333}p[_ngcontent-%COMP%]   span.price[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#7658e4}p[_ngcontent-%COMP%]   span.period[_ngcontent-%COMP%]{font-size:1em;color:#333}.rooms[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:18px;color:#f1f1f1;background-color:#35965d;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.rooms[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#bd4a3a}.invoice-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:20px;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 5px #0000001a;background-color:#fff}.customer-info[_ngcontent-%COMP%], .booking-details[_ngcontent-%COMP%], .total-cost[_ngcontent-%COMP%]{margin-bottom:20px}.invoice-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.invoice-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .invoice-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.invoice-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}.invoice-container[_ngcontent-%COMP%]   .odd-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#f9f9f9}.invoice-container[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-top:1px solid #ddd;margin:20px 0}.invoice-container[_ngcontent-%COMP%]   .total-cost[_ngcontent-%COMP%]{margin-top:20px}@media only screen and (max-width: 600px){.invoice-container[_ngcontent-%COMP%]{max-width:100%;padding:15px}}@media only screen and (min-width: 601px) and (max-width: 768px){.invoice-container[_ngcontent-%COMP%]{padding:15px}}@media only screen and (max-width: 1200px){.example-card[_ngcontent-%COMP%]{width:calc(50% - 40px)}}@media only screen and (max-width: 768px){.example-card[_ngcontent-%COMP%]{width:calc(100% - 40px)}}"]})}return n})()},{path:"db",component:f$},{path:"admin",component:p$},{path:"adminlogin",component:(()=>{class n{constructor(e,i){this._snackBar=e,this.router=i,this.email="roshish@admin.com",this.password="Password"}ngOnInit(){}login(){"roshish@admin.com"===this.email&&"Password"===this.password?(this.openSnackBar("Admin Login Successful","Close"),console.log("Admin credentials are correct. Proceed with admin logic..."),this.router.navigate(["/admin"])):(this.openSnackBar("Admin Login Failed. Invalid credentials","Close"),console.error("Admin login failed. Invalid credentials."))}openSnackBar(e,i){const r=new Nd;r.verticalPosition="top",r.horizontalPosition="center",r.duration=3e3,this._snackBar.open(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(gy),l.Y36(Js))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-admin-login"]],decls:14,vars:2,consts:[[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit"]],template:function(i,r){1&i&&(l.TgZ(0,"div")(1,"h2"),l._uU(2,"Admin Login"),l.qZA(),l.TgZ(3,"form",0),l.NdJ("ngSubmit",function(){return r.login()}),l.TgZ(4,"label",1),l._uU(5,"Email:"),l.qZA(),l.TgZ(6,"input",2),l.NdJ("ngModelChange",function(a){return r.email=a}),l.qZA(),l.TgZ(7,"label",3),l._uU(8,"Password:"),l.qZA(),l.TgZ(9,"input",4),l.NdJ("ngModelChange",function(a){return r.password=a}),l.qZA(),l.TgZ(10,"button",5),l._uU(11,"Login"),l.qZA(),l.TgZ(12,"p"),l._uU(13,'Please Use "roshish@admin.com" and "Password" as credentials for admin'),l.qZA()()()),2&i&&(l.xp6(6),l.Q6J("ngModel",r.email),l.xp6(3),l.Q6J("ngModel",r.password))},dependencies:[fP,mE,iP,rP,vE,F2,fy],styles:["div[_ngcontent-%COMP%]{max-width:400px;margin:5% auto;padding:20px;box-shadow:0 0 10px #0000001a}h2[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:8px}input[_ngcontent-%COMP%]{padding:10px;margin-bottom:16px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{padding:12px;background-color:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#2980b9}"]})}return n})()}];let yue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[p9.forRoot(vue),p9]})}return n})();const bue=["*",[["mat-toolbar-row"]]],wue=["*","mat-toolbar-row"],xue=KB(class{constructor(n){this._elementRef=n}});let Cue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),Eue=(()=>{class n extends xue{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(eo),l.Y36(je))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&l.Suo(s,Cue,5),2&i){let a;l.iGM(a=l.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&l.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:wue,decls:2,vars:0,template:function(i,r){1&i&&(l.F$t(bue),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),Iue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[xr,xr]})}return n})();function Due(n,t){1&n&&(l.TgZ(0,"button",9),l._uU(1,"Login"),l.qZA())}function Sue(n,t){1&n&&(l.TgZ(0,"button",10),l._uU(1,"My Rooms"),l.qZA())}function Aue(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.logout())}),l._uU(1,"Logout"),l.qZA()}}let Tue=(()=>{class n{constructor(e,i,r){this.dialog=e,this.authService=i,this.router=r,this.isLoggedIn=!1,this.isMenuHidden=!0}ngOnInit(){this.authService.user$.subscribe(e=>{this.isLoggedIn=!!e})}openOffersPopup(){this.dialog.open(BV,{width:"400px"}).afterClosed().subscribe(()=>{})}toggleMenu(){this.isMenuHidden=!this.isMenuHidden}logout(){this.authService.signOut()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(K5),l.Y36(uw),l.Y36(Js))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:20,vars:3,consts:[[1,"example-spacer"],["mat-stroked-button","","routerLink","/"],[1,"example-spacer-half"],["mat-stroked-button","","routerLink","/allrooms"],["mat-stroked-button","","routerLink","/gallery"],["mat-stroked-button","",3,"click"],["mat-stroked-button","","routerLink","/login",4,"ngIf"],["mat-stroked-button","","routerLink","/myrooms",4,"ngIf"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-stroked-button","","routerLink","/login"],["mat-stroked-button","","routerLink","/myrooms"]],template:function(i,r){1&i&&(l.TgZ(0,"mat-toolbar")(1,"span"),l._uU(2,"Aqore Hotel Reservation"),l.qZA(),l._UZ(3,"span",0),l.TgZ(4,"button",1),l._uU(5," Home "),l.qZA(),l._UZ(6,"span",2),l.TgZ(7,"button",3),l._uU(8," All Rooms "),l.qZA(),l._UZ(9,"span",2),l.TgZ(10,"button",4),l._uU(11," Gallery "),l.qZA(),l._UZ(12,"span",2),l.TgZ(13,"button",5),l.NdJ("click",function(){return r.openOffersPopup()}),l._uU(14,"Offers"),l.qZA(),l._UZ(15,"span",2),l.YNc(16,Due,2,0,"button",6),l.YNc(17,Sue,2,0,"button",7),l._UZ(18,"span",2),l.YNc(19,Aue,2,0,"button",8),l.qZA()),2&i&&(l.xp6(16),l.Q6J("ngIf",!r.isLoggedIn),l.xp6(1),l.Q6J("ngIf",r.isLoggedIn),l.xp6(2),l.Q6J("ngIf",r.isLoggedIn))},dependencies:[ma,_2,uy,Eue],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.example-spacer-half[_ngcontent-%COMP%]{flex:.1 .2 auto}@media only screen and (max-width: 768px){.example-spacer[_ngcontent-%COMP%]{flex:1 1 5px}.example-spacer-half[_ngcontent-%COMP%]{flex:.1 .1 auto}}"]})}return n})(),Mue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,template:function(i,r){1&i&&(l.TgZ(0,"footer")(1,"p"),l._uU(2,"\xa9 2024 Aqore Hotel Reservation Demo - Made by Roshish Parajuli."),l.qZA()())},styles:["[_nghost-%COMP%]{color:#751212;padding:10px;text-align:center;z-index:100}"]})}return n})(),kue=(()=>{class n{constructor(e){this.dialog=e,this.title="hotel-reservation-system",this.openOffersPopup()}openOffersPopup(){this.dialog.open(BV,{width:"400px"}).afterClosed().subscribe(()=>{})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(K5))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main-content"],[1,"footer"]],template:function(i,r){1&i&&(l._UZ(0,"app-header"),l.TgZ(1,"div",0),l._UZ(2,"router-outlet"),l.qZA(),l.TgZ(3,"div",1),l._UZ(4,"app-footer"),l.qZA())},dependencies:[SB,Tue,Mue],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.main-content[_ngcontent-%COMP%]{flex:1;padding:20px;display:flex;flex-direction:column}"]})}return n})();function CW(n){return new l.vHH(3e3,!1)}function Cy(n){switch(n.length){case 0:return new M2;case 1:return n[0];default:return new Dq(n)}}function EW(n,t,e=new Map,i=new Map){const r=[],s=[];let a=-1,d=null;if(t.forEach(h=>{const m=h.get("offset"),b=m==a,x=b&&d||new Map;h.forEach((M,D)=>{let P=D,F=M;if("offset"!==D)switch(P=n.normalizePropertyName(P,r),F){case"!":F=e.get(D);break;case Zg:F=i.get(D);break;default:F=n.normalizeStyleValue(D,P,F,r)}x.set(P,F)}),b||s.push(x),d=x,a=m}),r.length)throw function ede(n){return new l.vHH(3502,!1)}();return s}function aU(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&lU(e,"start",n)));break;case"done":n.onDone(()=>i(e&&lU(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&lU(e,"destroy",n)))}}function lU(n,t,e){const s=cU(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function cU(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Fu(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function IW(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const hde=(()=>typeof document>"u"?null:document.documentElement)();function uU(n){const t=n.parentNode||n.host||null;return t===hde?null:t}let _w=null,DW=!1;function SW(n,t){for(;t;){if(t===n)return!0;t=uU(t)}return!1}function AW(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let TW=(()=>{class n{validateStyleProperty(e){return function pde(n){_w||(_w=function mde(){return typeof document<"u"?document.body:null}()||{},DW=!!_w.style&&"WebkitAppearance"in _w.style);let t=!0;return _w.style&&!function fde(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in _w.style,!t&&DW&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in _w.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return SW(e,i)}getParentElement(e){return uU(e)}query(e,i,r){return AW(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,d=[],h){return new M2(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),dU=(()=>{class n{static#e=this.NOOP=new TW}return n})();const gde=1e3,hU="ng-enter",jP="ng-leave",HP="ng-trigger",zP=".ng-trigger",kW="ng-animating",fU=".ng-animating";function Xg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pU(parseFloat(t[1]),t[2])}function pU(n,t){return"s"===t?n*gde:n}function qP(n,t,e){return n.hasOwnProperty("duration")?n:function vde(n,t,e){let r,s=0,a="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(CW()),{duration:0,delay:0,easing:""};r=pU(parseFloat(d[1]),d[2]);const h=d[3];null!=h&&(s=pU(parseFloat(h),d[4]));const m=d[5];m&&(a=m)}else r=n;if(!e){let d=!1,h=t.length;r<0&&(t.push(function Rue(){return new l.vHH(3100,!1)}()),d=!0),s<0&&(t.push(function Nue(){return new l.vHH(3101,!1)}()),d=!0),d&&t.splice(h,0,CW())}return{duration:r,delay:s,easing:a}}(n,t,e)}function W2(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function RW(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Ey(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Lp(n,t,e){t.forEach((i,r)=>{const s=gU(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function vw(n,t){t.forEach((e,i)=>{const r=gU(i);n.style[r]=""})}function Y2(n){return Array.isArray(n)?1==n.length?n[0]:Eq(n):n}const mU=new RegExp("{{\\s*(.+?)\\s*}}","g");function PW(n){let t=[];if("string"==typeof n){let e;for(;e=mU.exec(n);)t.push(e[1]);mU.lastIndex=0}return t}function Z2(n,t,e){const i=n.toString(),r=i.replace(mU,(s,a)=>{let d=t[a];return null==d&&(e.push(function Oue(n){return new l.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function GP(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wde=/-+([a-z0-9])/g;function gU(n){return n.replace(wde,(...t)=>t[1].toUpperCase())}function Lu(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Fue(n){return new l.vHH(3004,!1)}()}}function OW(n,t){return window.getComputedStyle(n)[t]}const $P="*";function Ede(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Ide(n,t,e){if(":"==n[0]){const h=function Dde(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Kue(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Zue(n){return new l.vHH(3015,!1)}()),t;const r=i[1],s=i[2],a=i[3];t.push(FW(r,a));"<"==s[0]&&!(r==$P&&a==$P)&&t.push(FW(a,r))}(i,e,t)):e.push(n),e}const WP=new Set(["true","1"]),YP=new Set(["false","0"]);function FW(n,t){const e=WP.has(n)||YP.has(n),i=WP.has(t)||YP.has(t);return(r,s)=>{let a=n==$P||n==r,d=t==$P||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?WP.has(n):YP.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?WP.has(t):YP.has(t)),a&&d}}const Sde=new RegExp("s*:selfs*,?","g");function _U(n,t,e,i){return new Ade(n).build(t,e,i)}class Ade{constructor(t){this._driver=t}build(t,e,i){const r=new kde(e);return this._resetContextStyleTimingState(r),Lu(this,Y2(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Bue(){return new l.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const h=d,m=h.name;m.toString().split(/\s*,\s*/).forEach(b=>{h.name=b,s.push(this.visitState(h,e))}),h.name=m}else if(1==d.type){const h=this.visitTransition(d,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function Vue(){return new l.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(h=>{PW(h).forEach(m=>{a.hasOwnProperty(m)||s.add(m)})})}),s.size&&(GP(s.values()),e.errors.push(function Uue(n,t){return new l.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Lu(this,Y2(t.animation),e);return{type:1,matchers:Ede(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:yw(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Lu(this,i,e)),options:yw(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const d=Lu(this,a,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:yw(t.options)}}visitAnimate(t,e){const i=function Nde(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return vU(qP(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=vU(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=qP(e,t);return vU(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:ns({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,d=!1;if(!a){d=!0;const m={};i.easing&&(m.easing=i.easing),a=ns(m)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=d,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===Zg?i.push(d):e.errors.push(new l.vHH(3002,!1)):i.push(RW(d));let s=!1,a=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(a=d.get("easing"),d.delete("easing")),!s))for(let h of d.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,h)=>{const m=e.collectedStyles.get(e.currentQuerySelector),b=m.get(h);let x=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(e.errors.push(function Hue(n,t,e,i,r){return new l.vHH(3010,!1)}()),x=!1),s=b.startTime),x&&m.set(h,{startTime:s,endTime:r}),e.options&&function bde(n,t,e){const i=t.params||{},r=PW(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Pue(n){return new l.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function zue(){return new l.vHH(3011,!1)}()),i;let s=0;const a=[];let d=!1,h=!1,m=0;const b=t.steps.map(j=>{const Z=this._makeStyleAst(j,e);let ne=null!=Z.offset?Z.offset:function Rde(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Z.styles),de=0;return null!=ne&&(s++,de=Z.offset=ne),h=h||de<0||de>1,d=d||de<m,m=de,a.push(de),Z});h&&e.errors.push(function que(){return new l.vHH(3012,!1)}()),d&&e.errors.push(function Gue(){return new l.vHH(3200,!1)}());const x=t.steps.length;let M=0;s>0&&s<x?e.errors.push(function $ue(){return new l.vHH(3202,!1)}()):0==s&&(M=1/(x-1));const D=x-1,P=e.currentTime,F=e.currentAnimateTimings,U=F.duration;return b.forEach((j,Z)=>{const ne=M>0?Z==D?1:M*Z:a[Z],de=ne*U;e.currentTime=P+F.delay+de,F.duration=de,this._validateStyleAst(j,e),j.offset=ne,i.styles.push(j)}),i}visitReference(t,e){return{type:8,animation:Lu(this,Y2(t.animation),e),options:yw(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:yw(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:yw(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function Tde(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Sde,"")),n=n.replace(/@\*/g,zP).replace(/@\w+/g,e=>zP+"-"+e.slice(1)).replace(/:animating/g,fU),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Fu(e.collectedStyles,e.currentQuerySelector,new Map);const d=Lu(this,Y2(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:d,originalSelector:t.selector,options:yw(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Wue(){return new l.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:qP(t.timings,e.errors,!0);return{type:12,animation:Lu(this,Y2(t.animation),e),timings:i,options:null}}}class kde{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yw(n){return n?(n=W2(n)).params&&(n.params=function Mde(n){return n?W2(n):null}(n.params)):n={},n}function vU(n,t,e){return{duration:n,delay:t,easing:e}}function yU(n,t,e,i,r,s,a=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:d}}class ZP{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Fde=new RegExp(":enter","g"),Bde=new RegExp(":leave","g");function bU(n,t,e,i,r,s=new Map,a=new Map,d,h,m=[]){return(new Vde).buildKeyframes(n,t,e,i,r,s,a,d,h,m)}class Vde{buildKeyframes(t,e,i,r,s,a,d,h,m,b=[]){m=m||new ZP;const x=new wU(t,e,m,r,s,b,[]);x.options=h;const M=h.delay?Xg(h.delay):0;x.currentTimeline.delayNextStep(M),x.currentTimeline.setStyles([a],null,x.errors,h),Lu(this,i,x);const D=x.timelines.filter(P=>P.containsAnimation());if(D.length&&d.size){let P;for(let F=D.length-1;F>=0;F--){const U=D[F];if(U.element===e){P=U;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([d],null,x.errors,h)}return D.length?D.map(P=>P.buildKeyframes()):[yU(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const a="number"==typeof s?s:Xg(Z2(s,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?Xg(i.duration):null,d=null!=i.delay?Xg(i.delay):null;return 0!==a&&t.forEach(h=>{const m=e.appendInstructionToTimeline(h,a,d);s=Math.max(s,m.duration+m.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Lu(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=KP);const a=Xg(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Lu(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Xg(t.options.delay):0;t.steps.forEach(a=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),Lu(this,a,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return qP(e.params?Z2(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(h=>{d.forwardTime((h.offset||0)*s),d.setStyles(h.styles,h.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Xg(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=KP);let a=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let h=null;d.forEach((m,b)=>{e.currentQueryIndex=b;const x=e.createSubContext(t.options,m);s&&x.delayNextStep(s),m===e.element&&(h=x.currentTimeline),Lu(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),d=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=d-h;break;case"full":h=i.currentStaggerTime}const b=e.currentTimeline;h&&b.delayNextStep(h);const x=b.currentTime;Lu(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const KP={};class wU{constructor(t,e,i,r,s,a,d,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=KP,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new QP(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Xg(i.duration)),null!=i.delay&&(r.delay=Xg(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!a.hasOwnProperty(d))&&(a[d]=Z2(s[d],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new wU(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=KP,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new Ude(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(Fde,"."+this._enterClassName)).replace(Bde,"."+this._leaveClassName);let m=this._driver.query(this.element,t,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),d.push(...m)}return!s&&0==d.length&&a.push(function Yue(n){return new l.vHH(3014,!1)}()),d}}class QP{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new QP(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Zg),this._currentKeyframe.set(e,Zg);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},a=function jde(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Zg)}else Ey(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,h]of a){const m=Z2(h,s,i);this._pendingStyles.set(d,m),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Zg),this._updateStyle(d,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,h)=>{const m=Ey(d,new Map,this._backFill);m.forEach((b,x)=>{"!"===b?t.add(x):b===Zg&&e.add(x)}),i||m.set("offset",h/this.duration),r.push(m)});const s=t.size?GP(t.values()):[],a=e.size?GP(e.values()):[];if(i){const d=r[0],h=new Map(d);d.set("offset",0),h.set("offset",1),r=[d,h]}return yU(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class Ude extends QP{constructor(t,e,i,r,s,a,d=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,d=e/a,h=Ey(t[0]);h.set("offset",0),s.push(h);const m=Ey(t[0]);m.set("offset",VW(d)),s.push(m);const b=t.length-1;for(let x=1;x<=b;x++){let M=Ey(t[x]);const D=M.get("offset");M.set("offset",VW((e+D*i)/a)),s.push(M)}i=a,e=0,r="",t=s}return yU(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function VW(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class xU{}const Hde=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zde extends xU{normalizePropertyName(t,e){return gU(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(Hde.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Lue(n,t){return new l.vHH(3005,!1)}())}return a+s}}function UW(n,t,e,i,r,s,a,d,h,m,b,x,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:d,queriedElements:h,preStyleProps:m,postStyleProps:b,totalTime:x,errors:M}}const CU={};class jW{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function qde(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,d,h,m,b){const x=[],M=this.ast.options&&this.ast.options.params||CU,P=this.buildStyles(i,d&&d.params||CU,x),F=h&&h.params||CU,U=this.buildStyles(r,F,x),j=new Set,Z=new Map,ne=new Map,de="void"===r,ke={params:Gde(F,M),delay:this.ast.options?.delay},Ye=b?[]:bU(t,e,this.ast.animation,s,a,P,U,ke,m,x);let Me=0;if(Ye.forEach(dt=>{Me=Math.max(dt.duration+dt.delay,Me)}),x.length)return UW(e,this._triggerName,i,r,de,P,U,[],[],Z,ne,Me,x);Ye.forEach(dt=>{const gt=dt.element,re=Fu(Z,gt,new Set);dt.preStyleProps.forEach(we=>re.add(we));const ie=Fu(ne,gt,new Set);dt.postStyleProps.forEach(we=>ie.add(we)),gt!==e&&j.add(gt)});const he=GP(j.values());return UW(e,this._triggerName,i,r,de,P,U,Ye,he,Z,ne,Me)}}function Gde(n,t){const e=W2(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class $de{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=W2(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,d)=>{a&&(a=Z2(a,r,e));const h=this.normalizer.normalizePropertyName(d,e);a=this.normalizer.normalizeStyleValue(d,h,a,e),i.set(d,a)})}),i}}class Yde{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new $de(r.style,r.options&&r.options.params||{},i))}),HW(this.states,"true","1"),HW(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new jW(t,r,this.states))}),this.fallbackTransition=function Zde(n,t,e){return new jW(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function HW(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Kde=new ZP;class Qde{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=_U(this._driver,e,i,[]);if(i.length)throw function tde(n){return new l.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=EW(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let a;const d=new Map;if(s?(a=bU(this._driver,e,s,hU,jP,new Map,new Map,i,Kde,r),a.forEach(b=>{const x=Fu(d,b.element,new Map);b.postStyleProps.forEach(M=>x.set(M,null))})):(r.push(function nde(){return new l.vHH(3300,!1)}()),a=[]),r.length)throw function ide(n){return new l.vHH(3504,!1)}();d.forEach((b,x)=>{b.forEach((M,D)=>{b.set(D,this._driver.computeStyle(x,D,Zg))})});const m=Cy(a.map(b=>{const x=d.get(b.element);return this._buildPlayer(b,new Map,x)}));return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function rde(n){return new l.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=cU(e,"","","");return aU(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const zW="ng-animate-queued",EU="ng-animate-disabled",nhe=[],qW={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ihe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qh="__ng_removed";class IU{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function ahe(n){return n??null}(i?t.value:t),i){const s=W2(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const K2="void",DU=new IU(K2);class rhe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fd(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function sde(n,t){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function ode(n){return new l.vHH(3303,!1)}();if(!function lhe(n){return"start"==n||"done"==n}(i))throw function ade(n,t){return new l.vHH(3400,!1)}();const s=Fu(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const d=Fu(this._engine.statesByElement,t,new Map);return d.has(e)||(Fd(t,HP),Fd(t,HP+"-"+e),d.set(e,DU)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function lde(n){return new l.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new SU(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(Fd(t,HP),Fd(t,HP+"-"+e),this._engine.statesByElement.set(t,d=new Map));let h=d.get(e);const m=new IU(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&m.absorbOptions(h.options),d.set(e,m),h||(h=DU),m.value!==K2&&h.value===m.value){if(!function dhe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,m.params)){const F=[],U=s.matchStyles(h.value,h.params,F),j=s.matchStyles(m.value,m.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{vw(t,U),Lp(t,j)})}return}const M=Fu(this._engine.playersByElement,t,[]);M.forEach(F=>{F.namespaceId==this.id&&F.triggerName==e&&F.queued&&F.destroy()});let D=s.matchTransition(h.value,m.value,t,m.params),P=!1;if(!D){if(!r)return;D=s.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:D,fromState:h,toState:m,player:a,isFallbackTransition:P}),P||(Fd(t,zW),a.onStart(()=>{OE(t,zW)})),a.onDone(()=>{let F=this.players.indexOf(a);F>=0&&this.players.splice(F,1);const U=this._engine.playersByElement.get(t);if(U){let j=U.indexOf(a);j>=0&&U.splice(j,1)}}),this.players.push(a),M.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,zP,!0);i.forEach(r=>{if(r[qh])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const d=[];if(s.forEach((h,m)=>{if(a.set(m,h.value),this._triggers.has(m)){const b=this.trigger(t,m,K2,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Cy(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,m=i.get(a)||DU,b=new IU(K2),x=new SU(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:m,toState:b,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[qh];(!s||s===qW)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fd(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(d=>{if(d.name==i.triggerName){const h=cU(s,i.triggerName,i.fromState.value,i.toState.value);h._data=t,aU(i.player,d.phase,h,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class she{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new rhe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,d=this.driver.getParentElement(e);for(;d;){const h=r.get(d);if(h){const m=i.indexOf(h);i.splice(m+1,0,t),a=!0;break}d=this.driver.getParentElement(d)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(XP(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!XP(e))return;const s=e[qh];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fd(t,EU)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),OE(t,EU))}removeNode(t,e,i){if(XP(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[qh]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return XP(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,zP,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,fU,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Cy(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[qh];if(e&&e.setForRemoval){if(t[qh]=qW,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(EU)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fd(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Cy(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function cde(n){return new l.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new ZP,r=[],s=new Map,a=[],d=new Map,h=new Map,m=new Map,b=new Set;this.disabledNodes.forEach(Ee=>{b.add(Ee);const Le=this.driver.query(Ee,".ng-animate-queued",!0);for(let De=0;De<Le.length;De++)b.add(Le[De])});const x=this.bodyNode,M=Array.from(this.statesByElement.keys()),D=WW(M,this.collectedEnterElements),P=new Map;let F=0;D.forEach((Ee,Le)=>{const De=hU+F++;P.set(Le,De),Ee.forEach(Je=>Fd(Je,De))});const U=[],j=new Set,Z=new Set;for(let Ee=0;Ee<this.collectedLeaveElements.length;Ee++){const Le=this.collectedLeaveElements[Ee],De=Le[qh];De&&De.setForRemoval&&(U.push(Le),j.add(Le),De.hasAnimation?this.driver.query(Le,".ng-star-inserted",!0).forEach(Je=>j.add(Je)):Z.add(Le))}const ne=new Map,de=WW(M,Array.from(j));de.forEach((Ee,Le)=>{const De=jP+F++;ne.set(Le,De),Ee.forEach(Je=>Fd(Je,De))}),t.push(()=>{D.forEach((Ee,Le)=>{const De=P.get(Le);Ee.forEach(Je=>OE(Je,De))}),de.forEach((Ee,Le)=>{const De=ne.get(Le);Ee.forEach(Je=>OE(Je,De))}),U.forEach(Ee=>{this.processLeaveNode(Ee)})});const ke=[],Ye=[];for(let Ee=this._namespaceList.length-1;Ee>=0;Ee--)this._namespaceList[Ee].drainQueuedTransitions(e).forEach(De=>{const Je=De.player,ct=De.element;if(ke.push(Je),this.collectedEnterElements.length){const Ge=ct[qh];if(Ge&&Ge.setForMove){if(Ge.previousTriggersValues&&Ge.previousTriggersValues.has(De.triggerName)){const tt=Ge.previousTriggersValues.get(De.triggerName),et=this.statesByElement.get(De.element);if(et&&et.has(De.triggerName)){const Kt=et.get(De.triggerName);Kt.value=tt,et.set(De.triggerName,Kt)}}return void Je.destroy()}}const sn=!x||!this.driver.containsElement(x,ct),$=ne.get(ct),ae=P.get(ct),le=this._buildInstruction(De,i,ae,$,sn);if(le.errors&&le.errors.length)return void Ye.push(le);if(sn)return Je.onStart(()=>vw(ct,le.fromStyles)),Je.onDestroy(()=>Lp(ct,le.toStyles)),void r.push(Je);if(De.isFallbackTransition)return Je.onStart(()=>vw(ct,le.fromStyles)),Je.onDestroy(()=>Lp(ct,le.toStyles)),void r.push(Je);const Se=[];le.timelines.forEach(Ge=>{Ge.stretchStartingKeyframe=!0,this.disabledNodes.has(Ge.element)||Se.push(Ge)}),le.timelines=Se,i.append(ct,le.timelines),a.push({instruction:le,player:Je,element:ct}),le.queriedElements.forEach(Ge=>Fu(d,Ge,[]).push(Je)),le.preStyleProps.forEach((Ge,tt)=>{if(Ge.size){let et=h.get(tt);et||h.set(tt,et=new Set),Ge.forEach((Kt,Wt)=>et.add(Wt))}}),le.postStyleProps.forEach((Ge,tt)=>{let et=m.get(tt);et||m.set(tt,et=new Set),Ge.forEach((Kt,Wt)=>et.add(Wt))})});if(Ye.length){const Ee=[];Ye.forEach(Le=>{Ee.push(function ude(n,t){return new l.vHH(3505,!1)}())}),ke.forEach(Le=>Le.destroy()),this.reportError(Ee)}const Me=new Map,he=new Map;a.forEach(Ee=>{const Le=Ee.element;i.has(Le)&&(he.set(Le,Le),this._beforeAnimationBuild(Ee.player.namespaceId,Ee.instruction,Me))}),r.forEach(Ee=>{const Le=Ee.element;this._getPreviousPlayers(Le,!1,Ee.namespaceId,Ee.triggerName,null).forEach(Je=>{Fu(Me,Le,[]).push(Je),Je.destroy()})});const dt=U.filter(Ee=>ZW(Ee,h,m)),gt=new Map;$W(gt,this.driver,Z,m,Zg).forEach(Ee=>{ZW(Ee,h,m)&&dt.push(Ee)});const ie=new Map;D.forEach((Ee,Le)=>{$W(ie,this.driver,new Set(Ee),h,"!")}),dt.forEach(Ee=>{const Le=gt.get(Ee),De=ie.get(Ee);gt.set(Ee,new Map([...Le?.entries()??[],...De?.entries()??[]]))});const we=[],ye=[],ht={};a.forEach(Ee=>{const{element:Le,player:De,instruction:Je}=Ee;if(i.has(Le)){if(b.has(Le))return De.onDestroy(()=>Lp(Le,Je.toStyles)),De.disabled=!0,De.overrideTotalTime(Je.totalTime),void r.push(De);let ct=ht;if(he.size>1){let $=Le;const ae=[];for(;$=$.parentNode;){const le=he.get($);if(le){ct=le;break}ae.push($)}ae.forEach(le=>he.set(le,ct))}const sn=this._buildAnimation(De.namespaceId,Je,Me,s,ie,gt);if(De.setRealPlayer(sn),ct===ht)we.push(De);else{const $=this.playersByElement.get(ct);$&&$.length&&(De.parentPlayer=Cy($)),r.push(De)}}else vw(Le,Je.fromStyles),De.onDestroy(()=>Lp(Le,Je.toStyles)),ye.push(De),b.has(Le)&&r.push(De)}),ye.forEach(Ee=>{const Le=s.get(Ee.element);if(Le&&Le.length){const De=Cy(Le);Ee.setRealPlayer(De)}}),r.forEach(Ee=>{Ee.parentPlayer?Ee.syncPlayerEvents(Ee.parentPlayer):Ee.destroy()});for(let Ee=0;Ee<U.length;Ee++){const Le=U[Ee],De=Le[qh];if(OE(Le,jP),De&&De.hasAnimation)continue;let Je=[];if(d.size){let sn=d.get(Le);sn&&sn.length&&Je.push(...sn);let $=this.driver.query(Le,fU,!0);for(let ae=0;ae<$.length;ae++){let le=d.get($[ae]);le&&le.length&&Je.push(...le)}}const ct=Je.filter(sn=>!sn.destroyed);ct.length?che(this,Le,ct):this.processLeaveNode(Le)}return U.length=0,we.forEach(Ee=>{this.players.push(Ee),Ee.onDone(()=>{Ee.destroy();const Le=this.players.indexOf(Ee);this.players.splice(Le,1)}),Ee.play()}),we}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(a=d)}else{const d=this.playersByElement.get(t);if(d){const h=!s||s==K2;d.forEach(m=>{m.queued||!h&&m.triggerName!=r||a.push(m)})}}return(i||r)&&(a=a.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const m=h.element,b=m!==s,x=Fu(i,m,[]);this._getPreviousPlayers(m,b,a,d,e.toState).forEach(D=>{const P=D.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),D.destroy(),x.push(D)})}vw(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const d=e.triggerName,h=e.element,m=[],b=new Set,x=new Set,M=e.timelines.map(P=>{const F=P.element;b.add(F);const U=F[qh];if(U&&U.removedBeforeQueried)return new M2(P.duration,P.delay);const j=F!==h,Z=function uhe(n){const t=[];return YW(n,t),t}((i.get(F)||nhe).map(Me=>Me.getRealPlayer())).filter(Me=>!!Me.element&&Me.element===F),ne=s.get(F),de=a.get(F),ke=EW(this._normalizer,P.keyframes,ne,de),Ye=this._buildPlayer(P,ke,Z);if(P.subTimeline&&r&&x.add(F),j){const Me=new SU(t,d,F);Me.setRealPlayer(Ye),m.push(Me)}return Ye});m.forEach(P=>{Fu(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function ohe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,P.element,P))}),b.forEach(P=>Fd(P,kW));const D=Cy(M);return D.onDestroy(()=>{b.forEach(P=>OE(P,kW)),Lp(h,e.toStyles)}),x.forEach(P=>{Fu(r,P,[]).push(D)}),D}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new M2(t.duration,t.delay)}}class SU{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new M2,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>aU(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Fu(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function XP(n){return n&&1===n.nodeType}function GW(n,t){const e=n.style.display;return n.style.display=t??"none",e}function $W(n,t,e,i,r){const s=[];e.forEach(h=>s.push(GW(h)));const a=[];i.forEach((h,m)=>{const b=new Map;h.forEach(x=>{const M=t.computeStyle(m,x,r);b.set(x,M),(!M||0==M.length)&&(m[qh]=ihe,a.push(m))}),n.set(m,b)});let d=0;return e.forEach(h=>GW(h,s[d++])),a}function WW(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(d){if(!d)return 1;let h=s.get(d);if(h)return h;const m=d.parentNode;return h=e.has(m)?m:r.has(m)?1:a(m),s.set(d,h),h}return t.forEach(d=>{const h=a(d);1!==h&&e.get(h).push(d)}),e}function Fd(n,t){n.classList?.add(t)}function OE(n,t){n.classList?.remove(t)}function che(n,t,e){Cy(e).onDone(()=>n.processLeaveNode(t))}function YW(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Dq?YW(i.players,t):t.push(i)}}function ZW(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class JP{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new she(t,e,i),this._timelineEngine=new Qde(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let d=this._triggerCache[a];if(!d){const h=[],b=_U(this._driver,s,h,[]);if(h.length)throw function Jue(n,t){return new l.vHH(3404,!1)}();d=function Wde(n,t,e){return new Yde(n,t,e)}(r,b,this._normalizer),this._triggerCache[a]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=IW(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,d]=IW(i);return this._timelineEngine.listen(a,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let fhe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Lp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lp(this._element,this._initialStyles),this._endStyles&&(Lp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(vw(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vw(this._element,this._endStyles),this._endStyles=null),Lp(this._element,this._initialStyles),this._state=3)}}return n})();function AU(n){let t=null;return n.forEach((e,i)=>{(function phe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class KW{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:OW(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class mhe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return SW(t,e)}getParentElement(t){return uU(t)}query(t,e,i){return AW(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(h.easing=s);const m=new Map,b=a.filter(D=>D instanceof KW);(function xde(n,t){return 0===n||0===t})(i,r)&&b.forEach(D=>{D.currentSnapshot.forEach((P,F)=>m.set(F,P))});let x=function yde(n){return n.length?n[0]instanceof Map?n:n.map(t=>RW(t)):[]}(e).map(D=>Ey(D));x=function Cde(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(d=>a.set(d,OW(n,d)))}}return t}(t,x,m);const M=function hhe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=AU(t[0]),t.length>1&&(i=AU(t[t.length-1]))):t instanceof Map&&(e=AU(t)),e||i?new fhe(n,e,i):null}(t,x);return new KW(t,x,h,M)}}let ghe=(()=>{class n extends xq{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Eq(e):e;return QW(this._renderer,null,i,"register",[r]),new _he(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.FYo),l.LFG(je))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class _he extends zre{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new vhe(this._id,t,e||{},this._renderer)}}class vhe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return QW(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function QW(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const XW="@.disabled";let yhe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,a)=>{const d=a?.parentNode(s);d&&a.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new JW("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const a=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const h=b=>{Array.isArray(b)?b.forEach(h):this.engine.registerTrigger(a,d,e,b.name,b)};return i.data.animation.forEach(h),new bhe(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,d]=s;a(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.FYo),l.LFG(JP),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class JW{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==XW?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class bhe extends JW{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==XW?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function whe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function xhe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let Che=(()=>{class n extends JP{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(je),l.LFG(dU),l.LFG(xU),l.LFG(l.z2F))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const eY=[{provide:xq,useClass:ghe},{provide:xU,useFactory:function Ehe(){return new zde}},{provide:JP,useClass:Che},{provide:l.FYo,useFactory:function Ihe(n,t,e){return new yhe(n,t,e)},deps:[ji,JP,l.R0b]}],TU=[{provide:dU,useFactory:()=>new mhe},{provide:l.QbO,useValue:"BrowserAnimations"},...eY],tY=[{provide:dU,useClass:TW},{provide:l.QbO,useValue:"NoopAnimations"},...eY];let Dhe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?tY:TU}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:TU,imports:[jl]})}return n})(),sfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[xr,xr]})}return n})(),pfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[xr,qs,W5]})}return n})();const vfe={provide:new l.OlP("mat-menu-scroll-strategy"),deps:[Nu],useFactory:function _fe(n){return()=>n.scrollStrategies.reposition()}};let yfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[vfe],imports:[qs,W5,xr,dE,x2,xr]})}return n})(),bfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n,bootstrap:[kue]});static#n=this.\u0275inj=l.cJS({imports:[jl,yue,Cse,Q5,Dhe,sfe,rae,_r.hO.initializeApp(KJ_firebaseConfig),bk,oX,ZJ,tce,eP,cae,yfe,Q5,nse,Iue,Kae,Mre,pfe,d$,gle,aue]})}return n})();bs().bootstrapModule(bfe).catch(n=>console.error(n))},5619:(An,xt,Q)=>{Q.d(xt,{X:()=>Fe});var l=Q(8645);class Fe extends l.x{constructor(He){super(),this._value=He}get value(){return this.getValue()}_subscribe(He){const We=super._subscribe(He);return!We.closed&&He.next(this._value),We}getValue(){const{hasError:He,thrownError:We,_value:je}=this;if(He)throw We;return this._throwIfClosed(),je}next(He){super.next(this._value=He)}}},5592:(An,xt,Q)=>{Q.d(xt,{y:()=>Ft});var l=Q(305),Fe=Q(7394),ee=Q(4850),He=Q(8407),We=Q(2653),je=Q(4674),pt=Q(1441);let Ft=(()=>{class Be{constructor(Mt){Mt&&(this._subscribe=Mt)}lift(Mt){const rn=new Be;return rn.source=this,rn.operator=Mt,rn}subscribe(Mt,rn,Ot){const Qt=function _e(Be){return Be&&Be instanceof l.Lv||function ue(Be){return Be&&(0,je.m)(Be.next)&&(0,je.m)(Be.error)&&(0,je.m)(Be.complete)}(Be)&&(0,Fe.Nn)(Be)}(Mt)?Mt:new l.Hp(Mt,rn,Ot);return(0,pt.x)(()=>{const{operator:Ut,source:Bn}=this;Qt.add(Ut?Ut.call(Qt,Bn):Bn?this._subscribe(Qt):this._trySubscribe(Qt))}),Qt}_trySubscribe(Mt){try{return this._subscribe(Mt)}catch(rn){Mt.error(rn)}}forEach(Mt,rn){return new(rn=at(rn))((Ot,Qt)=>{const Ut=new l.Hp({next:Bn=>{try{Mt(Bn)}catch(Mn){Qt(Mn),Ut.unsubscribe()}},error:Qt,complete:Ot});this.subscribe(Ut)})}_subscribe(Mt){var rn;return null===(rn=this.source)||void 0===rn?void 0:rn.subscribe(Mt)}[ee.L](){return this}pipe(...Mt){return(0,He.U)(Mt)(this)}toPromise(Mt){return new(Mt=at(Mt))((rn,Ot)=>{let Qt;this.subscribe(Ut=>Qt=Ut,Ut=>Ot(Ut),()=>rn(Qt))})}}return Be.create=zt=>new Be(zt),Be})();function at(Be){var zt;return null!==(zt=Be??We.config.Promise)&&void 0!==zt?zt:Promise}},8645:(An,xt,Q)=>{Q.d(xt,{x:()=>pt});var l=Q(5592),Fe=Q(7394);const He=(0,Q(2306).d)(at=>function(){at(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=Q(9039),je=Q(1441);let pt=(()=>{class at extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_e){const Be=new Ft(this,this);return Be.operator=_e,Be}_throwIfClosed(){if(this.closed)throw new He}next(_e){(0,je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Be of this.currentObservers)Be.next(_e)}})}error(_e){(0,je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_e;const{observers:Be}=this;for(;Be.length;)Be.shift().error(_e)}})}complete(){(0,je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_e}=this;for(;_e.length;)_e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _e;return(null===(_e=this.observers)||void 0===_e?void 0:_e.length)>0}_trySubscribe(_e){return this._throwIfClosed(),super._trySubscribe(_e)}_subscribe(_e){return this._throwIfClosed(),this._checkFinalizedStatuses(_e),this._innerSubscribe(_e)}_innerSubscribe(_e){const{hasError:Be,isStopped:zt,observers:Mt}=this;return Be||zt?Fe.Lc:(this.currentObservers=null,Mt.push(_e),new Fe.w0(()=>{this.currentObservers=null,(0,We.P)(Mt,_e)}))}_checkFinalizedStatuses(_e){const{hasError:Be,thrownError:zt,isStopped:Mt}=this;Be?_e.error(zt):Mt&&_e.complete()}asObservable(){const _e=new l.y;return _e.source=this,_e}}return at.create=(ue,_e)=>new Ft(ue,_e),at})();class Ft extends pt{constructor(ue,_e){super(),this.destination=ue,this.source=_e}next(ue){var _e,Be;null===(Be=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===Be||Be.call(_e,ue)}error(ue){var _e,Be;null===(Be=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===Be||Be.call(_e,ue)}complete(){var ue,_e;null===(_e=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===_e||_e.call(ue)}_subscribe(ue){var _e,Be;return null!==(Be=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(ue))&&void 0!==Be?Be:Fe.Lc}}},305:(An,xt,Q)=>{Q.d(xt,{Hp:()=>Ot,Lv:()=>Be});var l=Q(4674),Fe=Q(7394),ee=Q(2653),He=Q(3894),We=Q(2420);const je=at("C",void 0,void 0);function at($e,_t,qe){return{kind:$e,value:_t,error:qe}}var ue=Q(7599),_e=Q(1441);class Be extends Fe.w0{constructor(_t){super(),this.isStopped=!1,_t?(this.destination=_t,(0,Fe.Nn)(_t)&&_t.add(this)):this.destination=Mn}static create(_t,qe,It){return new Ot(_t,qe,It)}next(_t){this.isStopped?Bn(function Ft($e){return at("N",$e,void 0)}(_t),this):this._next(_t)}error(_t){this.isStopped?Bn(function pt($e){return at("E",void 0,$e)}(_t),this):(this.isStopped=!0,this._error(_t))}complete(){this.isStopped?Bn(je,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_t){this.destination.next(_t)}_error(_t){try{this.destination.error(_t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const zt=Function.prototype.bind;function Mt($e,_t){return zt.call($e,_t)}class rn{constructor(_t){this.partialObserver=_t}next(_t){const{partialObserver:qe}=this;if(qe.next)try{qe.next(_t)}catch(It){Qt(It)}}error(_t){const{partialObserver:qe}=this;if(qe.error)try{qe.error(_t)}catch(It){Qt(It)}else Qt(_t)}complete(){const{partialObserver:_t}=this;if(_t.complete)try{_t.complete()}catch(qe){Qt(qe)}}}class Ot extends Be{constructor(_t,qe,It){let Vt;if(super(),(0,l.m)(_t)||!_t)Vt={next:_t??void 0,error:qe??void 0,complete:It??void 0};else{let tn;this&&ee.config.useDeprecatedNextContext?(tn=Object.create(_t),tn.unsubscribe=()=>this.unsubscribe(),Vt={next:_t.next&&Mt(_t.next,tn),error:_t.error&&Mt(_t.error,tn),complete:_t.complete&&Mt(_t.complete,tn)}):Vt=_t}this.destination=new rn(Vt)}}function Qt($e){ee.config.useDeprecatedSynchronousErrorHandling?(0,_e.O)($e):(0,He.h)($e)}function Bn($e,_t){const{onStoppedNotification:qe}=ee.config;qe&&ue.z.setTimeout(()=>qe($e,_t))}const Mn={closed:!0,next:We.Z,error:function Ut($e){throw $e},complete:We.Z}},7394:(An,xt,Q)=>{Q.d(xt,{Lc:()=>je,w0:()=>We,Nn:()=>pt});var l=Q(4674);const ee=(0,Q(2306).d)(at=>function(_e){at(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((Be,zt)=>`${zt+1}) ${Be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var He=Q(9039);class We{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const Mt of _e)Mt.remove(this);else _e.remove(this);const{initialTeardown:Be}=this;if((0,l.m)(Be))try{Be()}catch(Mt){ue=Mt instanceof ee?Mt.errors:[Mt]}const{_finalizers:zt}=this;if(zt){this._finalizers=null;for(const Mt of zt)try{Ft(Mt)}catch(rn){ue=ue??[],rn instanceof ee?ue=[...ue,...rn.errors]:ue.push(rn)}}if(ue)throw new ee(ue)}}add(ue){var _e;if(ue&&ue!==this)if(this.closed)Ft(ue);else{if(ue instanceof We){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(_e=this._finalizers)&&void 0!==_e?_e:[]).push(ue)}}_hasParent(ue){const{_parentage:_e}=this;return _e===ue||Array.isArray(_e)&&_e.includes(ue)}_addParent(ue){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(ue),_e):_e?[_e,ue]:ue}_removeParent(ue){const{_parentage:_e}=this;_e===ue?this._parentage=null:Array.isArray(_e)&&(0,He.P)(_e,ue)}remove(ue){const{_finalizers:_e}=this;_e&&(0,He.P)(_e,ue),ue instanceof We&&ue._removeParent(this)}}We.EMPTY=(()=>{const at=new We;return at.closed=!0,at})();const je=We.EMPTY;function pt(at){return at instanceof We||at&&"closed"in at&&(0,l.m)(at.remove)&&(0,l.m)(at.add)&&(0,l.m)(at.unsubscribe)}function Ft(at){(0,l.m)(at)?at():at.unsubscribe()}},2653:(An,xt,Q)=>{Q.d(xt,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(An,xt,Q)=>{Q.d(xt,{E:()=>Fe});const Fe=new(Q(5592).y)(We=>We.complete())},2459:(An,xt,Q)=>{Q.d(xt,{D:()=>_t});var l=Q(4829),Fe=Q(3093),ee=Q(5137),je=Q(5592),Ft=Q(4971),at=Q(4674),ue=Q(7103);function Be(qe,It){if(!qe)throw new Error("Iterable cannot be null");return new je.y(Vt=>{(0,ue.f)(Vt,It,()=>{const tn=qe[Symbol.asyncIterator]();(0,ue.f)(Vt,It,()=>{tn.next().then(nt=>{nt.done?Vt.complete():Vt.next(nt.value)})},0,!0)})})}var zt=Q(8382),Mt=Q(4026),rn=Q(4266),Ot=Q(3664),Qt=Q(5726),Ut=Q(9853),Bn=Q(541);function _t(qe,It){return It?function $e(qe,It){if(null!=qe){if((0,zt.c)(qe))return function He(qe,It){return(0,l.Xf)(qe).pipe((0,ee.R)(It),(0,Fe.Q)(It))}(qe,It);if((0,rn.z)(qe))return function pt(qe,It){return new je.y(Vt=>{let tn=0;return It.schedule(function(){tn===qe.length?Vt.complete():(Vt.next(qe[tn++]),Vt.closed||this.schedule())})})}(qe,It);if((0,Mt.t)(qe))return function We(qe,It){return(0,l.Xf)(qe).pipe((0,ee.R)(It),(0,Fe.Q)(It))}(qe,It);if((0,Qt.D)(qe))return Be(qe,It);if((0,Ot.T)(qe))return function _e(qe,It){return new je.y(Vt=>{let tn;return(0,ue.f)(Vt,It,()=>{tn=qe[Ft.h](),(0,ue.f)(Vt,It,()=>{let nt,Hn;try{({value:nt,done:Hn}=tn.next())}catch(pi){return void Vt.error(pi)}Hn?Vt.complete():Vt.next(nt)},0,!0)}),()=>(0,at.m)(tn?.return)&&tn.return()})}(qe,It);if((0,Bn.L)(qe))return function Mn(qe,It){return Be((0,Bn.Q)(qe),It)}(qe,It)}throw(0,Ut.z)(qe)}(qe,It):(0,l.Xf)(qe)}},4829:(An,xt,Q)=>{Q.d(xt,{Xf:()=>zt});var l=Q(7582),Fe=Q(4266),ee=Q(4026),He=Q(5592),We=Q(8382),je=Q(5726),pt=Q(9853),Ft=Q(3664),at=Q(541),ue=Q(4674),_e=Q(3894),Be=Q(4850);function zt($e){if($e instanceof He.y)return $e;if(null!=$e){if((0,We.c)($e))return function Mt($e){return new He.y(_t=>{const qe=$e[Be.L]();if((0,ue.m)(qe.subscribe))return qe.subscribe(_t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,Fe.z)($e))return function rn($e){return new He.y(_t=>{for(let qe=0;qe<$e.length&&!_t.closed;qe++)_t.next($e[qe]);_t.complete()})}($e);if((0,ee.t)($e))return function Ot($e){return new He.y(_t=>{$e.then(qe=>{_t.closed||(_t.next(qe),_t.complete())},qe=>_t.error(qe)).then(null,_e.h)})}($e);if((0,je.D)($e))return Ut($e);if((0,Ft.T)($e))return function Qt($e){return new He.y(_t=>{for(const qe of $e)if(_t.next(qe),_t.closed)return;_t.complete()})}($e);if((0,at.L)($e))return function Bn($e){return Ut((0,at.Q)($e))}($e)}throw(0,pt.z)($e)}function Ut($e){return new He.y(_t=>{(function Mn($e,_t){var qe,It,Vt,tn;return(0,l.mG)(this,void 0,void 0,function*(){try{for(qe=(0,l.KL)($e);!(It=yield qe.next()).done;)if(_t.next(It.value),_t.closed)return}catch(nt){Vt={error:nt}}finally{try{It&&!It.done&&(tn=qe.return)&&(yield tn.call(qe))}finally{if(Vt)throw Vt.error}}_t.complete()})})($e,_t).catch(qe=>_t.error(qe))})}},3019:(An,xt,Q)=>{Q.d(xt,{T:()=>je});var l=Q(7537),Fe=Q(4829),ee=Q(6232),He=Q(9940),We=Q(2459);function je(...pt){const Ft=(0,He.yG)(pt),at=(0,He._6)(pt,1/0),ue=pt;return ue.length?1===ue.length?(0,Fe.Xf)(ue[0]):(0,l.J)(at)((0,We.D)(ue,Ft)):ee.E}},2096:(An,xt,Q)=>{Q.d(xt,{of:()=>ee});var l=Q(9940),Fe=Q(2459);function ee(...He){const We=(0,l.yG)(He);return(0,Fe.D)(He,We)}},8251:(An,xt,Q)=>{Q.d(xt,{x:()=>Fe});var l=Q(305);function Fe(He,We,je,pt,Ft){return new ee(He,We,je,pt,Ft)}class ee extends l.Lv{constructor(We,je,pt,Ft,at,ue){super(We),this.onFinalize=at,this.shouldUnsubscribe=ue,this._next=je?function(_e){try{je(_e)}catch(Be){We.error(Be)}}:super._next,this._error=Ft?function(_e){try{Ft(_e)}catch(Be){We.error(Be)}finally{this.unsubscribe()}}:super._error,this._complete=pt?function(){try{pt()}catch(_e){We.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var We;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:je}=this;super.unsubscribe(),!je&&(null===(We=this.onFinalize)||void 0===We||We.call(this))}}}},3997:(An,xt,Q)=>{Q.d(xt,{x:()=>He});var l=Q(2737),Fe=Q(9360),ee=Q(8251);function He(je,pt=l.y){return je=je??We,(0,Fe.e)((Ft,at)=>{let ue,_e=!0;Ft.subscribe((0,ee.x)(at,Be=>{const zt=pt(Be);(_e||!je(ue,zt))&&(_e=!1,ue=zt,at.next(Be))}))})}function We(je,pt){return je===pt}},7398:(An,xt,Q)=>{Q.d(xt,{U:()=>ee});var l=Q(9360),Fe=Q(8251);function ee(He,We){return(0,l.e)((je,pt)=>{let Ft=0;je.subscribe((0,Fe.x)(pt,at=>{pt.next(He.call(We,at,Ft++))}))})}},7537:(An,xt,Q)=>{Q.d(xt,{J:()=>ee});var l=Q(1631),Fe=Q(2737);function ee(He=1/0){return(0,l.z)(Fe.y,He)}},1631:(An,xt,Q)=>{Q.d(xt,{z:()=>Ft});var l=Q(7398),Fe=Q(4829),ee=Q(9360),He=Q(7103),We=Q(8251),pt=Q(4674);function Ft(at,ue,_e=1/0){return(0,pt.m)(ue)?Ft((Be,zt)=>(0,l.U)((Mt,rn)=>ue(Be,Mt,zt,rn))((0,Fe.Xf)(at(Be,zt))),_e):("number"==typeof ue&&(_e=ue),(0,ee.e)((Be,zt)=>function je(at,ue,_e,Be,zt,Mt,rn,Ot){const Qt=[];let Ut=0,Bn=0,Mn=!1;const $e=()=>{Mn&&!Qt.length&&!Ut&&ue.complete()},_t=It=>Ut<Be?qe(It):Qt.push(It),qe=It=>{Mt&&ue.next(It),Ut++;let Vt=!1;(0,Fe.Xf)(_e(It,Bn++)).subscribe((0,We.x)(ue,tn=>{zt?.(tn),Mt?_t(tn):ue.next(tn)},()=>{Vt=!0},void 0,()=>{if(Vt)try{for(Ut--;Qt.length&&Ut<Be;){const tn=Qt.shift();rn?(0,He.f)(ue,rn,()=>qe(tn)):qe(tn)}$e()}catch(tn){ue.error(tn)}}))};return at.subscribe((0,We.x)(ue,_t,()=>{Mn=!0,$e()})),()=>{Ot?.()}}(Be,zt,at,_e)))}},3093:(An,xt,Q)=>{Q.d(xt,{Q:()=>He});var l=Q(7103),Fe=Q(9360),ee=Q(8251);function He(We,je=0){return(0,Fe.e)((pt,Ft)=>{pt.subscribe((0,ee.x)(Ft,at=>(0,l.f)(Ft,We,()=>Ft.next(at),je),()=>(0,l.f)(Ft,We,()=>Ft.complete(),je),at=>(0,l.f)(Ft,We,()=>Ft.error(at),je)))})}},3020:(An,xt,Q)=>{Q.d(xt,{B:()=>We});var l=Q(4829),Fe=Q(8645),ee=Q(305),He=Q(9360);function We(pt={}){const{connector:Ft=(()=>new Fe.x),resetOnError:at=!0,resetOnComplete:ue=!0,resetOnRefCountZero:_e=!0}=pt;return Be=>{let zt,Mt,rn,Ot=0,Qt=!1,Ut=!1;const Bn=()=>{Mt?.unsubscribe(),Mt=void 0},Mn=()=>{Bn(),zt=rn=void 0,Qt=Ut=!1},$e=()=>{const _t=zt;Mn(),_t?.unsubscribe()};return(0,He.e)((_t,qe)=>{Ot++,!Ut&&!Qt&&Bn();const It=rn=rn??Ft();qe.add(()=>{Ot--,0===Ot&&!Ut&&!Qt&&(Mt=je($e,_e))}),It.subscribe(qe),!zt&&Ot>0&&(zt=new ee.Hp({next:Vt=>It.next(Vt),error:Vt=>{Ut=!0,Bn(),Mt=je(Mn,at,Vt),It.error(Vt)},complete:()=>{Qt=!0,Bn(),Mt=je(Mn,ue),It.complete()}}),(0,l.Xf)(_t).subscribe(zt))})(Be)}}function je(pt,Ft,...at){if(!0===Ft)return void pt();if(!1===Ft)return;const ue=new ee.Hp({next:()=>{ue.unsubscribe(),pt()}});return(0,l.Xf)(Ft(...at)).subscribe(ue)}},5137:(An,xt,Q)=>{Q.d(xt,{R:()=>Fe});var l=Q(9360);function Fe(ee,He=0){return(0,l.e)((We,je)=>{je.add(ee.schedule(()=>We.subscribe(je),He))})}},4664:(An,xt,Q)=>{Q.d(xt,{w:()=>He});var l=Q(4829),Fe=Q(9360),ee=Q(8251);function He(We,je){return(0,Fe.e)((pt,Ft)=>{let at=null,ue=0,_e=!1;const Be=()=>_e&&!at&&Ft.complete();pt.subscribe((0,ee.x)(Ft,zt=>{at?.unsubscribe();let Mt=0;const rn=ue++;(0,l.Xf)(We(zt,rn)).subscribe(at=(0,ee.x)(Ft,Ot=>Ft.next(je?je(zt,Ot,rn,Mt++):Ot),()=>{at=null,Be()}))},()=>{_e=!0,Be()}))})}},9397:(An,xt,Q)=>{Q.d(xt,{b:()=>We});var l=Q(4674),Fe=Q(9360),ee=Q(8251),He=Q(2737);function We(je,pt,Ft){const at=(0,l.m)(je)||pt||Ft?{next:je,error:pt,complete:Ft}:je;return at?(0,Fe.e)((ue,_e)=>{var Be;null===(Be=at.subscribe)||void 0===Be||Be.call(at);let zt=!0;ue.subscribe((0,ee.x)(_e,Mt=>{var rn;null===(rn=at.next)||void 0===rn||rn.call(at,Mt),_e.next(Mt)},()=>{var Mt;zt=!1,null===(Mt=at.complete)||void 0===Mt||Mt.call(at),_e.complete()},Mt=>{var rn;zt=!1,null===(rn=at.error)||void 0===rn||rn.call(at,Mt),_e.error(Mt)},()=>{var Mt,rn;zt&&(null===(Mt=at.unsubscribe)||void 0===Mt||Mt.call(at)),null===(rn=at.finalize)||void 0===rn||rn.call(at)}))}):He.y}},1954:(An,xt,Q)=>{Q.d(xt,{o:()=>We});var l=Q(7394);class Fe extends l.w0{constructor(pt,Ft){super()}schedule(pt,Ft=0){return this}}const ee={setInterval(je,pt,...Ft){const{delegate:at}=ee;return at?.setInterval?at.setInterval(je,pt,...Ft):setInterval(je,pt,...Ft)},clearInterval(je){const{delegate:pt}=ee;return(pt?.clearInterval||clearInterval)(je)},delegate:void 0};var He=Q(9039);class We extends Fe{constructor(pt,Ft){super(pt,Ft),this.scheduler=pt,this.work=Ft,this.pending=!1}schedule(pt,Ft=0){var at;if(this.closed)return this;this.state=pt;const ue=this.id,_e=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(_e,ue,Ft)),this.pending=!0,this.delay=Ft,this.id=null!==(at=this.id)&&void 0!==at?at:this.requestAsyncId(_e,this.id,Ft),this}requestAsyncId(pt,Ft,at=0){return ee.setInterval(pt.flush.bind(pt,this),at)}recycleAsyncId(pt,Ft,at=0){if(null!=at&&this.delay===at&&!1===this.pending)return Ft;null!=Ft&&ee.clearInterval(Ft)}execute(pt,Ft){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const at=this._execute(pt,Ft);if(at)return at;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pt,Ft){let ue,at=!1;try{this.work(pt)}catch(_e){at=!0,ue=_e||new Error("Scheduled action threw falsy error")}if(at)return this.unsubscribe(),ue}unsubscribe(){if(!this.closed){const{id:pt,scheduler:Ft}=this,{actions:at}=Ft;this.work=this.state=this.scheduler=null,this.pending=!1,(0,He.P)(at,this),null!=pt&&(this.id=this.recycleAsyncId(Ft,pt,null)),this.delay=null,super.unsubscribe()}}}},2631:(An,xt,Q)=>{Q.d(xt,{v:()=>ee});var l=Q(4552);class Fe{constructor(We,je=Fe.now){this.schedulerActionCtor=We,this.now=je}schedule(We,je=0,pt){return new this.schedulerActionCtor(this,We).schedule(pt,je)}}Fe.now=l.l.now;class ee extends Fe{constructor(We,je=Fe.now){super(We,je),this.actions=[],this._active=!1}flush(We){const{actions:je}=this;if(this._active)return void je.push(We);let pt;this._active=!0;do{if(pt=We.execute(We.state,We.delay))break}while(We=je.shift());if(this._active=!1,pt){for(;We=je.shift();)We.unsubscribe();throw pt}}}},6321:(An,xt,Q)=>{Q.d(xt,{P:()=>He,z:()=>ee});var l=Q(1954);const ee=new(Q(2631).v)(l.o),He=ee},4552:(An,xt,Q)=>{Q.d(xt,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(An,xt,Q)=>{Q.d(xt,{z:()=>l});const l={setTimeout(Fe,ee,...He){const{delegate:We}=l;return We?.setTimeout?We.setTimeout(Fe,ee,...He):setTimeout(Fe,ee,...He)},clearTimeout(Fe){const{delegate:ee}=l;return(ee?.clearTimeout||clearTimeout)(Fe)},delegate:void 0}},4971:(An,xt,Q)=>{Q.d(xt,{h:()=>Fe});const Fe=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(An,xt,Q)=>{Q.d(xt,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(An,xt,Q)=>{Q.d(xt,{_6:()=>je,jO:()=>He,yG:()=>We});var l=Q(4674),Fe=Q(671);function ee(pt){return pt[pt.length-1]}function He(pt){return(0,l.m)(ee(pt))?pt.pop():void 0}function We(pt){return(0,Fe.K)(ee(pt))?pt.pop():void 0}function je(pt,Ft){return"number"==typeof ee(pt)?pt.pop():Ft}},9039:(An,xt,Q)=>{function l(Fe,ee){if(Fe){const He=Fe.indexOf(ee);0<=He&&Fe.splice(He,1)}}Q.d(xt,{P:()=>l})},2306:(An,xt,Q)=>{function l(Fe){const He=Fe(We=>{Error.call(We),We.stack=(new Error).stack});return He.prototype=Object.create(Error.prototype),He.prototype.constructor=He,He}Q.d(xt,{d:()=>l})},1441:(An,xt,Q)=>{Q.d(xt,{O:()=>He,x:()=>ee});var l=Q(2653);let Fe=null;function ee(We){if(l.config.useDeprecatedSynchronousErrorHandling){const je=!Fe;if(je&&(Fe={errorThrown:!1,error:null}),We(),je){const{errorThrown:pt,error:Ft}=Fe;if(Fe=null,pt)throw Ft}}else We()}function He(We){l.config.useDeprecatedSynchronousErrorHandling&&Fe&&(Fe.errorThrown=!0,Fe.error=We)}},7103:(An,xt,Q)=>{function l(Fe,ee,He,We=0,je=!1){const pt=ee.schedule(function(){He(),je?Fe.add(this.schedule(null,We)):this.unsubscribe()},We);if(Fe.add(pt),!je)return pt}Q.d(xt,{f:()=>l})},2737:(An,xt,Q)=>{function l(Fe){return Fe}Q.d(xt,{y:()=>l})},4266:(An,xt,Q)=>{Q.d(xt,{z:()=>l});const l=Fe=>Fe&&"number"==typeof Fe.length&&"function"!=typeof Fe},5726:(An,xt,Q)=>{Q.d(xt,{D:()=>Fe});var l=Q(4674);function Fe(ee){return Symbol.asyncIterator&&(0,l.m)(ee?.[Symbol.asyncIterator])}},4674:(An,xt,Q)=>{function l(Fe){return"function"==typeof Fe}Q.d(xt,{m:()=>l})},8382:(An,xt,Q)=>{Q.d(xt,{c:()=>ee});var l=Q(4850),Fe=Q(4674);function ee(He){return(0,Fe.m)(He[l.L])}},3664:(An,xt,Q)=>{Q.d(xt,{T:()=>ee});var l=Q(4971),Fe=Q(4674);function ee(He){return(0,Fe.m)(He?.[l.h])}},4026:(An,xt,Q)=>{Q.d(xt,{t:()=>Fe});var l=Q(4674);function Fe(ee){return(0,l.m)(ee?.then)}},541:(An,xt,Q)=>{Q.d(xt,{L:()=>He,Q:()=>ee});var l=Q(7582),Fe=Q(4674);function ee(We){return(0,l.FC)(this,arguments,function*(){const pt=We.getReader();try{for(;;){const{value:Ft,done:at}=yield(0,l.qq)(pt.read());if(at)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Ft)}}finally{pt.releaseLock()}})}function He(We){return(0,Fe.m)(We?.getReader)}},671:(An,xt,Q)=>{Q.d(xt,{K:()=>Fe});var l=Q(4674);function Fe(ee){return ee&&(0,l.m)(ee.schedule)}},9360:(An,xt,Q)=>{Q.d(xt,{A:()=>Fe,e:()=>ee});var l=Q(4674);function Fe(He){return(0,l.m)(He?.lift)}function ee(He){return We=>{if(Fe(We))return We.lift(function(je){try{return He(je,this)}catch(pt){this.error(pt)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(An,xt,Q)=>{function l(){}Q.d(xt,{Z:()=>l})},8407:(An,xt,Q)=>{Q.d(xt,{U:()=>ee,z:()=>Fe});var l=Q(2737);function Fe(...He){return ee(He)}function ee(He){return 0===He.length?l.y:1===He.length?He[0]:function(je){return He.reduce((pt,Ft)=>Ft(pt),je)}}},3894:(An,xt,Q)=>{Q.d(xt,{h:()=>ee});var l=Q(2653),Fe=Q(7599);function ee(He){Fe.z.setTimeout(()=>{const{onUnhandledError:We}=l.config;if(!We)throw He;We(He)})}},9853:(An,xt,Q)=>{function l(Fe){return new TypeError(`You provided ${null!==Fe&&"object"==typeof Fe?"an invalid object":`'${Fe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(xt,{z:()=>l})},5879:(An,xt,Q)=>{Q.d(xt,{$8M:()=>Bf,$WT:()=>wc,$Z:()=>SM,AFp:()=>HI,ALo:()=>yR,AaK:()=>Be,AsE:()=>gx,BQk:()=>Cv,CHM:()=>Tf,CRH:()=>Dg,DdM:()=>FS,Dn7:()=>iC,EJc:()=>$R,EiD:()=>RI,EpF:()=>ck,F$t:()=>rx,F4k:()=>xL,FYo:()=>JI,FiY:()=>H_,Gf:()=>qS,GfV:()=>eD,Gpc:()=>rn,Gre:()=>Dv,HDt:()=>YR,Hsn:()=>sx,Ikx:()=>Xs,JOm:()=>_h,JVY:()=>nF,JZr:()=>Mn,KtG:()=>Dm,L6k:()=>UT,LAX:()=>iF,LFG:()=>Bi,LSH:()=>NI,Lbi:()=>Xm,Lck:()=>s3,MAs:()=>yL,MMx:()=>Du,NdJ:()=>KD,O4$:()=>$a,Ojb:()=>$I,OlP:()=>Dn,Oqu:()=>px,P3R:()=>PI,PXZ:()=>oA,Q6J:()=>sk,QGY:()=>uk,QbO:()=>GI,Qsj:()=>Yl,R0b:()=>Fo,RDi:()=>SI,Rgc:()=>Sd,SBq:()=>N0,Sil:()=>k3,Suo:()=>oi,TTD:()=>Xu,TgZ:()=>WD,Udp:()=>an,VuI:()=>wN,W1O:()=>kR,WFA:()=>dk,X6Q:()=>uA,XFs:()=>Fn,Xpm:()=>ks,Xq5:()=>ZM,Xts:()=>rv,Y36:()=>ig,YKP:()=>oR,YNc:()=>qD,Yjl:()=>mf,Yz7:()=>ti,Z0I:()=>Ki,ZZ4:()=>xp,_Bn:()=>MS,_UZ:()=>nx,_Vd:()=>R0,_c5:()=>xC,_uU:()=>Ik,aQg:()=>Fg,c2e:()=>Eb,cJS:()=>mr,cg1:()=>Ax,d8E:()=>fo,dDg:()=>_p,dqk:()=>$i,eBb:()=>jT,eFA:()=>sN,eJc:()=>$S,ekj:()=>ib,eoX:()=>rA,f3M:()=>Jn,g9A:()=>zI,h0i:()=>vg,hGG:()=>mN,hij:()=>mx,iGM:()=>TR,ifc:()=>bn,ip1:()=>JS,jDz:()=>lR,kEZ:()=>LS,kL8:()=>Ok,kcU:()=>hu,lG2:()=>Xp,lcZ:()=>nC,lqb:()=>hl,lri:()=>iA,mCW:()=>iv,n5z:()=>O_,n_E:()=>xg,oAB:()=>pf,oxw:()=>ix,pB0:()=>rF,q3G:()=>Zm,q4F:()=>uM,qFp:()=>s4,qLn:()=>_d,qOj:()=>qM,qZA:()=>tx,qzn:()=>nv,rWj:()=>Lr,rg0:()=>Vw,sBO:()=>hA,s_b:()=>Su,soG:()=>wr,tb:()=>er,tp0:()=>Hf,uIk:()=>MD,vHH:()=>$e,vpe:()=>Bc,wAp:()=>Id,xi3:()=>wg,xp6:()=>IM,ynx:()=>ZD,z2F:()=>Td,z3N:()=>Ch,zSh:()=>FI,zs3:()=>Lc});var l=Q(8645),Fe=Q(7394),ee=Q(5592),He=Q(3019),We=Q(5619),je=Q(2096),pt=Q(3020),Ft=Q(4664),at=Q(3997);function ue(o){for(let c in o)if(o[c]===ue)return c;throw Error("Could not find renamed property on target object.")}function _e(o,c){for(const u in c)c.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=c[u])}function Be(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Be).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function zt(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const Mt=ue({__forward_ref__:ue});function rn(o){return o.__forward_ref__=rn,o.toString=function(){return Be(this())},o}function Ot(o){return Qt(o)?o():o}function Qt(o){return"function"==typeof o&&o.hasOwnProperty(Mt)&&o.__forward_ref__===rn}function Ut(o){return o&&!!o.\u0275providers}const Mn="https://g.co/ng/security#xss";class $e extends Error{constructor(c,u){super(function _t(o,c){return`NG0${Math.abs(o)}${c?": "+c:""}`}(c,u)),this.code=c}}function qe(o){return"string"==typeof o?o:null==o?"":String(o)}function Hn(o,c){throw new $e(-201,!1)}function fn(o,c){null==o&&function Xt(o,c,u,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${u} ${f} ${c} <=Actual]`))}(c,o,null,"!=")}function ti(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function mr(o){return{providers:o.providers||[],imports:o.imports||[]}}function ps(o){return Hs(o,Zo)||Hs(o,yc)}function Ki(o){return null!==ps(o)}function Hs(o,c){return o.hasOwnProperty(c)?o[c]:null}function vc(o){return o&&(o.hasOwnProperty(Ko)||o.hasOwnProperty(zd))?o[Ko]:null}const Zo=ue({\u0275prov:ue}),Ko=ue({\u0275inj:ue}),yc=ue({ngInjectableDef:ue}),zd=ue({ngInjectorDef:ue});var Fn=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(Fn||{});let mi;function Ji(o){const c=mi;return mi=o,c}function Ir(o,c,u){const f=ps(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&Fn.Optional?null:void 0!==c?c:void Hn(Be(o))}const $i=globalThis;class Dn{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ti({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Nr={},Ha="__NG_DI_FLAG__",ao="ngTempTokenPath",fe=/\n/gm,Et="__source";let Ze;function Vn(o){const c=Ze;return Ze=o,c}function Ai(o,c=Fn.Default){if(void 0===Ze)throw new $e(-203,!1);return null===Ze?Ir(o,void 0,c):Ze.get(o,c&Fn.Optional?null:void 0,c)}function Bi(o,c=Fn.Default){return(function Kn(){return mi}()||Ai)(Ot(o),c)}function Jn(o,c=Fn.Default){return Bi(o,Ci(c))}function Ci(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Ms(o){const c=[];for(let u=0;u<o.length;u++){const f=Ot(o[u]);if(Array.isArray(f)){if(0===f.length)throw new $e(900,!1);let p,_=Fn.Default;for(let w=0;w<f.length;w++){const S=f[w],k=Rl(S);"number"==typeof k?-1===k?p=S.token:_|=k:p=S}c.push(Bi(p,_))}else c.push(Bi(f))}return c}function Io(o,c){return o[Ha]=c,o.prototype[Ha]=c,o}function Rl(o){return o[Ha]}function Ue(o){return{toString:o}.toString()}var Lt=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Lt||{}),bn=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(bn||{});const Rn={},dn=[],Ni=ue({\u0275cmp:ue}),Jr=ue({\u0275dir:ue}),Hr=ue({\u0275pipe:ue}),nl=ue({\u0275mod:ue}),Do=ue({\u0275fac:ue}),Nl=ue({__NG_ELEMENT_ID__:ue}),Wp=ue({__NG_ENV_ID__:ue});function Jc(o,c,u){let f=o.length;for(;;){const p=o.indexOf(c,u);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const _=c.length;if(p+_===f||o.charCodeAt(p+_)<=32)return p}u=p+1}}function lf(o,c,u){let f=0;for(;f<u.length;){const p=u[f];if("number"==typeof p){if(0!==p)break;f++;const _=u[f++],w=u[f++],S=u[f++];o.setAttribute(c,w,S,_)}else{const _=p,w=u[++f];cf(_)?o.setProperty(c,_,w):o.setAttribute(c,_,w),f++}}return f}function pa(o){return 3===o||4===o||6===o}function cf(o){return 64===o.charCodeAt(0)}function zs(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let u=-1;for(let f=0;f<c.length;f++){const p=c[f];"number"==typeof p?u=p:0===u||Yp(o,u,p,null,-1===u||2===u?c[++f]:null)}}return o}function Yp(o,c,u,f,p){let _=0,w=o.length;if(-1===c)w=-1;else for(;_<o.length;){const S=o[_++];if("number"==typeof S){if(S===c){w=-1;break}if(S>c){w=_-1;break}}}for(;_<o.length;){const S=o[_];if("number"==typeof S)break;if(S===u){if(null===f)return void(null!==p&&(o[_+1]=p));if(f===o[_+1])return void(o[_+2]=p)}_++,null!==f&&_++,null!==p&&_++}-1!==w&&(o.splice(w,0,c),_=w+1),o.splice(_++,0,u),null!==f&&o.splice(_++,0,f),null!==p&&o.splice(_++,0,p)}const zr="ng-template";function ma(o,c,u){let f=0,p=!0;for(;f<o.length;){let _=o[f++];if("string"==typeof _&&p){const w=o[f++];if(u&&"class"===_&&-1!==Jc(w.toLowerCase(),c,0))return!0}else{if(1===_){for(;f<o.length&&"string"==typeof(_=o[f++]);)if(_.toLowerCase()===c)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function zy(o){return 4===o.type&&o.value!==zr}function qy(o,c,u){return c===(4!==o.type||u?o.value:zr)}function uf(o,c,u){let f=4;const p=o.attrs||[],_=function eu(o){for(let c=0;c<o.length;c++)if(pa(o[c]))return c;return o.length}(p);let w=!1;for(let S=0;S<c.length;S++){const k=c[S];if("number"!=typeof k){if(!w)if(4&f){if(f=2|1&f,""!==k&&!qy(o,k,u)||""===k&&1===c.length){if(ss(f))return!1;w=!0}}else{const B=8&f?k:c[++S];if(8&f&&null!==o.attrs){if(!ma(o.attrs,B,u)){if(ss(f))return!1;w=!0}continue}const se=Gd(8&f?"class":k,p,zy(o),u);if(-1===se){if(ss(f))return!1;w=!0;continue}if(""!==B){let Ce;Ce=se>_?"":p[se+1].toLowerCase();const Pe=8&f?Ce:null;if(Pe&&-1!==Jc(Pe,B,0)||2&f&&B!==Ce){if(ss(f))return!1;w=!0}}}}else{if(!w&&!ss(f)&&!ss(k))return!1;if(w&&ss(k))continue;w=!1,f=k|1&f}}return ss(f)||w}function ss(o){return 0==(1&o)}function Gd(o,c,u,f){if(null===c)return-1;let p=0;if(f||!u){let _=!1;for(;p<c.length;){const w=c[p];if(w===o)return p;if(3===w||6===w)_=!0;else{if(1===w||2===w){let S=c[++p];for(;"string"==typeof S;)S=c[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=_?1:2}return-1}return function h_(o,c){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const f=o[u];if("number"==typeof f)return-1;if(f===c)return u;u++}return-1}(c,o)}function df(o,c,u=!1){for(let f=0;f<c.length;f++)if(uf(o,c[f],u))return!0;return!1}function $d(o,c){e:for(let u=0;u<c.length;u++){const f=c[u];if(o.length===f.length){for(let p=0;p<o.length;p++)if(o[p]!==f[p])continue e;return!0}}return!1}function Wd(o,c){return o?":not("+c.trim()+")":c}function f_(o){let c=o[0],u=1,f=2,p="",_=!1;for(;u<o.length;){let w=o[u];if("string"==typeof w)if(2&f){const S=o[++u];p+="["+w+(S.length>0?'="'+S+'"':"")+"]"}else 8&f?p+="."+w:4&f&&(p+=" "+w);else""!==p&&!ss(w)&&(c+=Wd(_,p),p=""),f=w,_=_||!ss(f);u++}return""!==p&&(c+=Wd(_,p)),c}function ks(o){return Ue(()=>{const c=Gy(o),u={...c,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Lt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||bn.Emulated,styles:o.styles||dn,_:null,schemas:o.schemas||null,tView:null,id:""};Jp(u);const f=o.dependencies;return u.directiveDefs=tu(f,!1),u.pipeDefs=tu(f,!0),u.id=function em(o){let c=0;const u=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const p of u)c=Math.imul(31,c)+p.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(u),u})}function hf(o){return vi(o)||Rs(o)}function ff(o){return null!==o}function pf(o){return Ue(()=>({type:o.type,bootstrap:o.bootstrap||dn,declarations:o.declarations||dn,imports:o.imports||dn,exports:o.exports||dn,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Gu(o,c){if(null==o)return Rn;const u={};for(const f in o)if(o.hasOwnProperty(f)){let p=o[f],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),u[p]=f,c&&(c[p]=_)}return u}function Xp(o){return Ue(()=>{const c=Gy(o);return Jp(c),c})}function mf(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function vi(o){return o[Ni]||null}function Rs(o){return o[Jr]||null}function _s(o){return o[Hr]||null}function wc(o){const c=vi(o)||Rs(o)||_s(o);return null!==c&&c.standalone}function So(o,c){const u=o[nl]||null;if(!u&&!0===c)throw new Error(`Type ${Be(o)} does not have '\u0275mod' property.`);return u}function Gy(o){const c={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:o.inputs||Rn,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||dn,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gu(o.inputs,c),outputs:Gu(o.outputs)}}function Jp(o){o.features?.forEach(c=>c(o))}function tu(o,c){if(!o)return null;const u=c?_s:hf;return()=>("function"==typeof o?o():o).map(f=>u(f)).filter(ff)}const Pr=0,Jt=1,ei=2,Qi=3,Qo=4,$u=5,lo=6,qs=7,Or=8,xc=9,za=10,Nn=11,Yd=12,Zd=13,Pl=14,os=15,Wu=16,Ao=17,To=18,va=19,p_=20,qa=21,Ol=22,Cc=23,il=24,Ei=25,Kd=1,rl=2,Xo=7,Fl=9,vs=11;function co(o){return Array.isArray(o)&&"object"==typeof o[Kd]}function $s(o){return Array.isArray(o)&&!0===o[Kd]}function nm(o){return 0!=(4&o.flags)}function Ws(o){return o.componentOffset>-1}function nu(o){return 1==(1&o.flags)}function Mo(o){return!!o.template}function Ec(o){return 0!=(512&o[ei])}function Bl(o,c){return o.hasOwnProperty(Do)?o[Do]:null}let es=null,Yu=!1;function Ns(o){const c=es;return es=o,c}const um={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function v_(o){if(!ru(o)||o.dirty){if(!o.producerMustRecompute(o)&&!dm(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function Zy(o){o.dirty=!0,function eh(o){if(void 0===o.liveConsumerNode)return;const c=Yu;Yu=!0;try{for(const u of o.liveConsumerNode)u.dirty||Zy(u)}finally{Yu=c}}(o),o.consumerMarkedDirty?.(o)}function ys(o){return o&&(o.nextProducerIndex=0),Ns(o)}function vf(o,c){if(Ns(c),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(ru(o))for(let u=o.nextProducerIndex;u<o.producerNode.length;u++)Ku(o.producerNode[u],o.producerIndexOfThis[u]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function dm(o){Vl(o);for(let c=0;c<o.producerNode.length;c++){const u=o.producerNode[c],f=o.producerLastReadVersion[c];if(f!==u.version||(v_(u),f!==u.version))return!0}return!1}function hm(o){if(Vl(o),ru(o))for(let c=0;c<o.producerNode.length;c++)Ku(o.producerNode[c],o.producerIndexOfThis[c]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Ku(o,c){if(function yf(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Vl(o),1===o.liveConsumerNode.length)for(let f=0;f<o.producerNode.length;f++)Ku(o.producerNode[f],o.producerIndexOfThis[f]);const u=o.liveConsumerNode.length-1;if(o.liveConsumerNode[c]=o.liveConsumerNode[u],o.liveConsumerIndexOfThis[c]=o.liveConsumerIndexOfThis[u],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,c<o.liveConsumerNode.length){const f=o.liveConsumerIndexOfThis[c],p=o.liveConsumerNode[c];Vl(p),p.producerIndexOfThis[f]=c}}function ru(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Vl(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let pm=null;function Vw(o){const c=Ns(null);try{return o()}finally{Ns(c)}}const x_=()=>{},Ef=(()=>({...um,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:x_}))();class C_{constructor(c,u,f){this.previousValue=c,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function Xu(){return E_}function E_(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ul),su}function su(){const o=vm(this),c=o?.current;if(c){const u=o.previous;if(u===Rn)o.previous=c;else for(let f in c)u[f]=c[f];o.current=null,this.ngOnChanges(c)}}function Ul(o,c,u,f){const p=this.declaredInputs[u],_=vm(o)||function ym(o,c){return o[ou]=c}(o,{previous:Rn,current:null}),w=_.current||(_.current={}),S=_.previous,k=S[p];w[p]=new C_(k&&k.currentValue,c,S===Rn),o[f]=c}Xu.ngInherit=!0;const ou="__ngSimpleChanges__";function vm(o){return o[ou]||null}const ol=function(o,c,u){},D_="svg";function ji(o){for(;Array.isArray(o);)o=o[Pr];return o}function lu(o,c){return ji(c[o])}function ko(o,c){return ji(c[o.index])}function wm(o,c){return o.data[c]}function al(o,c){return o[c]}function Jo(o,c){const u=c[o];return co(u)?u:u[Pr]}function uu(o,c){return null==c?null:o[c]}function If(o){o[Ao]=0}function xm(o){1024&o[ei]||(o[ei]|=1024,ur(o,1))}function jw(o){1024&o[ei]&&(o[ei]&=-1025,ur(o,-1))}function ur(o,c){let u=o[Qi];if(null===u)return;u[$u]+=c;let f=u;for(u=u[Qi];null!==u&&(1===c&&1===f[$u]||-1===c&&0===f[$u]);)u[$u]+=c,f=u,u=u[Qi]}const $n={lFrame:_n(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function td(){return $n.bindingsEnabled}function jl(){return null!==$n.skipHydrationRootTNode}function St(){return $n.lFrame.lView}function si(){return $n.lFrame.tView}function Tf(o){return $n.lFrame.contextLView=o,o[Or]}function Dm(o){return $n.lFrame.contextLView=null,o}function as(){let o=Sm();for(;null!==o&&64===o.type;)o=o.parent;return o}function Sm(){return $n.lFrame.currentTNode}function Ro(o,c){const u=$n.lFrame;u.currentTNode=o,u.isParent=c}function Tm(){return $n.lFrame.isParent}function Mm(){$n.lFrame.isParent=!1}function ls(){const o=$n.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}function Ic(){return $n.lFrame.bindingIndex++}function Ga(o){const c=$n.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,u}function qw(o,c){const u=$n.lFrame;u.bindingIndex=u.bindingRootIndex=o,k_(c)}function k_(o){$n.lFrame.currentDirectiveIndex=o}function sh(o){const c=$n.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}function n0(){return $n.lFrame.currentQueryIndex}function Mf(o){$n.lFrame.currentQueryIndex=o}function Gw(o){const c=o[Jt];return 2===c.type?c.declTNode:1===c.type?o[lo]:null}function _r(o,c,u){if(u&Fn.SkipSelf){let p=c,_=o;for(;!(p=p.parent,null!==p||u&Fn.Host||(p=Gw(_),null===p||(_=_[Pl],10&p.type))););if(null===p)return!1;c=p,o=_}const f=$n.lFrame=qr();return f.currentTNode=c,f.lView=o,!0}function du(o){const c=qr(),u=o[Jt];$n.lFrame=c,c.currentTNode=u.firstChild,c.lView=o,c.tView=u,c.contextLView=o,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function qr(){const o=$n.lFrame,c=null===o?null:o.child;return null===c?_n(o):c}function _n(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function Ps(){const o=$n.lFrame;return $n.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const En=Ps;function Dc(){const o=Ps();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ti(){return $n.lFrame.selectedIndex}function zl(o){$n.lFrame.selectedIndex=o}function Pi(){const o=$n.lFrame;return wm(o.tView,o.selectedIndex)}function $a(){$n.lFrame.currentNamespace=D_}function hu(){!function Rm(){$n.lFrame.currentNamespace=null}()}let oh=!0;function nd(){return oh}function Yn(o){oh=o}function fu(o,c){for(let u=c.directiveStart,f=c.directiveEnd;u<f;u++){const _=o.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:S,ngAfterViewInit:k,ngAfterViewChecked:B,ngOnDestroy:q}=_;w&&(o.contentHooks??=[]).push(-u,w),S&&((o.contentHooks??=[]).push(u,S),(o.contentCheckHooks??=[]).push(u,S)),k&&(o.viewHooks??=[]).push(-u,k),B&&((o.viewHooks??=[]).push(u,B),(o.viewCheckHooks??=[]).push(u,B)),null!=q&&(o.destroyHooks??=[]).push(u,q)}}function No(o,c,u){J(o,c,3,u)}function lt(o,c,u,f){(3&o[ei])===u&&J(o,c,u,f)}function Zs(o,c){let u=o[ei];(3&u)===c&&(u&=8191,u+=1,o[ei]=u)}function J(o,c,u,f){const _=f??-1,w=c.length-1;let S=0;for(let k=void 0!==f?65535&o[Ao]:0;k<w;k++)if("number"==typeof c[k+1]){if(S=c[k],null!=f&&S>=f)break}else c[k]<0&&(o[Ao]+=65536),(S<_||-1==_)&&(kf(o,u,c,k),o[Ao]=(4294901760&o[Ao])+k+2),k++}function Po(o,c){ol(4,o,c);const u=Ns(null);try{c.call(o)}finally{Ns(u),ol(5,o,c)}}function kf(o,c,u,f){const p=u[f]<0,_=u[f+1],S=o[p?-u[f]:u[f]];p?o[ei]>>13<o[Ao]>>16&&(3&o[ei])===c&&(o[ei]+=8192,Po(S,_)):Po(S,_)}const cl=-1;class id{constructor(c,u,f){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function ch(o){return o!==cl}function ql(o){return 32767&o}function sd(o,c){let u=function Gl(o){return o>>16}(o),f=c;for(;u>0;)f=f[Pl],u--;return f}let Pf=!0;function Dr(o){const c=Pf;return Pf=o,c}const Pm=255,ea=5;let Ks=0;const ta={};function od(o,c){const u=Oo(o,c);if(-1!==u)return u;const f=c[Jt];f.firstCreatePass&&(o.injectorIndex=c.length,na(f.data,o),na(c,null),na(f.blueprint,null));const p=ba(o,c),_=o.injectorIndex;if(ch(p)){const w=ql(p),S=sd(p,c),k=S[Jt].data;for(let B=0;B<8;B++)c[_+B]=S[w+B]|k[w+B]}return c[_+8]=p,_}function na(o,c){o.push(0,0,0,0,0,0,0,0,c)}function Oo(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function ba(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,f=null,p=c;for(;null!==p;){if(f=dh(p),null===f)return cl;if(u++,p=p[Pl],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return cl}function ad(o,c,u){!function pu(o,c,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(Nl)&&(f=u[Nl]),null==f&&(f=u[Nl]=Ks++);const p=f&Pm;c.data[o+(p>>ea)]|=1<<p}(o,c,u)}function mu(o,c,u){if(u&Fn.Optional||void 0!==o)return o;Hn()}function uh(o,c,u,f){if(u&Fn.Optional&&void 0===f&&(f=null),!(u&(Fn.Self|Fn.Host))){const p=o[xc],_=Ji(void 0);try{return p?p.get(c,f,u&Fn.Optional):Ir(c,f,u&Fn.Optional)}finally{Ji(_)}}return mu(f,0,u)}function cs(o,c,u,f=Fn.Default,p){if(null!==o){if(2048&c[ei]&&!(f&Fn.Self)){const w=function ld(o,c,u,f,p){let _=o,w=c;for(;null!==_&&null!==w&&2048&w[ei]&&!(512&w[ei]);){const S=Ff(_,w,u,f|Fn.Self,ta);if(S!==ta)return S;let k=_.parent;if(!k){const B=w[p_];if(B){const q=B.get(u,ta,f);if(q!==ta)return q}k=dh(w),w=w[Pl]}_=k}return p}(o,c,u,f,ta);if(w!==ta)return w}const _=Ff(o,c,u,f,ta);if(_!==ta)return _}return uh(c,u,f,p)}function Ff(o,c,u,f,p){const _=function Ac(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(Nl)?o[Nl]:void 0;return"number"==typeof c?c>=0?c&Pm:Wa:c}(u);if("function"==typeof _){if(!_r(c,o,f))return f&Fn.Host?mu(p,0,f):uh(c,u,f,p);try{let w;if(w=_(f),null!=w||f&Fn.Optional)return w;Hn()}finally{En()}}else if("number"==typeof _){let w=null,S=Oo(o,c),k=cl,B=f&Fn.Host?c[os][lo]:null;for((-1===S||f&Fn.SkipSelf)&&(k=-1===S?ba(o,c):c[S+8],k!==cl&&P_(f,!1)?(w=c[Jt],S=ql(k),c=sd(k,c)):S=-1);-1!==S;){const q=c[Jt];if(Om(_,S,q.data)){const se=$w(S,c,u,w,f,B);if(se!==ta)return se}k=c[S+8],k!==cl&&P_(f,c[Jt].data[S+8]===B)&&Om(_,S,c)?(w=q,S=ql(k),c=sd(k,c)):S=-1}}return p}function $w(o,c,u,f,p,_){const w=c[Jt],S=w.data[o+8],q=Lf(S,w,u,null==f?Ws(S)&&Pf:f!=w&&0!=(3&S.type),p&Fn.Host&&_===S);return null!==q?gu(c,w,q,S):ta}function Lf(o,c,u,f,p){const _=o.providerIndexes,w=c.data,S=1048575&_,k=o.directiveStart,q=_>>20,Ce=p?S+q:o.directiveEnd;for(let Pe=f?S:S+q;Pe<Ce;Pe++){const mt=w[Pe];if(Pe<k&&u===mt||Pe>=k&&mt.type===u)return Pe}if(p){const Pe=w[k];if(Pe&&Mo(Pe)&&Pe.type===u)return k}return null}function gu(o,c,u,f){let p=o[u];const _=c.data;if(function Rf(o){return o instanceof id}(p)){const w=p;w.resolving&&function Vt(o,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${o}`:"";throw new $e(-200,`Circular dependency in DI detected for ${o}${u}`)}(function It(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():qe(o)}(_[u]));const S=Dr(w.canSeeViewProviders);w.resolving=!0;const B=w.injectImpl?Ji(w.injectImpl):null;_r(o,f,Fn.Default);try{p=o[u]=w.factory(void 0,_,o,f),c.firstCreatePass&&u>=f.directiveStart&&function R_(o,c,u){const{ngOnChanges:f,ngOnInit:p,ngDoCheck:_}=c.type.prototype;if(f){const w=E_(c);(u.preOrderHooks??=[]).push(o,w),(u.preOrderCheckHooks??=[]).push(o,w)}p&&(u.preOrderHooks??=[]).push(0-o,p),_&&((u.preOrderHooks??=[]).push(o,_),(u.preOrderCheckHooks??=[]).push(o,_))}(u,_[u],c)}finally{null!==B&&Ji(B),Dr(S),w.resolving=!1,En()}}return p}function Om(o,c,u){return!!(u[c+(o>>ea)]&1<<o)}function P_(o,c){return!(o&Fn.Self||o&Fn.Host&&c)}class xs{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,f){return cs(this._tNode,this._lView,c,Ci(f),u)}}function Wa(){return new xs(as(),St())}function O_(o){return Ue(()=>{const c=o.prototype.constructor,u=c[Do]||F_(c),f=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==f;){const _=p[Do]||F_(p);if(_&&_!==u)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function F_(o){return Qt(o)?()=>{const c=F_(Ot(o));return c&&c()}:Bl(o)}function dh(o){const c=o[Jt],u=c.type;return 2===u?c.declTNode:1===u?o[lo]:null}function Bf(o){return function Sc(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const u=o.attrs;if(u){const f=u.length;let p=0;for(;p<f;){const _=u[p];if(pa(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<f&&"string"==typeof u[p];)p++;else{if(_===c)return u[p+1];p+=2}}}return null}(as(),o)}const A="__parameters__";function ve(o,c,u){return Ue(()=>{const f=function te(o){return function(...u){if(o){const f=o(...u);for(const p in f)this[p]=f[p]}}}(c);function p(..._){if(this instanceof p)return f.apply(this,_),this;const w=new p(..._);return S.annotation=w,S;function S(k,B,q){const se=k.hasOwnProperty(A)?k[A]:Object.defineProperty(k,A,{value:[]})[A];for(;se.length<=q;)se.push(null);return(se[q]=se[q]||[]).push(w),k}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}function hh(o,c){o.forEach(u=>Array.isArray(u)?hh(u,c):c(u))}function Ww(o,c,u){c>=o.length?o.push(u):o.splice(c,0,u)}function fh(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function Vf(o,c){const u=[];for(let f=0;f<o;f++)u.push(c);return u}function Ea(o,c,u){let f=Uf(o,c);return f>=0?o[1|f]=u:(f=~f,function Yw(o,c,u,f){let p=o.length;if(p==c)o.push(u,f);else if(1===p)o.push(f,o[0]),o[0]=u;else{for(p--,o.push(o[p-1],o[p]);p>c;)o[p]=o[p-2],p--;o[c]=u,o[c+1]=f}}(o,f,c,u)),f}function V_(o,c){const u=Uf(o,c);if(u>=0)return o[1|u]}function Uf(o,c){return function s0(o,c,u){let f=0,p=o.length>>u;for(;p!==f;){const _=f+(p-f>>1),w=o[_<<u];if(c===w)return _<<u;w>c?p=_:f=_+1}return~(p<<u)}(o,c,1)}const H_=Io(ve("Optional"),8),Hf=Io(ve("SkipSelf"),4);function gi(o){return 128==(128&o.flags)}var _h=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(_h||{});const yu=/^>|^->|<!--|-->|--!>|<!-$/g,$l=/(<|>)/g,Y_="\u200b$1\u200b";const d0=new Map;let oa=0;const Z_="__ngContext__";function Fs(o,c){co(c)?(o[Z_]=c[va],function Vm(o){d0.set(o[va],o)}(c)):o[Z_]=c}let be;function Pt(o,c){return be(o,c)}function hn(o){const c=o[Qi];return $s(c)?c[Qi]:c}function dl(o){return K_(o[Yd])}function vh(o){return K_(o[Qo])}function K_(o){for(;null!==o&&!$s(o);)o=o[Qo];return o}function Ya(o,c,u,f,p){if(null!=f){let _,w=!1;$s(f)?_=f:co(f)&&(w=!0,f=f[Pr]);const S=ji(f);0===o&&null!==u?null==p?g0(c,u,S):qm(c,u,S,p||null,!0):1===o&&null!==u?qm(c,u,S,p||null,!0):2===o?function Zf(o,c,u){const f=u1(o,c);f&&function CI(o,c,u,f){o.removeChild(c,u,f)}(o,f,c,u)}(c,S,w):3===o&&c.destroyNode(S),null!=_&&function _0(o,c,u,f,p){const _=u[Xo];_!==ji(u)&&Ya(c,o,f,_,p);for(let S=vs;S<u.length;S++){const k=u[S];Nc(k[Jt],k,o,c,f,_)}}(c,o,_,u,p)}}function Hm(o,c){return o.createComment(function ul(o){return o.replace(yu,c=>c.replace($l,Y_))}(c))}function bh(o,c,u){return o.createElement(c,u)}function o1(o,c){const u=o[Fl],f=u.indexOf(c);jw(c),u.splice(f,1)}function a1(o,c){if(o.length<=vs)return;const u=vs+c,f=o[u];if(f){const p=f[Wu];null!==p&&p!==o&&o1(p,f),c>0&&(o[u-1][Qo]=f[Qo]);const _=fh(o,vs+c);!function Yf(o,c){Nc(o,c,c[Nn],2,null,null),c[Pr]=null,c[lo]=null}(f[Jt],f);const w=_[To];null!==w&&w.detachView(_[Jt]),f[Qi]=null,f[Qo]=null,f[ei]&=-129}return f}function p0(o,c){if(!(256&c[ei])){const u=c[Nn];c[Cc]&&hm(c[Cc]),c[il]&&hm(c[il]),u.destroyNode&&Nc(o,c,u,3,null,null),function bI(o){let c=o[Yd];if(!c)return xI(o[Jt],o);for(;c;){let u=null;if(co(c))u=c[Yd];else{const f=c[vs];f&&(u=f)}if(!u){for(;c&&!c[Qo]&&c!==o;)co(c)&&xI(c[Jt],c),c=c[Qi];null===c&&(c=o),co(c)&&xI(c[Jt],c),u=c&&c[Qo]}c=u}}(c)}}function xI(o,c){if(!(256&c[ei])){c[ei]&=-129,c[ei]|=256,function PT(o,c){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let f=0;f<u.length;f+=2){const p=c[u[f]];if(!(p instanceof id)){const _=u[f+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const S=p[_[w]],k=_[w+1];ol(4,S,k);try{k.call(S)}finally{ol(5,S,k)}}else{ol(4,p,_);try{_.call(p)}finally{ol(5,p,_)}}}}}(o,c),function l1(o,c){const u=o.cleanup,f=c[qs];if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const w=u[_+3];w>=0?f[w]():f[-w].unsubscribe(),_+=2}else u[_].call(f[u[_+1]]);null!==f&&(c[qs]=null);const p=c[qa];if(null!==p){c[qa]=null;for(let _=0;_<p.length;_++)(0,p[_])()}}(o,c),1===c[Jt].type&&c[Nn].destroy();const u=c[Wu];if(null!==u&&$s(c[Qi])){u!==c[Qi]&&o1(u,c);const f=c[To];null!==f&&f.detachView(o)}!function yI(o){d0.delete(o[va])}(c)}}function c1(o,c,u){return function m0(o,c,u){let f=c;for(;null!==f&&40&f.type;)f=(c=f).parent;if(null===f)return u[Pr];{const{componentOffset:p}=f;if(p>-1){const{encapsulation:_}=o.data[f.directiveStart+p];if(_===bn.None||_===bn.Emulated)return null}return ko(f,u)}}(o,c.parent,u)}function qm(o,c,u,f,p){o.insertBefore(c,u,f,p)}function g0(o,c,u){o.appendChild(c,u)}function Gm(o,c,u,f,p){null!==f?qm(o,c,u,f,p):g0(o,c,u)}function u1(o,c){return o.parentNode(c)}function EI(o,c,u){return LT(o,c,u)}let II,y0,Wm,tv,LT=function FT(o,c,u){return 40&o.type?ko(o,u):null};function Q_(o,c,u,f){const p=c1(o,f,c),_=c[Nn],S=EI(f.parent||c[lo],f,c);if(null!=p)if(Array.isArray(u))for(let k=0;k<u.length;k++)Gm(_,p,u[k],S,!1);else Gm(_,p,u,S,!1);void 0!==II&&II(_,f,c,u,p)}function $m(o,c){if(null!==c){const u=c.type;if(3&u)return ko(c,o);if(4&u)return X_(-1,o[c.index]);if(8&u){const f=c.child;if(null!==f)return $m(o,f);{const p=o[c.index];return $s(p)?X_(-1,p):ji(p)}}if(32&u)return Pt(c,o)()||ji(o[c.index]);{const f=d1(o,c);return null!==f?Array.isArray(f)?f[0]:$m(hn(o[os]),f):$m(o,c.next)}}return null}function d1(o,c){return null!==c?o[os][lo].projection[c.projection]:null}function X_(o,c){const u=vs+o+1;if(u<c.length){const f=c[u],p=f[Jt].firstChild;if(null!==p)return $m(f,p)}return c[Xo]}function Qf(o,c,u,f,p,_,w){for(;null!=u;){const S=f[u.index],k=u.type;if(w&&0===c&&(S&&Fs(ji(S),f),u.flags|=2),32!=(32&u.flags))if(8&k)Qf(o,c,u.child,f,p,_,!1),Ya(c,o,p,S,_);else if(32&k){const B=Pt(u,f);let q;for(;q=B();)Ya(c,o,p,q,_);Ya(c,o,p,S,_)}else 16&k?BT(o,c,f,u,p,_):Ya(c,o,p,S,_);u=w?u.projectionNext:u.next}}function Nc(o,c,u,f,p,_){Qf(u,f,o.firstChild,c,p,_,!1)}function BT(o,c,u,f,p,_){const w=u[os],k=w[lo].projection[f.projection];if(Array.isArray(k))for(let B=0;B<k.length;B++)Ya(c,o,p,k[B],_);else{let B=k;const q=w[Qi];gi(f)&&(B.flags|=128),Qf(o,c,B,q,p,_,!0)}}function v0(o,c,u){""===u?o.removeAttribute(c,"class"):o.setAttribute(c,"class",u)}function J_(o,c,u){const{mergedAttrs:f,classes:p,styles:_}=u;null!==f&&lf(o,c,f),null!==p&&v0(o,c,p),null!==_&&function KO(o,c,u){o.setAttribute(c,"style",u)}(o,c,_)}function Pc(o){return function ev(){if(void 0===y0&&(y0=null,$i.trustedTypes))try{y0=$i.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return y0}()?.createHTML(o)||o}function SI(o){Wm=o}function h1(o){return function wh(){if(void 0===tv&&(tv=null,$i.trustedTypes))try{tv=$i.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return tv}()?.createScriptURL(o)||o}class Oc{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mn})`}}class VT extends Oc{getTypeName(){return"HTML"}}class f1 extends Oc{getTypeName(){return"Style"}}class XO extends Oc{getTypeName(){return"Script"}}class JO extends Oc{getTypeName(){return"URL"}}class eF extends Oc{getTypeName(){return"ResourceURL"}}function Ch(o){return o instanceof Oc?o.changingThisBreaksApplicationSecurity:o}function nv(o,c){const u=function tF(o){return o instanceof Oc&&o.getTypeName()||null}(o);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see ${Mn})`)}return u===c}function nF(o){return new VT(o)}function UT(o){return new f1(o)}function jT(o){return new XO(o)}function iF(o){return new JO(o)}function rF(o){return new eF(o)}class sF{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(Pc(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class oF{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const u=this.inertDocument.createElement("template");return u.innerHTML=Pc(c),u}}const p1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iv(o){return(o=String(o)).match(p1)?o:"unsafe:"+o}function md(o){const c={};for(const u of o.split(","))c[u]=!0;return c}function Xf(...o){const c={};for(const u of o)for(const f in u)u.hasOwnProperty(f)&&(c[f]=!0);return c}const zT=md("area,br,col,hr,img,wbr"),m1=md("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),TI=md("rp,rt"),g1=Xf(zT,Xf(m1,md("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xf(TI,md("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xf(TI,m1)),b0=md("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qT=Xf(b0,md("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),md("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cF=md("script,style,template");class GT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!g1.hasOwnProperty(u))return this.sanitizedSomething=!0,!cF.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=c.attributes;for(let p=0;p<f.length;p++){const _=f.item(p),w=_.name,S=w.toLowerCase();if(!qT.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let k=_.value;b0[S]&&(k=iv(k)),this.buf.push(" ",w,'="',kI(k),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();g1.hasOwnProperty(u)&&!zT.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(kI(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const _1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,MI=/([^\#-~ |!])/g;function kI(o){return o.replace(/&/g,"&amp;").replace(_1,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(MI,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let v1;function RI(o,c){let u=null;try{v1=v1||function HT(o){const c=new oF(o);return function aF(){try{return!!(new window.DOMParser).parseFromString(Pc(""),"text/html")}catch{return!1}}()?new sF(c):c}(o);let f=c?String(c):"";u=v1.getInertBodyElement(f);let p=5,_=f;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,f=_,_=u.innerHTML,u=v1.getInertBodyElement(f)}while(f!==_);return Pc((new GT).sanitizeChildren(w0(u)||u))}finally{if(u){const f=w0(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function w0(o){return"content"in o&&function uF(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Zm=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Zm||{});function NI(o){const c=Jf();return c?c.sanitize(Zm.URL,o)||"":nv(o,"URL")?Ch(o):iv(qe(o))}function $T(o){const c=Jf();if(c)return h1(c.sanitize(Zm.RESOURCE_URL,o)||"");if(nv(o,"ResourceURL"))return h1(Ch(o));throw new $e(904,!1)}function PI(o,c,u){return function YT(o,c){return"src"===c&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===c&&("base"===o||"link"===o)?$T:NI}(c,u)(o)}function Jf(){const o=St();return o&&o[za].sanitizer}const rv=new Dn("ENVIRONMENT_INITIALIZER"),ZT=new Dn("INJECTOR",-1),KT=new Dn("INJECTOR_DEF_TYPES");class OI{get(c,u=Nr){if(u===Nr){const f=new Error(`NullInjectorError: No provider for ${Be(c)}!`);throw f.name="NullInjectorError",f}return u}}function QT(...o){return{\u0275providers:XT(0,o),\u0275fromNgModule:!0}}function XT(o,...c){const u=[],f=new Set;let p;const _=w=>{u.push(w)};return hh(c,w=>{const S=w;x0(S,_,[],f)&&(p||=[],p.push(S))}),void 0!==p&&JT(p,_),u}function JT(o,c){for(let u=0;u<o.length;u++){const{ngModule:f,providers:p}=o[u];b1(p,_=>{c(_,f)})}}function x0(o,c,u,f){if(!(o=Ot(o)))return!1;let p=null,_=vc(o);const w=!_&&vi(o);if(_||w){if(w&&!w.standalone)return!1;p=o}else{const k=o.ngModule;if(_=vc(k),!_)return!1;p=k}const S=f.has(p);if(w){if(S)return!1;if(f.add(p),w.dependencies){const k="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const B of k)x0(B,c,u,f)}}else{if(!_)return!1;{if(null!=_.imports&&!S){let B;f.add(p);try{hh(_.imports,q=>{x0(q,c,u,f)&&(B||=[],B.push(q))})}finally{}void 0!==B&&JT(B,c)}if(!S){const B=Bl(p)||(()=>new p);c({provide:p,useFactory:B,deps:dn},p),c({provide:KT,useValue:p,multi:!0},p),c({provide:rv,useValue:()=>Bi(p),multi:!0},p)}const k=_.providers;if(null!=k&&!S){const B=o;b1(k,q=>{c(q,B)})}}}return p!==o&&void 0!==o.providers}function b1(o,c){for(let u of o)Ut(u)&&(u=u.\u0275providers),Array.isArray(u)?b1(u,c):c(u)}const eM=ue({provide:String,useValue:ue});function gd(o){return null!==o&&"object"==typeof o&&eM in o}function Qm(o){return"function"==typeof o}const FI=new Dn("Set Injector scope."),I0={},LI={};let BI;function Cu(){return void 0===BI&&(BI=new OI),BI}class hl{}class sv extends hl{get destroyed(){return this._destroyed}constructor(c,u,f,p){super(),this.parent=u,this.source=f,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ep(c,w=>this.processProvider(w)),this.records.set(ZT,ov(void 0,this)),p.has("environment")&&this.records.set(hl,ov(void 0,this));const _=this.records.get(FI);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(KT.multi,dn,Fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of c)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const u=Vn(this),f=Ji(void 0);try{return c()}finally{Vn(u),Ji(f)}}get(c,u=Nr,f=Fn.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(Wp))return c[Wp](this);f=Ci(f);const _=Vn(this),w=Ji(void 0);try{if(!(f&Fn.SkipSelf)){let k=this.records.get(c);if(void 0===k){const B=function vF(o){return"function"==typeof o||"object"==typeof o&&o instanceof Dn}(c)&&ps(c);k=B&&this.injectableDefInScope(B)?ov(VI(c),I0):null,this.records.set(c,k)}if(null!=k)return this.hydrate(c,k)}return(f&Fn.Self?Cu():this.parent).get(c,u=f&Fn.Optional&&u===Nr?null:u)}catch(S){if("NullInjectorError"===S.name){if((S[ao]=S[ao]||[]).unshift(Be(c)),_)throw S;return function qd(o,c,u,f){const p=o[ao];throw c[Et]&&p.unshift(c[Et]),o.message=function ut(o,c,u,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let p=Be(c);if(Array.isArray(c))p=c.map(Be).join(" -> ");else if("object"==typeof c){let _=[];for(let w in c)if(c.hasOwnProperty(w)){let S=c[w];_.push(w+":"+("string"==typeof S?JSON.stringify(S):Be(S)))}p=`{${_.join(", ")}}`}return`${u}${f?"("+f+")":""}[${p}]: ${o.replace(fe,"\n  ")}`}("\n"+o.message,p,u,f),o.ngTokenPath=p,o[ao]=null,o}(S,c,"R3InjectorError",this.source)}throw S}finally{Ji(w),Vn(_)}}resolveInjectorInitializers(){const c=Vn(this),u=Ji(void 0);try{const p=this.get(rv.multi,dn,Fn.Self);for(const _ of p)_()}finally{Vn(c),Ji(u)}}toString(){const c=[],u=this.records;for(const f of u.keys())c.push(Be(f));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processProvider(c){let u=Qm(c=Ot(c))?c:Ot(c&&c.provide);const f=function w1(o){return gd(o)?ov(void 0,o.useValue):ov(UI(o),I0)}(c);if(Qm(c)||!0!==c.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=ov(void 0,I0,!0),p.factory=()=>Ms(p.multi),this.records.set(u,p)),u=c,p.multi.push(c)}this.records.set(u,f)}hydrate(c,u){return u.value===I0&&(u.value=LI,u.value=u.factory()),"object"==typeof u.value&&u.value&&function x1(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=Ot(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(c){const u=this._onDestroyHooks.indexOf(c);-1!==u&&this._onDestroyHooks.splice(u,1)}}function VI(o){const c=ps(o),u=null!==c?c.factory:Bl(o);if(null!==u)return u;if(o instanceof Dn)throw new $e(204,!1);if(o instanceof Function)return function _F(o){const c=o.length;if(c>0)throw Vf(c,"?"),new $e(204,!1);const u=function Yo(o){return o&&(o[Zo]||o[yc])||null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new $e(204,!1)}function UI(o,c,u){let f;if(Qm(o)){const p=Ot(o);return Bl(p)||VI(p)}if(gd(o))f=()=>Ot(o.useValue);else if(function E0(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...Ms(o.deps||[]));else if(function C0(o){return!(!o||!o.useExisting)}(o))f=()=>Bi(Ot(o.useExisting));else{const p=Ot(o&&(o.useClass||o.provide));if(!function jI(o){return!!o.deps}(o))return Bl(p)||VI(p);f=()=>new p(...Ms(o.deps))}return f}function ov(o,c,u=!1){return{factory:o,value:c,multi:u?[]:void 0}}function ep(o,c){for(const u of o)Array.isArray(u)?ep(u,c):u&&Ut(u)?ep(u.\u0275providers,c):c(u)}const HI=new Dn("AppId",{providedIn:"root",factory:()=>tM}),tM="ng",zI=new Dn("Platform Initializer"),Xm=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),GI=new Dn("AnimationModuleType"),$I=new Dn("CSP nonce",{providedIn:"root",factory:()=>function Ym(){if(void 0!==Wm)return Wm;if(typeof document<"u")return document;throw new $e(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let iM=(o,c,u)=>null;function QI(o,c,u=!1){return iM(o,c,u)}class M0{}class aM{}class k0{resolveComponentFactory(c){throw function lM(o){const c=Error(`No component factory found for ${Be(o)}.`);return c.ngComponent=o,c}(c)}}let R0=(()=>{class o{static#e=this.NULL=new k0}return o})();function Fc(){return ng(as(),St())}function ng(o,c){return new N0(ko(o,c))}let N0=(()=>{class o{constructor(u){this.nativeElement=u}static#e=this.__NG_ELEMENT_ID__=Fc}return o})();function M1(o){return o instanceof N0?o.nativeElement:o}class JI{}let Yl=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function cM(){const o=St(),u=Jo(as().index,o);return(co(u)?u:o)[Nn]}()}return o})(),xF=(()=>{class o{static#e=this.\u0275prov=ti({token:o,providedIn:"root",factory:()=>null})}return o})();class eD{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const uM=new eD("16.2.12"),tD={};function pM(o,c=null,u=null,f){const p=mM(o,c,u,f);return p.resolveInjectorInitializers(),p}function mM(o,c=null,u=null,f,p=new Set){const _=[u||dn,QT(o)];return f=f||("object"==typeof o?void 0:Be(o)),new sv(_,c||Cu(),f||null,p)}let Lc=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=Nr;static#t=this.NULL=new OI;static create(u,f){if(Array.isArray(u))return pM({name:""},f,u,"");{const p=u.name??"";return pM({name:p},u.parent,u.providers,p)}}static#n=this.\u0275prov=ti({token:o,providedIn:"any",factory:()=>Bi(ZT)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function rD(o){return o.ngOriginalError}class _d{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&rD(c);for(;u&&rD(u);)u=rD(u);return u||null}}function sD(o){return c=>{setTimeout(o,void 0,c)}}const Bc=class np extends l.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,f){let p=c,_=u||(()=>null),w=f;if(c&&"object"==typeof c){const k=c;p=k.next?.bind(k),_=k.error?.bind(k),w=k.complete?.bind(k)}this.__isAsync&&(_=sD(_),p&&(p=sD(p)),w&&(w=sD(w)));const S=super.subscribe({next:p,error:_,complete:w});return c instanceof Fe.w0&&c.add(S),S}};function F0(...o){}class Fo{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bc(!1),this.onMicrotaskEmpty=new Bc(!1),this.onStable=new Bc(!1),this.onError=new Bc(!1),typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!f&&u,p.shouldCoalesceRunChangeDetection=f,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function IF(){const o="function"==typeof $i.requestAnimationFrame;let c=$i[o?"requestAnimationFrame":"setTimeout"],u=$i[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&u){const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f);const p=u[Zone.__symbol__("OriginalDelegate")];p&&(u=p)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function P1(o){const c=()=>{!function vM(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call($i,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,B0(o),o.isCheckStableRunning=!0,N1(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),B0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,p,_,w,S)=>{if(function wM(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(S))return u.invokeTask(p,_,w,S);try{return O1(o),u.invokeTask(p,_,w,S)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&c(),yM(o)}},onInvoke:(u,f,p,_,w,S,k)=>{try{return O1(o),u.invoke(p,_,w,S,k)}finally{o.shouldCoalesceRunChangeDetection&&c(),yM(o)}},onHasTask:(u,f,p,_)=>{u.hasTask(p,_),f===p&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,B0(o),N1(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,f,p,_)=>(u.handleError(p,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fo.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(Fo.isInAngularZone())throw new $e(909,!1)}run(c,u,f){return this._inner.run(c,u,f)}runTask(c,u,f,p){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+p,c,_M,F0,F0);try{return _.runTask(w,u,f)}finally{_.cancelTask(w)}}runGuarded(c,u,f){return this._inner.runGuarded(c,u,f)}runOutsideAngular(c){return this._outer.run(c)}}const _M={};function N1(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function B0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function O1(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function yM(o){o._nesting--,N1(o)}class DF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bc,this.onMicrotaskEmpty=new Bc,this.onStable=new Bc,this.onError=new Bc}run(c,u,f){return c.apply(u,f)}runGuarded(c,u,f){return c.apply(u,f)}runOutsideAngular(c){return c()}runTask(c,u,f,p){return c.apply(u,f)}}const F1=new Dn("",{providedIn:"root",factory:bM});function bM(){const o=Jn(Fo);let c=!0;const u=new ee.y(p=>{c=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{p.next(c),p.complete()})}),f=new ee.y(p=>{let _;o.runOutsideAngular(()=>{_=o.onStable.subscribe(()=>{Fo.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(c=!0,p.next(!0))})})});const w=o.onUnstable.subscribe(()=>{Fo.assertInAngularZone(),c&&(c=!1,o.runOutsideAngular(()=>{p.next(!1)}))});return()=>{_.unsubscribe(),w.unsubscribe()}});return(0,He.T)(u,f.pipe((0,pt.B)()))}function vd(o){return o instanceof Function?o():o}let Ih=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ti({token:o,providedIn:"root",factory:()=>new o})}return o})();function hv(o){for(;o;){o[ei]|=64;const c=hn(o);if(Ec(o)&&!c)return o;o=c}return null}const AF=new Dn("",{providedIn:"root",factory:()=>!1});let j0=null;function cD(o,c){return o[c]??dD()}function uD(o,c){const u=dD();u.producerNode?.length&&(o[c]=j0,u.lView=o,j0=Vc())}const EM={...um,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{hv(o.lView)},lView:null};function Vc(){return Object.create(EM)}function dD(){return j0??=Vc(),j0}const fi={};function IM(o){DM(si(),St(),Ti()+o,!1)}function DM(o,c,u,f){if(!f)if(3==(3&c[ei])){const _=o.preOrderCheckHooks;null!==_&&No(c,_,u)}else{const _=o.preOrderHooks;null!==_&&lt(c,_,0,u)}zl(u)}function ig(o,c=Fn.Default){const u=St();return null===u?Bi(o,c):cs(as(),u,Ot(o),c)}function SM(){throw new Error("invalid")}function U1(o,c,u,f,p,_,w,S,k,B,q){const se=c.blueprint.slice();return se[Pr]=p,se[ei]=140|f,(null!==B||o&&2048&o[ei])&&(se[ei]|=2048),If(se),se[Qi]=se[Pl]=o,se[Or]=u,se[za]=w||o&&o[za],se[Nn]=S||o&&o[Nn],se[xc]=k||o&&o[xc]||null,se[lo]=_,se[va]=function Da(){return oa++}(),se[Ol]=q,se[p_]=B,se[os]=2==c.type?o[os]:se,se}function pv(o,c,u,f,p){let _=o.data[c];if(null===_)_=function hD(o,c,u,f,p){const _=Sm(),w=Tm(),k=o.data[c]=function _D(o,c,u,f,p,_){let w=c?c.injectorIndex:-1,S=0;return jl()&&(S|=128),{type:u,index:f,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,u,c,f,p);return null===o.firstChild&&(o.firstChild=k),null!==_&&(w?null==_.child&&null!==k.parent&&(_.child=k):null===_.next&&(_.next=k,k.prev=_)),k}(o,c,u,f,p),function T_(){return $n.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=u,_.value=f,_.attrs=p;const w=function Am(){const o=$n.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return Ro(_,!0),_}function H0(o,c,u,f){if(0===u)return-1;const p=c.length;for(let _=0;_<u;_++)c.push(f),o.blueprint.push(f),o.data.push(null);return p}function AM(o,c,u,f,p){const _=cD(c,Cc),w=Ti(),S=2&f;try{zl(-1),S&&c.length>Ei&&DM(o,c,Ei,!1),ol(S?2:0,p);const B=S?_:null,q=ys(B);try{null!==B&&(B.dirty=!1),u(f,p)}finally{vf(B,q)}}finally{S&&null===c[Cc]&&uD(c,Cc),zl(w),ol(S?3:1,p)}}function fD(o,c,u){if(nm(c)){const f=Ns(null);try{const _=c.directiveEnd;for(let w=c.directiveStart;w<_;w++){const S=o.data[w];S.contentQueries&&S.contentQueries(1,u[w],w)}}finally{Ns(f)}}}function pD(o,c,u){td()&&(function qF(o,c,u,f){const p=u.directiveStart,_=u.directiveEnd;Ws(u)&&function V8(o,c,u){const f=ko(c,o),p=TM(u);let w=16;u.signals?w=4096:u.onPush&&(w=64);const S=j1(o,U1(o,p,null,w,f,c,null,o[za].rendererFactory.createRenderer(f,u),null,null,null));o[c.index]=S}(c,u,o.data[p+u.componentOffset]),o.firstCreatePass||od(u,c),Fs(f,c);const w=u.initialInputs;for(let S=p;S<_;S++){const k=o.data[S],B=gu(c,o,S,u);Fs(B,c),null!==w&&QF(0,S-p,B,k,0,w),Mo(k)&&(Jo(u.index,c)[Or]=gu(c,o,S,u))}}(o,c,u,ko(u,c)),64==(64&u.flags)&&OM(o,c,u))}function mD(o,c,u=ko){const f=c.localNames;if(null!==f){let p=c.index+1;for(let _=0;_<f.length;_+=2){const w=f[_+1],S=-1===w?u(c,o):o[w];o[p++]=S}}}function TM(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=gD(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):c}function gD(o,c,u,f,p,_,w,S,k,B,q){const se=Ei+f,Ce=se+p,Pe=function OF(o,c){const u=[];for(let f=0;f<c;f++)u.push(f<o?null:fi);return u}(se,Ce),mt="function"==typeof B?B():B;return Pe[Jt]={type:o,blueprint:Pe,template:u,queries:null,viewQuery:S,declTNode:c,data:Pe.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:k,consts:mt,incompleteFirstPass:!1,ssrId:q}}let MM=o=>null;function vD(o,c,u,f){for(let p in o)if(o.hasOwnProperty(p)){u=null===u?{}:u;const _=o[p];null===f?kM(u,c,p,_):f.hasOwnProperty(p)&&kM(u,c,f[p],_)}return u}function kM(o,c,u,f){o.hasOwnProperty(u)?o[u].push(c,f):o[u]=[c,f]}function Kl(o,c,u,f,p,_,w,S){const k=ko(c,u);let q,B=c.inputs;!S&&null!=B&&(q=B[f])?(CD(o,u,q,f,p),Ws(c)&&function jF(o,c){const u=Jo(c,o);16&u[ei]||(u[ei]|=64)}(u,c.index)):3&c.type&&(f=function UF(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),p=null!=w?w(p,c.value||"",f):p,_.setProperty(k,f,p))}function yD(o,c,u,f){if(td()){const p=null===f?null:{"":-1},_=function $F(o,c){const u=o.directiveRegistry;let f=null,p=null;if(u)for(let _=0;_<u.length;_++){const w=u[_];if(df(c,w.selectors,!1))if(f||(f=[]),Mo(w))if(null!==w.findHostDirectiveDefs){const S=[];p=p||new Map,w.findHostDirectiveDefs(w,S,p),f.unshift(...S,w),bD(o,c,S.length)}else f.unshift(w),bD(o,c,0);else p=p||new Map,w.findHostDirectiveDefs?.(w,f,p),f.push(w)}return null===f?null:[f,p]}(o,u);let w,S;null===_?w=S=null:[w,S]=_,null!==w&&NM(o,c,u,w,p,S),p&&function WF(o,c,u){if(c){const f=o.localNames=[];for(let p=0;p<c.length;p+=2){const _=u[c[p+1]];if(null==_)throw new $e(-301,!1);f.push(c[p],_)}}}(u,f,p)}u.mergedAttrs=zs(u.mergedAttrs,u.attrs)}function NM(o,c,u,f,p,_){for(let B=0;B<f.length;B++)ad(od(u,c),o,f[B].type);!function ZF(o,c,u){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+u,o.providerIndexes=c}(u,o.data.length,f.length);for(let B=0;B<f.length;B++){const q=f[B];q.providersResolver&&q.providersResolver(q)}let w=!1,S=!1,k=H0(o,c,f.length,null);for(let B=0;B<f.length;B++){const q=f[B];u.mergedAttrs=zs(u.mergedAttrs,q.hostAttrs),KF(o,u,c,k,q),YF(k,q,p),null!==q.contentQueries&&(u.flags|=4),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(u.flags|=64);const se=q.type.prototype;!w&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((o.preOrderHooks??=[]).push(u.index),w=!0),!S&&(se.ngOnChanges||se.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(u.index),S=!0),k++}!function RM(o,c,u){const p=c.directiveEnd,_=o.data,w=c.attrs,S=[];let k=null,B=null;for(let q=c.directiveStart;q<p;q++){const se=_[q],Ce=u?u.get(se):null,mt=Ce?Ce.outputs:null;k=vD(se.inputs,q,k,Ce?Ce.inputs:null),B=vD(se.outputs,q,B,mt);const Ht=null===k||null===w||zy(c)?null:LM(k,q,w);S.push(Ht)}null!==k&&(k.hasOwnProperty("class")&&(c.flags|=8),k.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=S,c.inputs=k,c.outputs=B}(o,u,_)}function OM(o,c,u){const f=u.directiveStart,p=u.directiveEnd,_=u.index,w=function M_(){return $n.lFrame.currentDirectiveIndex}();try{zl(_);for(let S=f;S<p;S++){const k=o.data[S],B=c[S];k_(S),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&GF(k,B)}}finally{zl(-1),k_(w)}}function GF(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function bD(o,c,u){c.componentOffset=u,(o.components??=[]).push(c.index)}function YF(o,c,u){if(u){if(c.exportAs)for(let f=0;f<c.exportAs.length;f++)u[c.exportAs[f]]=o;Mo(c)&&(u[""]=o)}}function KF(o,c,u,f,p){o.data[f]=p;const _=p.factory||(p.factory=Bl(p.type)),w=new id(_,Mo(p),ig);o.blueprint[f]=w,u[f]=w,function B8(o,c,u,f,p){const _=p.hostBindings;if(_){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const S=~c.index;(function PM(o){let c=o.length;for(;c>0;){const u=o[--c];if("number"==typeof u&&u<0)return u}return 0})(w)!=S&&w.push(S),w.push(u,f,_)}}(o,c,f,H0(o,u,p.hostVars,fi),p)}function Dh(o,c,u,f,p,_){const w=ko(o,c);!function wD(o,c,u,f,p,_,w){if(null==_)o.removeAttribute(c,p,u);else{const S=null==w?qe(_):w(_,f||"",p);o.setAttribute(c,p,S,u)}}(c[Nn],w,_,o.value,u,f,p)}function QF(o,c,u,f,p,_){const w=_[c];if(null!==w)for(let S=0;S<w.length;)FM(f,u,w[S++],w[S++],w[S++])}function FM(o,c,u,f,p){const _=Ns(null);try{const w=o.inputTransforms;null!==w&&w.hasOwnProperty(f)&&(p=w[f].call(c,p)),null!==o.setInput?o.setInput(c,p,u,f):c[f]=p}finally{Ns(_)}}function LM(o,c,u){let f=null,p=0;for(;p<u.length;){const _=u[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(o.hasOwnProperty(_)){null===f&&(f=[]);const w=o[_];for(let S=0;S<w.length;S+=2)if(w[S]===c){f.push(_,w[S+1],u[p+1]);break}}p+=2}else p+=2;else p+=4}return f}function BM(o,c,u,f){return[o,!0,!1,c,null,0,f,u,null,null,null]}function VM(o,c){const u=o.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const _=u[f+1];if(-1!==_){const w=o.data[_];Mf(u[f]),w.contentQueries(2,c[_],_)}}}function j1(o,c){return o[Yd]?o[Zd][Qo]=c:o[Yd]=c,o[Zd]=c,c}function xD(o,c,u){Mf(0);const f=Ns(null);try{c(o,u)}finally{Ns(f)}}function Lo(o){return o[qs]||(o[qs]=[])}function fl(o){return o.cleanup||(o.cleanup=[])}function mv(o,c,u){return(null===o||Mo(o))&&(u=function Ju(o){for(;Array.isArray(o);){if("object"==typeof o[Kd])return o;o=o[Pr]}return null}(u[c.index])),u[Nn]}function UM(o,c){const u=o[xc],f=u?u.get(_d,null):null;f&&f.handleError(c)}function CD(o,c,u,f,p){for(let _=0;_<u.length;){const w=u[_++],S=u[_++];FM(o.data[w],c[w],f,S,p)}}function Sh(o,c,u){const f=lu(c,o);!function yh(o,c,u){o.setValue(c,u)}(o[Nn],f,u)}function XF(o,c){const u=Jo(c,o),f=u[Jt];!function zn(o,c){for(let u=c.length;u<o.blueprint.length;u++)c.push(o.blueprint[u])}(f,u);const p=u[Pr];null!==p&&null===u[Ol]&&(u[Ol]=QI(p,u[xc])),yr(f,u,u[Or])}function yr(o,c,u){du(c);try{const f=o.viewQuery;null!==f&&xD(1,f,u);const p=o.template;null!==p&&AM(o,c,p,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&VM(o,c),o.staticViewQueries&&xD(2,o.viewQuery,u);const _=o.components;null!==_&&function H1(o,c){for(let u=0;u<c.length;u++)XF(o,c[u])}(c,_)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{c[ei]&=-5,Dc()}}let jM=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(u,f,p){const _=typeof Zone>"u"?null:Zone.current,w=function w_(o,c,u){const f=Object.create(Ef);u&&(f.consumerAllowSignalWrites=!0),f.fn=o,f.schedule=c;const p=w=>{f.cleanupFn=w};return f.ref={notify:()=>Zy(f),run:()=>{if(f.dirty=!1,f.hasRun&&!dm(f))return;f.hasRun=!0;const w=ys(f);try{f.cleanupFn(),f.cleanupFn=x_,f.fn(p)}finally{vf(f,w)}},cleanup:()=>f.cleanupFn()},f.ref}(u,B=>{this.all.has(B)&&this.queue.set(B,_)},p);let S;this.all.add(w),w.notify();const k=()=>{w.cleanup(),S?.(),this.all.delete(w),this.queue.delete(w)};return S=f?.onDestroy(k),{destroy:k}}flush(){if(0!==this.queue.size)for(const[u,f]of this.queue)this.queue.delete(u),f?f.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ti({token:o,providedIn:"root",factory:()=>new o})}return o})();function gv(o,c,u){let f=u?o.styles:null,p=u?o.classes:null,_=0;if(null!==c)for(let w=0;w<c.length;w++){const S=c[w];"number"==typeof S?_=S:1==_?p=zt(p,S):2==_&&(f=zt(f,S+": "+c[++w]+";"))}u?o.styles=f:o.stylesWithoutHost=f,u?o.classes=p:o.classesWithoutHost=p}function z0(o,c,u,f,p=!1){for(;null!==u;){const _=c[u.index];null!==_&&f.push(ji(_)),$s(_)&&q0(_,f);const w=u.type;if(8&w)z0(o,c,u.child,f);else if(32&w){const S=Pt(u,c);let k;for(;k=S();)f.push(k)}else if(16&w){const S=d1(c,u);if(Array.isArray(S))f.push(...S);else{const k=hn(c[os]);z0(k[Jt],k,S,f,!0)}}u=p?u.projectionNext:u.next}return f}function q0(o,c){for(let u=vs;u<o.length;u++){const f=o[u],p=f[Jt].firstChild;null!==p&&z0(f[Jt],f,p,c)}o[Xo]!==o[Pr]&&c.push(o[Xo])}function Ar(o,c,u,f=!0){const p=c[za],_=p.rendererFactory,w=p.afterRenderEventManager;_.begin?.(),w?.begin();try{G0(o,c,o.template,u)}catch(k){throw f&&UM(c,k),k}finally{_.end?.(),p.effectManager?.flush(),w?.end()}}function G0(o,c,u,f){const p=c[ei];if(256!=(256&p)){c[za].effectManager?.flush(),du(c);try{If(c),function km(o){return $n.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&AM(o,c,u,2,f);const w=3==(3&p);if(w){const B=o.preOrderCheckHooks;null!==B&&No(c,B,null)}else{const B=o.preOrderHooks;null!==B&&lt(c,B,0,null),Zs(c,0)}if(function eL(o){for(let c=dl(o);null!==c;c=vh(c)){if(!c[rl])continue;const u=c[Fl];for(let f=0;f<u.length;f++){xm(u[f])}}}(c),ED(c,2),null!==o.contentQueries&&VM(o,c),w){const B=o.contentCheckHooks;null!==B&&No(c,B)}else{const B=o.contentHooks;null!==B&&lt(c,B,1),Zs(c,1)}!function PF(o,c){const u=o.hostBindingOpCodes;if(null===u)return;const f=cD(c,il);try{for(let p=0;p<u.length;p++){const _=u[p];if(_<0)zl(~_);else{const w=_,S=u[++p],k=u[++p];qw(S,w),f.dirty=!1;const B=ys(f);try{k(2,c[w])}finally{vf(f,B)}}}}finally{null===c[il]&&uD(c,il),zl(-1)}}(o,c);const S=o.components;null!==S&&ID(c,S,0);const k=o.viewQuery;if(null!==k&&xD(2,k,f),w){const B=o.viewCheckHooks;null!==B&&No(c,B)}else{const B=o.viewHooks;null!==B&&lt(c,B,2),Zs(c,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[ei]&=-73,jw(c)}finally{Dc()}}}function ED(o,c){for(let u=dl(o);null!==u;u=vh(u))for(let f=vs;f<u.length;f++)Ql(u[f],c)}function Ah(o,c,u){Ql(Jo(c,o),u)}function Ql(o,c){if(!function Xy(o){return 128==(128&o[ei])}(o))return;const u=o[Jt],f=o[ei];if(80&f&&0===c||1024&f||2===c)G0(u,o,u.template,o[Or]);else if(o[$u]>0){ED(o,1);const p=u.components;null!==p&&ID(o,p,1)}}function ID(o,c,u){for(let f=0;f<c.length;f++)Ah(o,c[f],u)}class sg{get rootNodes(){const c=this._lView,u=c[Jt];return z0(u,c,u.firstChild,[])}constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Or]}set context(c){this._lView[Or]=c}get destroyed(){return 256==(256&this._lView[ei])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Qi];if($s(c)){const u=c[8],f=u?u.indexOf(this):-1;f>-1&&(a1(c,f),fh(u,f))}this._attachedToViewContainer=!1}p0(this._lView[Jt],this._lView)}onDestroy(c){!function Jy(o,c){if(256==(256&o[ei]))throw new $e(911,!1);null===o[qa]&&(o[qa]=[]),o[qa].push(c)}(this._lView,c)}markForCheck(){hv(this._cdRefInjectingView||this._lView)}detach(){this._lView[ei]&=-129}reattach(){this._lView[ei]|=128}detectChanges(){Ar(this._lView[Jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zm(o,c){Nc(o,c,c[Nn],2,null,null)}(this._lView[Jt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=c}}class HM extends sg{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Ar(c[Jt],c,c[Or],!1)}checkNoChanges(){}get context(){return null}}class $0 extends R0{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=vi(c);return new og(u,this.ngModule)}}function zM(o){const c=[];for(let u in o)o.hasOwnProperty(u)&&c.push({propName:o[u],templateName:u});return c}class tL{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,f){f=Ci(f);const p=this.injector.get(c,tD,f);return p!==tD||u===tD?p:this.parentInjector.get(c,u,f)}}class og extends aM{get inputs(){const c=this.componentDef,u=c.inputTransforms,f=zM(c.inputs);if(null!==u)for(const p of f)u.hasOwnProperty(p.propName)&&(p.transform=u[p.propName]);return f}get outputs(){return zM(this.componentDef.outputs)}constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function ga(o){return o.map(f_).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}create(c,u,f,p){let _=(p=p||this.ngModule)instanceof hl?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new tL(c,_):c,S=w.get(JI,null);if(null===S)throw new $e(407,!1);const se={rendererFactory:S,sanitizer:w.get(xF,null),effectManager:w.get(jM,null),afterRenderEventManager:w.get(Ih,null)},Ce=S.createRenderer(null,this.componentDef),Pe=this.componentDef.selectors[0][0]||"div",mt=f?function FF(o,c,u,f){const _=f.get(AF,!1)||u===bn.ShadowDom,w=o.selectRootElement(c,_);return function LF(o){MM(o)}(w),w}(Ce,f,this.componentDef.encapsulation,w):bh(Ce,Pe,function U8(o){const c=o.toLowerCase();return"svg"===c?D_:"math"===c?"math":null}(Pe)),Un=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Rt=null;null!==mt&&(Rt=QI(mt,w,!0));const Zn=gD(0,null,null,1,0,null,null,null,null,null,null),yi=U1(null,Zn,null,Un,null,null,se,Ce,w,null,Rt);let hr,Za;du(yi);try{const Mu=this.componentDef;let Lg,DA=null;Mu.findHostDirectiveDefs?(Lg=[],DA=new Map,Mu.findHostDirectiveDefs(Mu,Lg,DA),Lg.push(Mu)):Lg=[Mu];const EN=function H8(o,c){const u=o[Jt],f=Ei;return o[f]=c,pv(u,f,2,"#host",null)}(yi,mt),o4=function nL(o,c,u,f,p,_,w){const S=p[Jt];!function iL(o,c,u,f){for(const p of o)c.mergedAttrs=zs(c.mergedAttrs,p.hostAttrs);null!==c.mergedAttrs&&(gv(c,c.mergedAttrs,!0),null!==u&&J_(f,u,c))}(f,o,c,w);let k=null;null!==c&&(k=QI(c,p[xc]));const B=_.rendererFactory.createRenderer(c,u);let q=16;u.signals?q=4096:u.onPush&&(q=64);const se=U1(p,TM(u),null,q,p[o.index],o,_,B,null,null,k);return S.firstCreatePass&&bD(S,o,f.length-1),j1(p,se),p[o.index]=se}(EN,mt,Mu,Lg,yi,se,Ce);Za=wm(Zn,Ei),mt&&function q8(o,c,u,f){if(f)lf(o,u,["ng-version",uM.full]);else{const{attrs:p,classes:_}=function Zp(o){const c=[],u=[];let f=1,p=2;for(;f<o.length;){let _=o[f];if("string"==typeof _)2===p?""!==_&&c.push(_,o[++f]):8===p&&u.push(_);else{if(!ss(p))break;p=_}f++}return{attrs:c,classes:u}}(c.selectors[0]);p&&lf(o,u,p),_&&_.length>0&&v0(o,u,_.join(" "))}}(Ce,Mu,mt,f),void 0!==u&&function G8(o,c,u){const f=o.projection=[];for(let p=0;p<c.length;p++){const _=u[p];f.push(null!=_?Array.from(_):null)}}(Za,this.ngContentSelectors,u),hr=function z8(o,c,u,f,p,_){const w=as(),S=p[Jt],k=ko(w,p);NM(S,p,w,u,null,f);for(let q=0;q<u.length;q++)Fs(gu(p,S,w.directiveStart+q,w),p);OM(S,p,w),k&&Fs(k,p);const B=gu(p,S,w.directiveStart+w.componentOffset,w);if(o[Or]=p[Or]=B,null!==_)for(const q of _)q(B,c);return fD(S,w,o),B}(o4,Mu,Lg,DA,yi,[$8]),yr(Zn,yi,null)}finally{Dc()}return new j8(this.componentType,hr,ng(Za,yi),yi,Za)}}class j8 extends M0{constructor(c,u,f,p,_){super(),this.location=f,this._rootLView=p,this._tNode=_,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new HM(p),this.componentType=c}setInput(c,u){const f=this._tNode.inputs;let p;if(null!==f&&(p=f[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),u))return;const _=this._rootLView;CD(_[Jt],_,p,c,u),this.previousInputValues.set(c,u),hv(Jo(this._tNode.index,_))}}get injector(){return new xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function $8(){const o=as();fu(St()[Jt],o)}function qM(o){let c=function rL(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const f=[o];for(;c;){let p;if(Mo(o))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new $e(903,!1);p=c.\u0275dir}if(p){if(u){f.push(p);const w=o;w.inputs=DD(o.inputs),w.inputTransforms=DD(o.inputTransforms),w.declaredInputs=DD(o.declaredInputs),w.outputs=DD(o.outputs);const S=p.hostBindings;S&&sL(o,S);const k=p.viewQuery,B=p.contentQueries;if(k&&SD(o,k),B&&GM(o,B),_e(o.inputs,p.inputs),_e(o.declaredInputs,p.declaredInputs),_e(o.outputs,p.outputs),null!==p.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),_e(w.inputTransforms,p.inputTransforms)),Mo(p)&&p.data.animation){const q=o.data;q.animation=(q.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let w=0;w<_.length;w++){const S=_[w];S&&S.ngInherit&&S(o),S===qM&&(u=!1)}}c=Object.getPrototypeOf(c)}!function W8(o){let c=0,u=null;for(let f=o.length-1;f>=0;f--){const p=o[f];p.hostVars=c+=p.hostVars,p.hostAttrs=zs(p.hostAttrs,u=zs(u,p.hostAttrs))}}(f)}function DD(o){return o===Rn?{}:o===dn?[]:o}function SD(o,c){const u=o.viewQuery;o.viewQuery=u?(f,p)=>{c(f,p),u(f,p)}:c}function GM(o,c){const u=o.contentQueries;o.contentQueries=u?(f,p,_)=>{c(f,p,_),u(f,p,_)}:c}function sL(o,c){const u=o.hostBindings;o.hostBindings=u?(f,p)=>{c(f,p),u(f,p)}:c}function ZM(o){const c=o.inputConfig,u={};for(const f in c)if(c.hasOwnProperty(f)){const p=c[f];Array.isArray(p)&&p[2]&&(u[f]=p[2])}o.inputTransforms=u}function q1(o){return!!W0(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function W0(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Xl(o,c,u){return o[c]=u}function Vo(o,c,u){return!Object.is(o[c],u)&&(o[c]=u,!0)}function ag(o,c,u,f){const p=Vo(o,c,u);return Vo(o,c+1,f)||p}function MD(o,c,u,f){const p=St();return Vo(p,Ic(),c)&&(si(),Dh(Pi(),p,o,c,u,f)),MD}function yd(o,c,u,f){return Vo(o,Ic(),u)?c+qe(u)+f:fi}function lg(o,c,u,f,p,_){const S=ag(o,function Hl(){return $n.lFrame.bindingIndex}(),u,p);return Ga(2),S?c+qe(u)+f+qe(p)+_:fi}function qD(o,c,u,f,p,_,w,S){const k=St(),B=si(),q=o+Ei,se=B.firstCreatePass?function ik(o,c,u,f,p,_,w,S,k){const B=c.consts,q=pv(c,o,4,w||null,uu(B,S));yD(c,u,q,uu(B,k)),fu(c,q);const se=q.tView=gD(2,q,f,p,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,B,null);return null!==c.queries&&(c.queries.template(c,q),se.queries=c.queries.embeddedTView(q)),q}(q,B,k,c,u,f,p,_,w):B.data[q];Ro(se,!1);const Ce=GD(B,k,se,o);nd()&&Q_(B,k,Ce,se),Fs(Ce,k),j1(k,k[q]=BM(Ce,k,Ce,se)),nu(se)&&pD(B,k,se),null!=w&&mD(k,se,S)}let GD=function $D(o,c,u,f){return Yn(!0),c[Nn].createComment("")};function yL(o){return al(function zw(){return $n.lFrame.contextLView}(),Ei+o)}function sk(o,c,u){const f=St();return Vo(f,Ic(),c)&&Kl(si(),Pi(),f,o,c,f[Nn],u,!1),sk}function Q0(o,c,u,f,p){const w=p?"class":"style";CD(o,u,c.inputs[w],w,f)}function WD(o,c,u,f){const p=St(),_=si(),w=Ei+o,S=p[Nn],k=_.firstCreatePass?function Q8(o,c,u,f,p,_){const w=c.consts,k=pv(c,o,2,f,uu(w,p));return yD(c,u,k,uu(w,_)),null!==k.attrs&&gv(k,k.attrs,!1),null!==k.mergedAttrs&&gv(k,k.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,k),k}(w,_,p,c,u,f):_.data[w],B=ok(_,p,k,S,c,o);p[w]=B;const q=nu(k);return Ro(k,!0),J_(S,B,k),32!=(32&k.flags)&&nd()&&Q_(_,p,B,k),0===function bs(){return $n.lFrame.elementDepthCount}()&&Fs(B,p),function A_(){$n.lFrame.elementDepthCount++}(),q&&(pD(_,p,k),fD(_,k,p)),null!==f&&mD(p,k),WD}function tx(){let o=as();Tm()?Mm():(o=o.parent,Ro(o,!1));const c=o;(function Sf(o){return $n.skipHydrationRootTNode===o})(c)&&function ih(){$n.skipHydrationRootTNode=null}(),function Ys(){$n.lFrame.elementDepthCount--}();const u=si();return u.firstCreatePass&&(fu(u,o),nm(o)&&u.queries.elementEnd(o)),null!=c.classesWithoutHost&&function rd(o){return 0!=(8&o.flags)}(c)&&Q0(u,c,St(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function ah(o){return 0!=(16&o.flags)}(c)&&Q0(u,c,St(),c.stylesWithoutHost,!1),tx}function nx(o,c,u,f){return WD(o,c,u,f),tx(),nx}let ok=(o,c,u,f,p,_)=>(Yn(!0),bh(f,p,function ll(){return $n.lFrame.currentNamespace}()));function ZD(o,c,u){const f=St(),p=si(),_=o+Ei,w=p.firstCreatePass?function X0(o,c,u,f,p){const _=c.consts,w=uu(_,f),S=pv(c,o,8,"ng-container",w);return null!==w&&gv(S,w,!0),yD(c,u,S,uu(_,p)),null!==c.queries&&c.queries.elementStart(c,S),S}(_,p,f,c,u):p.data[_];Ro(w,!0);const S=lk(p,f,w,o);return f[_]=S,nd()&&Q_(p,f,S,w),Fs(S,f),nu(w)&&(pD(p,f,w),fD(p,w,f)),null!=u&&mD(f,w),ZD}function Cv(){let o=as();const c=si();return Tm()?Mm():(o=o.parent,Ro(o,!1)),c.firstCreatePass&&(fu(c,o),nm(o)&&c.queries.elementEnd(o)),Cv}let lk=(o,c,u,f)=>(Yn(!0),Hm(c[Nn],""));function ck(){return St()}function uk(o){return!!o&&"function"==typeof o.then}function xL(o){return!!o&&"function"==typeof o.subscribe}function KD(o,c,u,f){const p=St(),_=si(),w=as();return CL(_,p,p[Nn],w,o,c,f),KD}function dk(o,c){const u=as(),f=St(),p=si();return CL(p,f,mv(sh(p.data),u,f),u,o,c),dk}function CL(o,c,u,f,p,_,w){const S=nu(f),B=o.firstCreatePass&&fl(o),q=c[Or],se=Lo(c);let Ce=!0;if(3&f.type||w){const Ht=ko(f,c),on=w?w(Ht):Ht,Un=se.length,Rt=w?yi=>w(ji(yi[f.index])):f.index;let Zn=null;if(!w&&S&&(Zn=function J8(o,c,u,f){const p=o.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const w=p[_];if(w===u&&p[_+1]===f){const S=c[qs],k=p[_+2];return S.length>k?S[k]:null}"string"==typeof w&&(_+=2)}return null}(o,c,p,f.index)),null!==Zn)(Zn.__ngLastListenerFn__||Zn).__ngNextListenerFn__=_,Zn.__ngLastListenerFn__=_,Ce=!1;else{_=IL(f,c,q,_,!1);const yi=u.listen(on,p,_);se.push(_,yi),B&&B.push(p,Rt,Un,Un+1)}}else _=IL(f,c,q,_,!1);const Pe=f.outputs;let mt;if(Ce&&null!==Pe&&(mt=Pe[p])){const Ht=mt.length;if(Ht)for(let on=0;on<Ht;on+=2){const hr=c[mt[on]][mt[on+1]].subscribe(_),Za=se.length;se.push(_,hr),B&&B.push(p,f.index,Za,-(Za+1))}}}function EL(o,c,u,f){try{return ol(6,c,u),!1!==u(f)}catch(p){return UM(o,p),!1}finally{ol(7,c,u)}}function IL(o,c,u,f,p){return function _(w){if(w===Function)return f;hv(o.componentOffset>-1?Jo(o.index,c):c);let k=EL(c,u,f,w),B=_.__ngNextListenerFn__;for(;B;)k=EL(c,u,B,w)&&k,B=B.__ngNextListenerFn__;return p&&!1===k&&w.preventDefault(),k}}function ix(o=1){return function ir(o){return($n.lFrame.contextLView=function ts(o,c){for(;o>0;)c=c[Pl],o--;return c}(o,$n.lFrame.contextLView))[Or]}(o)}function DL(o,c){let u=null;const f=function Rw(o){const c=o.attrs;if(null!=c){const u=c.indexOf(5);if(!(1&u))return c[u+1]}return null}(o);for(let p=0;p<c.length;p++){const _=c[p];if("*"!==_){if(null===f?df(o,_,!0):$d(f,_))return p}else u=p}return u}function rx(o){const c=St()[os][lo];if(!c.projection){const f=c.projection=Vf(o?o.length:1,null),p=f.slice();let _=c.child;for(;null!==_;){const w=o?DL(_,o):0;null!==w&&(p[w]?p[w].projectionNext=_:f[w]=_,p[w]=_),_=_.next}}}function sx(o,c=0,u){const f=St(),p=si(),_=pv(p,Ei+o,16,null,u||null);null===_.projection&&(_.projection=c),Mm(),(!f[Ol]||jl())&&32!=(32&_.flags)&&function YO(o,c,u){BT(c[Nn],0,c,u,c1(o,u,c),EI(u.parent||c[lo],u,c))}(p,f,_)}function tb(o,c){return o<<17|c<<2}function Mh(o){return o>>17&32767}function XD(o){return 2|o}function lp(o){return(131068&o)>>2}function JD(o,c){return-131069&o|c<<2}function ux(o){return 1|o}function mk(o,c,u,f,p){const _=o[u+1],w=null===c;let S=f?Mh(_):lp(_),k=!1;for(;0!==S&&(!1===k||w);){const q=o[S+1];gk(o[S],c)&&(k=!0,o[S+1]=f?ux(q):XD(q)),S=f?Mh(q):lp(q)}k&&(o[u+1]=f?XD(_):ux(_))}function gk(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&Uf(o,c)>=0}const ho={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _k(o){return o.substring(ho.key,ho.keyEnd)}function yk(o,c){const u=ho.textEnd;return u===c?-1:(c=ho.keyEnd=function OL(o,c,u){for(;c<u&&o.charCodeAt(c)>32;)c++;return c}(o,ho.key=c,u),wd(o,c,u))}function wd(o,c,u){for(;c<u&&o.charCodeAt(c)<=32;)c++;return c}function an(o,c,u){return tc(o,c,u,!1),an}function ib(o,c){return tc(o,c,null,!0),ib}function Cd(o,c){for(let u=function NL(o){return function bk(o){ho.key=0,ho.keyEnd=0,ho.value=0,ho.valueEnd=0,ho.textEnd=o.length}(o),yk(o,wd(o,0,ho.textEnd))}(c);u>=0;u=yk(c,u))Ea(o,_k(c),!0)}function tc(o,c,u,f){const p=St(),_=si(),w=Ga(2);_.firstUpdatePass&&Ck(_,o,w,f),c!==fi&&Vo(p,w,c)&&Iv(_,_.data[Ti()],p,p[Nn],o,p[w+1]=function sS(o,c){return null==o||""===o||("string"==typeof c?o+=c:"object"==typeof o&&(o=Be(Ch(o)))),o}(c,u),f,w)}function xk(o,c){return c>=o.expandoStartIndex}function Ck(o,c,u,f){const p=o.data;if(null===p[u+1]){const _=p[Ti()],w=xk(o,u);Ek(_,f)&&null===c&&!w&&(c=!1),c=function Sa(o,c,u,f){const p=sh(o);let _=f?c.residualClasses:c.residualStyles;if(null===p)0===(f?c.classBindings:c.styleBindings)&&(u=Ev(u=nS(null,o,c,u,f),c.attrs,f),_=null);else{const w=c.directiveStylingLast;if(-1===w||o[w]!==p)if(u=nS(p,o,c,u,f),null===_){let k=function fx(o,c,u){const f=u?c.classBindings:c.styleBindings;if(0!==lp(f))return o[Mh(f)]}(o,c,f);void 0!==k&&Array.isArray(k)&&(k=nS(null,o,c,k[1],f),k=Ev(k,c.attrs,f),function Uo(o,c,u,f){o[Mh(u?c.classBindings:c.styleBindings)]=f}(o,c,f,k))}else _=function cp(o,c,u){let f;const p=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<p;_++)f=Ev(f,o[_].hostAttrs,u);return Ev(f,c.attrs,u)}(o,c,f)}return void 0!==_&&(f?c.residualClasses=_:c.residualStyles=_),u}(p,_,c,f),function kL(o,c,u,f,p,_){let w=_?c.classBindings:c.styleBindings,S=Mh(w),k=lp(w);o[f]=u;let q,B=!1;if(Array.isArray(u)?(q=u[1],(null===q||Uf(u,q)>0)&&(B=!0)):q=u,p)if(0!==k){const Ce=Mh(o[S+1]);o[f+1]=tb(Ce,S),0!==Ce&&(o[Ce+1]=JD(o[Ce+1],f)),o[S+1]=function nb(o,c){return 131071&o|c<<17}(o[S+1],f)}else o[f+1]=tb(S,0),0!==S&&(o[S+1]=JD(o[S+1],f)),S=f;else o[f+1]=tb(k,0),0===S?S=f:o[k+1]=JD(o[k+1],f),k=f;B&&(o[f+1]=XD(o[f+1])),mk(o,q,f,!0),mk(o,q,f,!1),function RL(o,c,u,f,p){const _=p?o.residualClasses:o.residualStyles;null!=_&&"string"==typeof c&&Uf(_,c)>=0&&(u[f+1]=ux(u[f+1]))}(c,q,o,f,_),w=tb(S,k),_?c.classBindings=w:c.styleBindings=w}(p,_,c,u,w,f)}}function nS(o,c,u,f,p){let _=null;const w=u.directiveEnd;let S=u.directiveStylingLast;for(-1===S?S=u.directiveStart:S++;S<w&&(_=c[S],f=Ev(f,_.hostAttrs,p),_!==o);)S++;return null!==o&&(u.directiveStylingLast=S),f}function Ev(o,c,u){const f=u?1:2;let p=-1;if(null!==c)for(let _=0;_<c.length;_++){const w=c[_];"number"==typeof w?p=w:p===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ea(o,w,!!u||c[++_]))}return void 0===o?null:o}function Iv(o,c,u,f,p,_,w,S){if(!(3&c.type))return;const k=o.data,B=k[S+1],q=function AL(o){return 1==(1&o)}(B)?sb(k,c,u,p,lp(B),w):void 0;nc(q)||(nc(_)||function pk(o){return 2==(2&o)}(B)&&(_=sb(k,null,u,p,S,w)),function ZO(o,c,u,f,p){if(c)p?o.addClass(u,f):o.removeClass(u,f);else{let _=-1===f.indexOf("-")?void 0:_h.DashCase;null==p?o.removeStyle(u,f,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=_h.Important),o.setStyle(u,f,p,_))}}(f,w,lu(Ti(),u),p,_))}function sb(o,c,u,f,p,_){const w=null===c;let S;for(;p>0;){const k=o[p],B=Array.isArray(k),q=B?k[1]:k,se=null===q;let Ce=u[p+1];Ce===fi&&(Ce=se?dn:void 0);let Pe=se?V_(Ce,f):q===f?Ce:void 0;if(B&&!nc(Pe)&&(Pe=V_(k,f)),nc(Pe)&&(S=Pe,w))return S;const mt=o[p+1];p=w?Mh(mt):lp(mt)}if(null!==c){let k=_?c.residualClasses:c.residualStyles;null!=k&&(S=V_(k,f))}return S}function nc(o){return void 0!==o}function Ek(o,c){return 0!=(o.flags&(c?8:16))}function Ik(o,c=""){const u=St(),f=si(),p=o+Ei,_=f.firstCreatePass?pv(f,p,1,c,null):f.data[p],w=dg(f,u,_,c,o);u[p]=w,nd()&&Q_(f,u,w,_),Ro(_,!1)}let dg=(o,c,u,f,p)=>(Yn(!0),function bu(o,c){return o.createText(c)}(c[Nn],f));function px(o){return mx("",o,""),px}function mx(o,c,u){const f=St(),p=yd(f,o,c,u);return p!==fi&&Sh(f,Ti(),p),mx}function gx(o,c,u,f,p){const _=St(),w=lg(_,o,c,u,f,p);return w!==fi&&Sh(_,Ti(),w),gx}function Dv(o,c,u){!function Iu(o,c,u,f){const p=si(),_=Ga(2);p.firstUpdatePass&&Ck(p,null,_,f);const w=St();if(u!==fi&&Vo(w,_,u)){const S=p.data[Ti()];if(Ek(S,f)&&!xk(p,_)){let k=f?S.classesWithoutHost:S.stylesWithoutHost;null!==k&&(u=zt(k,u||"")),Q0(p,S,w,u,f)}else!function FL(o,c,u,f,p,_,w,S){p===fi&&(p=dn);let k=0,B=0,q=0<p.length?p[0]:null,se=0<_.length?_[0]:null;for(;null!==q||null!==se;){const Ce=k<p.length?p[k+1]:void 0,Pe=B<_.length?_[B+1]:void 0;let Ht,mt=null;q===se?(k+=2,B+=2,Ce!==Pe&&(mt=se,Ht=Pe)):null===se||null!==q&&q<se?(k+=2,mt=q):(B+=2,mt=se,Ht=Pe),null!==mt&&Iv(o,c,u,f,mt,Ht,w,S),q=k<p.length?p[k]:null,se=B<_.length?_[B]:null}}(p,S,w,w[Nn],w[_+1],w[_+1]=function iS(o,c,u){if(null==u||""===u)return dn;const f=[],p=Ch(u);if(Array.isArray(p))for(let _=0;_<p.length;_++)o(f,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&o(f,_,p[_]);else"string"==typeof p&&c(f,p);return f}(o,c,u),f,_)}}(Ea,Cd,yd(St(),o,c,u),!0)}function Xs(o,c,u){const f=St();return Vo(f,Ic(),c)&&Kl(si(),Pi(),f,o,c,f[Nn],u,!0),Xs}function fo(o,c,u){const f=St();if(Vo(f,Ic(),c)){const _=si(),w=Pi();Kl(_,w,f,o,c,mv(sh(_.data),w,f),u,!0)}return fo}const Ed=void 0;var jL=["en",[["a","p"],["AM","PM"],Ed],[["AM","PM"],Ed,Ed],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ed,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ed,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ed,"{1} 'at' {0}",Ed],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gS(o){const u=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Sv={};function Ax(o){const c=function _S(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Fk(c);if(u)return u;const f=c.split("-")[0];if(u=Fk(f),u)return u;if("en"===f)return jL;throw new $e(701,!1)}function Ok(o){return Ax(o)[Id.PluralCase]}function Fk(o){return o in Sv||(Sv[o]=$i.ng&&$i.ng.common&&$i.ng.common.locales&&$i.ng.common.locales[o]),Sv[o]}var Id=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Id||{});const kh="en-US";let yS=kh;function _g(o,c,u,f,p){if(o=Ot(o),Array.isArray(o))for(let _=0;_<o.length;_++)_g(o[_],c,u,f,p);else{const _=si(),w=St(),S=as();let k=Qm(o)?o:Ot(o.provide);const B=UI(o),q=1048575&S.providerIndexes,se=S.directiveStart,Ce=S.providerIndexes>>20;if(Qm(o)||!o.multi){const Pe=new id(B,p,ig),mt=zx(k,c,p?q:q+Ce,se);-1===mt?(ad(od(S,w),_,k),Ov(_,o,c.length),c.push(k),S.directiveStart++,S.directiveEnd++,p&&(S.providerIndexes+=1048576),u.push(Pe),w.push(Pe)):(u[mt]=Pe,w[mt]=Pe)}else{const Pe=zx(k,c,q+Ce,se),mt=zx(k,c,q,q+Ce),on=mt>=0&&u[mt];if(p&&!on||!p&&!(Pe>=0&&u[Pe])){ad(od(S,w),_,k);const Un=function Es(o,c,u,f,p){const _=new id(o,u,ig);return _.multi=[],_.index=c,_.componentProviders=0,Hx(_,p,f&&!u),_}(p?yb:vb,u.length,p,f,B);!p&&on&&(u[mt].providerFactory=Un),Ov(_,o,c.length,0),c.push(k),S.directiveStart++,S.directiveEnd++,p&&(S.providerIndexes+=1048576),u.push(Un),w.push(Un)}else Ov(_,o,Pe>-1?Pe:mt,Hx(u[p?mt:Pe],B,!p&&f));!p&&f&&on&&u[mt].componentProviders++}}}function Ov(o,c,u,f){const p=Qm(c),_=function gF(o){return!!o.useClass}(c);if(p||_){const k=(_?Ot(c.useClass):c).prototype.ngOnDestroy;if(k){const B=o.destroyHooks||(o.destroyHooks=[]);if(!p&&c.multi){const q=B.indexOf(u);-1===q?B.push(u,[f,k]):B[q+1].push(f,k)}else B.push(u,k)}}}function Hx(o,c,u){return u&&o.componentProviders++,o.multi.push(c)-1}function zx(o,c,u,f){for(let p=u;p<f;p++)if(c[p]===o)return p;return-1}function vb(o,c,u,f){return TS(this.multi,[])}function yb(o,c,u,f){const p=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,S=gu(u,u[Jt],this.providerFactory.index,f);_=S.slice(0,w),TS(p,_);for(let k=w;k<S.length;k++)_.push(S[k])}else _=[],TS(p,_);return _}function TS(o,c){for(let u=0;u<o.length;u++)c.push((0,o[u])());return c}function MS(o,c=[]){return u=>{u.providersResolver=(f,p)=>function jx(o,c,u){const f=si();if(f.firstCreatePass){const p=Mo(o);_g(u,f.data,f.blueprint,p,!0),_g(c,f.data,f.blueprint,p,!1)}}(f,p?p(o):o,c)}}class vg{}class oR{}function s3(o,c){return new qx(o,c??null,[])}class qx extends vg{constructor(c,u,f){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $0(this);const p=So(c);this._bootstrapComponents=vd(p.bootstrap),this._r3Injector=mM(c,u,[{provide:vg,useValue:this},{provide:R0,useValue:this.componentFactoryResolver},...f],Be(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Gx extends oR{constructor(c){super(),this.moduleType=c}create(c){return new qx(this.moduleType,c,[])}}class kS extends vg{constructor(c){super(),this.componentFactoryResolver=new $0(this),this.instance=null;const u=new sv([...c.providers,{provide:vg,useValue:this},{provide:R0,useValue:this.componentFactoryResolver}],c.parent||Cu(),c.debugName,new Set(["environment"]));this.injector=u,c.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Du(o,c,u=null){return new kS({providers:o,parent:c,debugName:u,runEnvironmentInitializers:!0}).injector}let aR=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const f=XT(0,u.type),p=f.length>0?Du([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,p)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ti({token:o,providedIn:"environment",factory:()=>new o(Bi(hl))})}return o})();function lR(o){o.getStandaloneInjector=c=>c.get(aR).getOrCreateStandaloneInjector(o)}function FS(o,c,u){const f=ls()+o,p=St();return p[f]===fi?Xl(p,f,u?c.call(u):c()):function ap(o,c){return o[c]}(p,f)}function LS(o,c,u,f,p,_){return Uc(St(),ls(),o,c,u,f,p,_)}function Lv(o,c){const u=o[c];return u===fi?void 0:u}function Uc(o,c,u,f,p,_,w,S){const k=c+u;return function $1(o,c,u,f,p){const _=ag(o,c,u,f);return Vo(o,c+2,p)||_}(o,k,p,_,w)?Xl(o,k+3,S?f.call(S,p,_,w):f(p,_,w)):Lv(o,k+3)}function yR(o,c){const u=si();let f;const p=o+Ei;u.firstCreatePass?(f=function BS(o,c){if(c)for(let u=c.length-1;u>=0;u--){const f=c[u];if(o===f.name)return f}}(c,u.pipeRegistry),u.data[p]=f,f.onDestroy&&(u.destroyHooks??=[]).push(p,f.onDestroy)):f=u.data[p];const _=f.factory||(f.factory=Bl(f.type)),S=Ji(ig);try{const k=Dr(!1),B=_();return Dr(k),function vL(o,c,u,f){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),c[u]=f}(u,St(),p,B),B}finally{Ji(S)}}function nC(o,c,u){const f=o+Ei,p=St(),_=al(p,f);return Ma(p,f)?function bg(o,c,u,f,p,_){const w=c+u;return Vo(o,w,p)?Xl(o,w+1,_?f.call(_,p):f(p)):Lv(o,w+1)}(p,ls(),c,_.transform,u,_):_.transform(u)}function wg(o,c,u,f){const p=o+Ei,_=St(),w=al(_,p);return Ma(_,p)?function vR(o,c,u,f,p,_,w){const S=c+u;return ag(o,S,p,_)?Xl(o,S+2,w?f.call(w,p,_):f(p,_)):Lv(o,S+2)}(_,ls(),c,w.transform,u,f,w):w.transform(u,f)}function iC(o,c,u,f,p){const _=o+Ei,w=St(),S=al(w,_);return Ma(w,_)?Uc(w,ls(),c,S.transform,u,f,p,S):S.transform(u,f,p)}function Ma(o,c){return o[Jt].data[c].pure}function la(){return this._results[Symbol.iterator]()}class xg{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Bc)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=xg.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=la)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const f=this;f.dirty=!1;const p=function Ca(o){return o.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function L_(o,c,u){if(o.length!==c.length)return!1;for(let f=0;f<o.length;f++){let p=o[f],_=c[f];if(u&&(p=u(p),_=u(_)),_!==p)return!1}return!0}(f._results,p,u))&&(f._results=p,f.length=p.length,f.last=p[this.length-1],f.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function oC(o,c,u,f=!0){const p=c[Jt];if(function f0(o,c,u,f){const p=vs+f,_=u.length;f>0&&(u[p-1][Qo]=c),f<_-vs?(c[Qo]=u[p],Ww(u,vs+f,c)):(u.push(c),c[Qo]=null),c[Qi]=u;const w=c[Wu];null!==w&&u!==w&&function wI(o,c){const u=o[Fl];c[os]!==c[Qi][Qi][os]&&(o[rl]=!0),null===u?o[Fl]=[c]:u.push(c)}(w,c);const S=c[To];null!==S&&S.insertView(o),c[ei]|=128}(p,c,o,u),f){const _=X_(u,o),w=c[Nn],S=u1(w,o[Xo]);null!==S&&function h0(o,c,u,f,p,_){f[Pr]=p,f[lo]=c,Nc(o,f,u,1,p,_)}(p,o[lo],w,c,S,_)}}let Sd=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=VS}return o})();const u3=Sd,d3=class extends u3{constructor(c,u,f){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,u){return this.createEmbeddedViewImpl(c,u)}createEmbeddedViewImpl(c,u,f){const p=function rC(o,c,u,f){const p=c.tView,S=U1(o,p,u,4096&o[ei]?4096:16,null,c,null,null,null,f?.injector??null,f?.hydrationInfo??null);S[Wu]=o[c.index];const B=o[To];return null!==B&&(S[To]=B.createEmbeddedView(p)),yr(p,S,u),S}(this._declarationLView,this._declarationTContainer,c,{injector:u,hydrationInfo:f});return new sg(p)}};function VS(){return aC(as(),St())}function aC(o,c){return 4&o.type?new d3(c,o,ng(o,c)):null}let Su=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=US}return o})();function US(){return lC(as(),St())}const p3=Su,jt=class extends p3{constructor(c,u,f){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=f}get element(){return ng(this._hostTNode,this._hostLView)}get injector(){return new xs(this._hostTNode,this._hostLView)}get parentInjector(){const c=ba(this._hostTNode,this._hostLView);if(ch(c)){const u=sd(c,this._hostLView),f=ql(c);return new xs(u[Jt].data[f+8],u)}return new xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=Is(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-vs}createEmbeddedView(c,u,f){let p,_;"number"==typeof f?p=f:null!=f&&(p=f.index,_=f.injector);const S=c.createEmbeddedViewImpl(u||{},_,null);return this.insertImpl(S,p,false),S}createComponent(c,u,f,p,_){const w=c&&!function ra(o){return"function"==typeof o}(c);let S;if(w)S=u;else{const Ht=u||{};S=Ht.index,f=Ht.injector,p=Ht.projectableNodes,_=Ht.environmentInjector||Ht.ngModuleRef}const k=w?c:new og(vi(c)),B=f||this.parentInjector;if(!_&&null==k.ngModule){const on=(w?B:this.parentInjector).get(hl,null);on&&(_=on)}vi(k.componentType??{});const Pe=k.create(B,p,null,_);return this.insertImpl(Pe.hostView,S,false),Pe}insert(c,u){return this.insertImpl(c,u,!1)}insertImpl(c,u,f){const p=c._lView;if(function cu(o){return $s(o[Qi])}(p)){const k=this.indexOf(c);if(-1!==k)this.detach(k);else{const B=p[Qi],q=new jt(B,B[lo],B[Qi]);q.detach(q.indexOf(c))}}const w=this._adjustIndex(u),S=this._lContainer;return oC(S,p,w,!f),c.attachToViewContainerRef(),Ww(ml(S),w,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=Is(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),f=a1(this._lContainer,u);f&&(fh(ml(this._lContainer),u),p0(f[Jt],f))}detach(c){const u=this._adjustIndex(c,-1),f=a1(this._lContainer,u);return f&&null!=fh(ml(this._lContainer),u)?new sg(f):null}_adjustIndex(c,u=0){return c??this.length+u}};function Is(o){return o[8]}function ml(o){return o[8]||(o[8]=[])}function lC(o,c){let u;const f=c[o.index];return $s(f)?u=f:(u=BM(f,c,null,o),c[o.index]=u,j1(c,u)),Pn(u,c,o,f),new jt(u,o,c)}let Pn=function IR(o,c,u,f){if(o[Xo])return;let p;p=8&u.type?ji(f):function wn(o,c){const u=o[Nn],f=u.createComment(""),p=ko(c,o);return qm(u,u1(u,p),f,function WO(o,c){return o.nextSibling(c)}(u,p),!1),f}(c,u),o[Xo]=p};class At{constructor(c){this.queryList=c,this.matches=null}clone(){return new At(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ls{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const f=null!==c.contentQueries?c.contentQueries[0]:u.length,p=[];for(let _=0;_<f;_++){const w=u.getByIndex(_);p.push(this.queries[w.indexInDeclarationView].clone())}return new Ls(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==zi(c,u).matches&&this.queries[u].setDirty()}}class jS{constructor(c,u,f=null){this.predicate=c,this.flags=u,this.read=f}}class HS{constructor(c=[]){this.queries=c}elementStart(c,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let f=0;f<this.length;f++){const p=null!==u?u.length:0,_=this.getByIndex(f).embeddedTView(c,p);_&&(_.indexInDeclarationView=f,null!==u?u.push(_):u=[_])}return null!==u?new HS(u):null}template(c,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class zS{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new zS(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=c.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let p=0;p<f.length;p++){const _=f[p];this.matchTNodeWithReadOption(c,u,m3(u,_)),this.matchTNodeWithReadOption(c,u,Lf(u,c,_,!1,!1))}else f===Sd?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Lf(u,c,f,!1,!1))}matchTNodeWithReadOption(c,u,f){if(null!==f){const p=this.metadata.read;if(null!==p)if(p===N0||p===Su||p===Sd&&4&u.type)this.addMatch(u.index,-2);else{const _=Lf(u,c,p,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,f)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function m3(o,c){const u=o.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===c)return u[f+1];return null}function _3(o,c,u,f){return-1===u?function g3(o,c){return 11&o.type?ng(o,c):4&o.type?aC(o,c):null}(c,o):-2===u?function DR(o,c,u){return u===N0?ng(c,o):u===Sd?aC(c,o):u===Su?lC(c,o):void 0}(o,c,f):gu(o,o[Jt],u,c)}function SR(o,c,u,f){const p=c[To].queries[f];if(null===p.matches){const _=o.data,w=u.matches,S=[];for(let k=0;k<w.length;k+=2){const B=w[k];S.push(B<0?null:_3(c,_[B],w[k+1],u.metadata.read))}p.matches=S}return p.matches}function AR(o,c,u,f){const p=o.queries.getByIndex(u),_=p.matches;if(null!==_){const w=SR(o,c,p,u);for(let S=0;S<_.length;S+=2){const k=_[S];if(k>0)f.push(w[S/2]);else{const B=_[S+1],q=c[-k];for(let se=vs;se<q.length;se++){const Ce=q[se];Ce[Wu]===Ce[Qi]&&AR(Ce[Jt],Ce,B,f)}if(null!==q[Fl]){const se=q[Fl];for(let Ce=0;Ce<se.length;Ce++){const Pe=se[Ce];AR(Pe[Jt],Pe,B,f)}}}}}return f}function TR(o){const c=St(),u=si(),f=n0();Mf(f+1);const p=zi(u,f);if(o.dirty&&function ed(o){return 4==(4&o[ei])}(c)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const _=p.crossesNgTemplate?AR(u,c,f,[]):SR(u,c,p,f);o.reset(_,M1),o.notifyOnChanges()}return!0}return!1}function qS(o,c,u){const f=si();f.firstCreatePass&&(Ln(f,new jS(o,c,u),-1),2==(2&c)&&(f.staticViewQueries=!0)),$r(f,St(),c)}function oi(o,c,u,f){const p=si();if(p.firstCreatePass){const _=as();Ln(p,new jS(c,u,f),_.index),function bb(o,c){const u=o.contentQueries||(o.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,c)}(p,o),2==(2&u)&&(p.staticContentQueries=!0)}$r(p,St(),u)}function Dg(){return function MR(o,c){return o[To].queries[c].queryList}(St(),n0())}function $r(o,c,u){const f=new xg(4==(4&u));(function VF(o,c,u,f){const p=Lo(c);p.push(u),o.firstCreatePass&&fl(o).push(f,p.length-1)})(o,c,f,f.destroy),null===c[To]&&(c[To]=new Ls),c[To].queries.push(new At(f))}function Ln(o,c,u){null===o.queries&&(o.queries=new HS),o.queries.track(new zS(c,u))}function zi(o,c){return o.queries.getByIndex(c)}function kR(o,c){return aC(o,c)}function $S(o){return!!So(o)}const JS=new Dn("Application Initializer");let br=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f}),this.appInits=Jn(JS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const p of this.appInits){const _=p();if(uk(_))u.push(_);else if(xL(_)){const w=new Promise((S,k)=>{_.subscribe({complete:S,error:k})});u.push(w)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{f()}).catch(p=>{this.reject(p)}),0===u.length&&f(),this.initialized=!0}static#e=this.\u0275fac=function(f){return new(f||o)};static#t=this.\u0275prov=ti({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Eb=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}static#e=this.\u0275fac=function(f){return new(f||o)};static#t=this.\u0275prov=ti({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const wr=new Dn("LocaleId",{providedIn:"root",factory:()=>Jn(wr,Fn.Optional|Fn.SkipSelf)||function da(){return typeof $localize<"u"&&$localize.locale||kh}()}),$R=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let YR=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(f){return new(f||o)};static#t=this.\u0275prov=ti({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class po{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let k3=(()=>{class o{compileModuleSync(u){return new Gx(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),_=vd(So(u).declarations).reduce((w,S)=>{const k=vi(S);return k&&w.push(new og(k)),w},[]);return new po(f,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}static#e=this.\u0275fac=function(f){return new(f||o)};static#t=this.\u0275prov=ti({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const iA=new Dn(""),Lr=new Dn("");let vp,_p=(()=>{class o{constructor(u,f,p){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vp||(function eN(o){vp=o}(p),p.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,p){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:p})}whenStable(u,f,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,p){return[]}static#e=this.\u0275fac=function(f){return new(f||o)(Bi(Fo),Bi(rA),Bi(Lr))};static#t=this.\u0275prov=ti({token:o,factory:o.\u0275fac})}return o})(),rA=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return vp?.findTestabilityInTree(this,u,f)??null}static#e=this.\u0275fac=function(f){return new(f||o)};static#t=this.\u0275prov=ti({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),yp=null;const sA=new Dn("AllowMultipleToken"),Oi=new Dn("PlatformDestroyListeners"),er=new Dn("appBootstrapListener");class oA{constructor(c,u){this.name=c,this.token=u}}function sN(o,c,u=[]){const f=`Platform: ${c}`,p=new Dn(f);return(_=[])=>{let w=gC();if(!w||w.injector.get(sA,!1)){const S=[...u,..._,{provide:p,useValue:!0}];o?o(S):function iN(o){if(yp&&!yp.get(sA,!1))throw new $e(400,!1);(function mC(){!function xf(o){pm=o}(()=>{throw new $e(600,!1)})})(),yp=o;const c=o.get(oN);(function aA(o){o.get(zI,null)?.forEach(u=>u())})(o)}(function lA(o=[],c){return Lc.create({name:c,providers:[{provide:FI,useValue:"platform"},{provide:Oi,useValue:new Set([()=>yp=null])},...o]})}(S,f))}return function O3(o){const c=gC();if(!c)throw new $e(401,!1);return c}()}}function gC(){return yp?.get(oN)??null}let oN=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const p=function F3(o="zone.js",c){return"noop"===o?new DF:"zone.js"===o?new Fo(c):o}(f?.ngZone,function aN(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return p.run(()=>{const _=function $x(o,c,u){return new qx(o,c,u)}(u.moduleType,this.injector,function Ng(o){return[{provide:Fo,useFactory:o},{provide:rv,multi:!0,useFactory:()=>{const c=Jn(Fh,{optional:!0});return()=>c.initialize()}},{provide:cA,useFactory:lN},{provide:F1,useFactory:bM}]}(()=>p)),w=_.injector.get(_d,null);return p.runOutsideAngular(()=>{const S=p.onError.subscribe({next:k=>{w.handleError(k)}});_.onDestroy(()=>{Rg(this._modules,_),S.unsubscribe()})}),function _C(o,c,u){try{const f=u();return uk(f)?f.catch(p=>{throw c.runOutsideAngular(()=>o.handleError(p)),p}):f}catch(f){throw c.runOutsideAngular(()=>o.handleError(f)),f}}(w,p,()=>{const S=_.injector.get(br);return S.runInitializers(),S.donePromise.then(()=>(function bS(o){fn(o,"Expected localeId to be defined"),"string"==typeof o&&(yS=o.toLowerCase().replace(/_/g,"-"))}(_.injector.get(wr,kh)||kh),this._moduleDoBootstrap(_),_))})})}bootstrapModule(u,f=[]){const p=bp({},f);return function zv(o,c,u){const f=new Gx(u);return Promise.resolve(f)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(u){const f=u.injector.get(Td);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>f.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new $e(-403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(Oi,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(f){return new(f||o)(Bi(Lc))};static#t=this.\u0275prov=ti({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function bp(o,c){return Array.isArray(c)?c.reduce(bp,o):{...o,...c}}let Td=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jn(cA),this.zoneIsStable=Jn(F1),this.componentTypes=[],this.components=[],this.isStable=Jn(YR).hasPendingTasks.pipe((0,Ft.w)(u=>u?(0,je.of)(!1):this.zoneIsStable),(0,at.x)(),(0,pt.B)()),this._injector=Jn(hl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const p=u instanceof aM;if(!this._injector.get(br).done)throw!p&&wc(u),new $e(405,!1);let w;w=p?u:this._injector.get(R0).resolveComponentFactory(u),this.componentTypes.push(w.componentType);const S=function nN(o){return o.isBoundToModule}(w)?void 0:this._injector.get(vg),B=w.create(Lc.NULL,[],f||w.selector,S),q=B.location.nativeElement,se=B.injector.get(iA,null);return se?.registerApplication(q),B.onDestroy(()=>{this.detachView(B.hostView),Rg(this.components,B),se?.unregisterApplication(q)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new $e(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;Rg(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const f=this._injector.get(er,[]);f.push(...this._bootstrapListeners),f.forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Rg(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new $e(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(f){return new(f||o)};static#t=this.\u0275prov=ti({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Rg(o,c){const u=o.indexOf(c);u>-1&&o.splice(u,1)}const cA=new Dn("",{providedIn:"root",factory:()=>Jn(_d).handleError.bind(void 0)});function lN(){const o=Jn(Fo),c=Jn(_d);return u=>o.runOutsideAngular(()=>c.handleError(u))}let Fh=(()=>{class o{constructor(){this.zone=Jn(Fo),this.applicationRef=Jn(Td)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(f){return new(f||o)};static#t=this.\u0275prov=ti({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function uA(){return!1}let hA=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=vC}return o})();function vC(o){return function kb(o,c,u){if(Ws(o)&&!u){const f=Jo(o.index,c);return new sg(f,f)}return 47&o.type?new sg(c[os],c):null}(as(),St(),16==(16&o))}class _A{constructor(){}supports(c){return q1(c)}create(c){return new wC(c)}}const fN=(o,c)=>c;class wC{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||fN}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,f=this._removalsHead,p=0,_=null;for(;u||f;){const w=!f||u&&u.currentIndex<Pg(f,p,_)?u:f,S=Pg(w,p,_),k=w.currentIndex;if(w===f)p--,f=f._nextRemoved;else if(u=u._next,null==w.previousIndex)p++;else{_||(_=[]);const B=S-p,q=k-p;if(B!=q){for(let Ce=0;Ce<B;Ce++){const Pe=Ce<_.length?_[Ce]:_[Ce]=0,mt=Pe+Ce;q<=mt&&mt<B&&(_[Ce]=Pe+1)}_[w.previousIndex]=q-B}}S!==k&&c(w,S,k)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!q1(c))throw new $e(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,_,w,u=this._itHead,f=!1;if(Array.isArray(c)){this.length=c.length;for(let S=0;S<this.length;S++)_=c[S],w=this._trackByFn(S,_),null!==u&&Object.is(u.trackById,w)?(f&&(u=this._verifyReinsertion(u,_,w,S)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,w,S),f=!0),u=u._next}else p=0,function G1(o,c){if(Array.isArray(o))for(let u=0;u<o.length;u++)c(o[u]);else{const u=o[Symbol.iterator]();let f;for(;!(f=u.next()).done;)c(f.value)}}(c,S=>{w=this._trackByFn(p,S),null!==u&&Object.is(u.trackById,w)?(f&&(u=this._verifyReinsertion(u,S,w,p)),Object.is(u.item,S)||this._addIdentityChange(u,S)):(u=this._mismatch(u,S,w,p),f=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,f,p){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,_,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(f,p))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,_,p)):c=this._addAfter(new q3(u,f),_,p),c}_verifyReinsertion(c,u,f,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?c=this._reinsertAfter(_,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,_=c._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(c,u,f),this._addToMoves(c,f),c}_moveAfter(c,u,f){return this._unlink(c),this._insertAfter(c,u,f),this._addToMoves(c,f),c}_addAfter(c,u,f){return this._insertAfter(c,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,f){const p=null===u?this._itHead:u._next;return c._next=p,c._prev=u,null===p?this._itTail=c:p._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new vA),this._linkedRecords.put(c),c.currentIndex=f,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,f=c._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vA),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class q3{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class G3{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,c))return f;return null}remove(c){const u=c._prevDup,f=c._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class vA{constructor(){this.map=new Map}put(c){const u=c.trackById;let f=this.map.get(u);f||(f=new G3,this.map.set(u,f)),f.add(c)}get(c,u){const p=this.map.get(c);return p?p.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pg(o,c,u){const f=o.previousIndex;if(null===f)return f;let p=0;return u&&f<u.length&&(p=u[f]),f+c+p}class wp{constructor(){}supports(c){return c instanceof Map||W0(c)}create(){return new pN}}class pN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||W0(c)))throw new $e(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(f,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(p,f);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const f=c._prev;return u._next=c,u._prev=f,c._prev=u,f&&(f._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,u);const _=p._prev,w=p._next;return _&&(_._next=w),w&&(w._prev=_),p._next=null,p._prev=null,p}const f=new Og(c);return this._records.set(c,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(f=>u(c[f],f))}}class Og{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yA(){return new xp([new _A])}let xp=(()=>{class o{static#e=this.\u0275prov=ti({token:o,providedIn:"root",factory:yA});constructor(u){this.factories=u}static create(u,f){if(null!=f){const p=f.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||yA()),deps:[[o,new Hf,new H_]]}}find(u){const f=this.factories.find(p=>p.supports(u));if(null!=f)return f;throw new $e(901,!1)}}return o})();function bA(){return new Fg([new wp])}let Fg=(()=>{class o{static#e=this.\u0275prov=ti({token:o,providedIn:"root",factory:bA});constructor(u){this.factories=u}static create(u,f){if(f){const p=f.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||bA()),deps:[[o,new Hf,new H_]]}}find(u){const f=this.factories.find(p=>p.supports(u));if(f)return f;throw new $e(901,!1)}}return o})();const xC=sN(null,"core",[]);let mN=(()=>{class o{constructor(u){}static#e=this.\u0275fac=function(f){return new(f||o)(Bi(Td))};static#t=this.\u0275mod=pf({type:o});static#n=this.\u0275inj=mr({})}return o})();function wN(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function s4(o){const c=vi(o);if(!c)return null;const u=new og(c);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},3106:(An,xt,Q)=>{Q.d(xt,{Z:()=>rn});var l=Q(9058),Fe=Q(4537),ee=Q(534),He=Q(7879);class We{constructor(Qt,Ut){this._delegate=Qt,this.firebase=Ut,(0,ee._addComponent)(Qt,new Fe.wA("app-compat",()=>this,"PUBLIC")),this.container=Qt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qt){this._delegate.automaticDataCollectionEnabled=Qt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qt=>{this._delegate.checkDestroyed(),Qt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(Qt,Ut=ee._DEFAULT_ENTRY_NAME){var Bn;this._delegate.checkDestroyed();const Mn=this._delegate.container.getProvider(Qt);return!Mn.isInitialized()&&"EXPLICIT"===(null===(Bn=Mn.getComponent())||void 0===Bn?void 0:Bn.instantiationMode)&&Mn.initialize(),Mn.getImmediate({identifier:Ut})}_removeServiceInstance(Qt,Ut=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qt).clearInstance(Ut)}_addComponent(Qt){(0,ee._addComponent)(this._delegate,Qt)}_addOrOverwriteComponent(Qt){(0,ee._addOrOverwriteComponent)(this._delegate,Qt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pt=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ue=function at(){const Ot=function Ft(Ot){const Qt={},Ut={__esModule:!0,initializeApp:function $e(Vt,tn={}){const nt=ee.initializeApp(Vt,tn);if((0,l.r3)(Qt,nt.name))return Qt[nt.name];const Hn=new Ot(nt,Ut);return Qt[nt.name]=Hn,Hn},app:Mn,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function qe(Vt){const tn=Vt.name,nt=tn.replace("-compat","");if(ee._registerComponent(Vt)&&"PUBLIC"===Vt.type){const Hn=(pi=Mn())=>{if("function"!=typeof pi[nt])throw pt.create("invalid-app-argument",{appName:tn});return pi[nt]()};void 0!==Vt.serviceProps&&(0,l.ZB)(Hn,Vt.serviceProps),Ut[nt]=Hn,Ot.prototype[nt]=function(...pi){return this._getService.bind(this,tn).apply(this,Vt.multipleInstances?pi:[])}}return"PUBLIC"===Vt.type?Ut[nt]:null},removeApp:function Bn(Vt){delete Qt[Vt]},useAsService:function It(Vt,tn){return"serverAuth"===tn?null:tn},modularAPIs:ee}};function Mn(Vt){if(!(0,l.r3)(Qt,Vt=Vt||ee._DEFAULT_ENTRY_NAME))throw pt.create("no-app",{appName:Vt});return Qt[Vt]}return Ut.default=Ut,Object.defineProperty(Ut,"apps",{get:function _t(){return Object.keys(Qt).map(Vt=>Qt[Vt])}}),Mn.App=Ot,Ut}(We);return Ot.INTERNAL=Object.assign(Object.assign({},Ot.INTERNAL),{createFirebaseNamespace:at,extendNamespace:function Qt(Ut){(0,l.ZB)(Ot,Ut)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ot}(),_e=new He.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){_e.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ot=self.firebase.SDK_VERSION;Ot&&Ot.indexOf("LITE")>=0&&_e.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rn=ue;!function Mt(Ot){(0,ee.registerVersion)("@firebase/app-compat","0.2.13",Ot)}()},534:(An,xt,Q)=>{Q.r(xt),Q.d(xt,{FirebaseError:()=>He.ZR,SDK_VERSION:()=>tl,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>Ir,_addOrOverwriteComponent:()=>Co,_apps:()=>Kn,_clearComponents:()=>Dn,_components:()=>Ji,_getProvider:()=>Ts,_registerComponent:()=>$i,_removeServiceInstance:()=>zu,deleteApp:()=>ja,getApp:()=>oo,getApps:()=>bc,initializeApp:()=>qu,onLog:()=>kl,registerVersion:()=>gs,setLogLevel:()=>Nr});var l=Q(5861),Fe=Q(4537),ee=Q(7879),He=Q(9058);const We=(ut,Ue)=>Ue.some(Lt=>ut instanceof Lt);let je,pt;const ue=new WeakMap,_e=new WeakMap,Be=new WeakMap,zt=new WeakMap,Mt=new WeakMap;let Qt={get(ut,Ue,Lt){if(ut instanceof IDBTransaction){if("done"===Ue)return _e.get(ut);if("objectStoreNames"===Ue)return ut.objectStoreNames||Be.get(ut);if("store"===Ue)return Lt.objectStoreNames[1]?void 0:Lt.objectStore(Lt.objectStoreNames[0])}return $e(ut[Ue])},set:(ut,Ue,Lt)=>(ut[Ue]=Lt,!0),has:(ut,Ue)=>ut instanceof IDBTransaction&&("done"===Ue||"store"===Ue)||Ue in ut};function Mn(ut){return"function"==typeof ut?function Bn(ut){return ut!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function at(){return pt||(pt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ut)?function(...Ue){return ut.apply(_t(this),Ue),$e(ue.get(this))}:function(...Ue){return $e(ut.apply(_t(this),Ue))}:function(Ue,...Lt){const bn=ut.call(_t(this),Ue,...Lt);return Be.set(bn,Ue.sort?Ue.sort():[Ue]),$e(bn)}}(ut):(ut instanceof IDBTransaction&&function Ot(ut){if(_e.has(ut))return;const Ue=new Promise((Lt,bn)=>{const Rn=()=>{ut.removeEventListener("complete",dn),ut.removeEventListener("error",Ni),ut.removeEventListener("abort",Ni)},dn=()=>{Lt(),Rn()},Ni=()=>{bn(ut.error||new DOMException("AbortError","AbortError")),Rn()};ut.addEventListener("complete",dn),ut.addEventListener("error",Ni),ut.addEventListener("abort",Ni)});_e.set(ut,Ue)}(ut),We(ut,function Ft(){return je||(je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ut,Qt):ut)}function $e(ut){if(ut instanceof IDBRequest)return function rn(ut){const Ue=new Promise((Lt,bn)=>{const Rn=()=>{ut.removeEventListener("success",dn),ut.removeEventListener("error",Ni)},dn=()=>{Lt($e(ut.result)),Rn()},Ni=()=>{bn(ut.error),Rn()};ut.addEventListener("success",dn),ut.addEventListener("error",Ni)});return Ue.then(Lt=>{Lt instanceof IDBCursor&&ue.set(Lt,ut)}).catch(()=>{}),Mt.set(Ue,ut),Ue}(ut);if(zt.has(ut))return zt.get(ut);const Ue=Mn(ut);return Ue!==ut&&(zt.set(ut,Ue),Mt.set(Ue,ut)),Ue}const _t=ut=>Mt.get(ut),Vt=["get","getKey","getAll","getAllKeys","count"],tn=["put","add","delete","clear"],nt=new Map;function Hn(ut,Ue){if(!(ut instanceof IDBDatabase)||Ue in ut||"string"!=typeof Ue)return;if(nt.get(Ue))return nt.get(Ue);const Lt=Ue.replace(/FromIndex$/,""),bn=Ue!==Lt,Rn=tn.includes(Lt);if(!(Lt in(bn?IDBIndex:IDBObjectStore).prototype)||!Rn&&!Vt.includes(Lt))return;const dn=function(){var Ni=(0,l.Z)(function*(Jr,...Hr){const nl=this.transaction(Jr,Rn?"readwrite":"readonly");let Do=nl.store;return bn&&(Do=Do.index(Hr.shift())),(yield Promise.all([Do[Lt](...Hr),Rn&&nl.done]))[0]});return function(Hr){return Ni.apply(this,arguments)}}();return nt.set(Ue,dn),dn}!function Ut(ut){Qt=ut(Qt)}(ut=>({...ut,get:(Ue,Lt,bn)=>Hn(Ue,Lt)||ut.get(Ue,Lt,bn),has:(Ue,Lt)=>!!Hn(Ue,Lt)||ut.has(Ue,Lt)}));class pi{constructor(Ue){this.container=Ue}getPlatformInfoString(){return this.container.getProviders().map(Lt=>{if(function As(ut){const Ue=ut.getComponent();return"VERSION"===Ue?.type}(Lt)){const bn=Lt.getImmediate();return`${bn.library}/${bn.version}`}return null}).filter(Lt=>Lt).join(" ")}}const xo="@firebase/app",Qr=new ee.Yd("@firebase/app"),Fn="[DEFAULT]",mi={[xo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kn=new Map,Ji=new Map;function Ir(ut,Ue){try{ut.container.addComponent(Ue)}catch(Lt){Qr.debug(`Component ${Ue.name} failed to register with FirebaseApp ${ut.name}`,Lt)}}function Co(ut,Ue){ut.container.addOrOverwriteComponent(Ue)}function $i(ut){const Ue=ut.name;if(Ji.has(Ue))return Qr.debug(`There were multiple attempts to register component ${Ue}.`),!1;Ji.set(Ue,ut);for(const Lt of Kn.values())Ir(Lt,ut);return!0}function Ts(ut,Ue){const Lt=ut.container.getProvider("heartbeat").getImmediate({optional:!0});return Lt&&Lt.triggerHeartbeat(),ut.container.getProvider(Ue)}function zu(ut,Ue,Lt=Fn){Ts(ut,Ue).clearInstance(Lt)}function Dn(){Ji.clear()}const ci=new He.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ml{constructor(Ue,Lt,bn){this._isDeleted=!1,this._options=Object.assign({},Ue),this._config=Object.assign({},Lt),this._name=Lt.name,this._automaticDataCollectionEnabled=Lt.automaticDataCollectionEnabled,this._container=bn,this.container.addComponent(new Fe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ue){this._isDeleted=Ue}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}const tl="9.23.0";function qu(ut,Ue={}){let Lt=ut;"object"!=typeof Ue&&(Ue={name:Ue});const bn=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},Ue),Rn=bn.name;if("string"!=typeof Rn||!Rn)throw ci.create("bad-app-name",{appName:String(Rn)});if(Lt||(Lt=(0,He.aH)()),!Lt)throw ci.create("no-options");const dn=Kn.get(Rn);if(dn){if((0,He.vZ)(Lt,dn.options)&&(0,He.vZ)(bn,dn.config))return dn;throw ci.create("duplicate-app",{appName:Rn})}const Ni=new Fe.H0(Rn);for(const Hr of Ji.values())Ni.addComponent(Hr);const Jr=new Ml(Lt,bn,Ni);return Kn.set(Rn,Jr),Jr}function oo(ut=Fn){const Ue=Kn.get(ut);if(!Ue&&ut===Fn&&(0,He.aH)())return qu();if(!Ue)throw ci.create("no-app",{appName:ut});return Ue}function bc(){return Array.from(Kn.values())}function ja(ut){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(ut){const Ue=ut.name;Kn.has(Ue)&&(Kn.delete(Ue),yield Promise.all(ut.container.getProviders().map(Lt=>Lt.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function gs(ut,Ue,Lt){var bn;let Rn=null!==(bn=mi[ut])&&void 0!==bn?bn:ut;Lt&&(Rn+=`-${Lt}`);const dn=Rn.match(/\s|\//),Ni=Ue.match(/\s|\//);if(dn||Ni){const Jr=[`Unable to register library "${Rn}" with version "${Ue}":`];return dn&&Jr.push(`library name "${Rn}" contains illegal characters (whitespace or "/")`),dn&&Ni&&Jr.push("and"),Ni&&Jr.push(`version name "${Ue}" contains illegal characters (whitespace or "/")`),void Qr.warn(Jr.join(" "))}$i(new Fe.wA(`${Rn}-version`,()=>({library:Rn,version:Ue}),"VERSION"))}function kl(ut,Ue){if(null!==ut&&"function"!=typeof ut)throw ci.create("invalid-log-argument");(0,ee.Am)(ut,Ue)}function Nr(ut){(0,ee.Ub)(ut)}const Ha="firebase-heartbeat-database",ao=1,ge="firebase-heartbeat-store";let fe=null;function Te(){return fe||(fe=function qe(ut,Ue,{blocked:Lt,upgrade:bn,blocking:Rn,terminated:dn}={}){const Ni=indexedDB.open(ut,Ue),Jr=$e(Ni);return bn&&Ni.addEventListener("upgradeneeded",Hr=>{bn($e(Ni.result),Hr.oldVersion,Hr.newVersion,$e(Ni.transaction),Hr)}),Lt&&Ni.addEventListener("blocked",Hr=>Lt(Hr.oldVersion,Hr.newVersion,Hr)),Jr.then(Hr=>{dn&&Hr.addEventListener("close",()=>dn()),Rn&&Hr.addEventListener("versionchange",nl=>Rn(nl.oldVersion,nl.newVersion,nl))}).catch(()=>{}),Jr}(Ha,ao,{upgrade:(ut,Ue)=>{0===Ue&&ut.createObjectStore(ge)}}).catch(ut=>{throw ci.create("idb-open",{originalErrorMessage:ut.message})})),fe}function Ze(){return(Ze=(0,l.Z)(function*(ut){try{return yield(yield Te()).transaction(ge).objectStore(ge).get(Ai(ut))}catch(Ue){if(Ue instanceof He.ZR)Qr.warn(Ue.message);else{const Lt=ci.create("idb-get",{originalErrorMessage:Ue?.message});Qr.warn(Lt.message)}}})).apply(this,arguments)}function gn(ut,Ue){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(ut,Ue){try{const bn=(yield Te()).transaction(ge,"readwrite");yield bn.objectStore(ge).put(Ue,Ai(ut)),yield bn.done}catch(Lt){if(Lt instanceof He.ZR)Qr.warn(Lt.message);else{const bn=ci.create("idb-set",{originalErrorMessage:Lt?.message});Qr.warn(bn.message)}}})).apply(this,arguments)}function Ai(ut){return`${ut.name}!${ut.options.appId}`}class Jn{constructor(Ue){this.container=Ue,this._heartbeatsCache=null;const Lt=this.container.getProvider("app").getImmediate();this._storage=new Io(Lt),this._heartbeatsCachePromise=this._storage.read().then(bn=>(this._heartbeatsCache=bn,bn))}triggerHeartbeat(){var Ue=this;return(0,l.Z)(function*(){const bn=Ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rn=Ci();if(null===Ue._heartbeatsCache&&(Ue._heartbeatsCache=yield Ue._heartbeatsCachePromise),Ue._heartbeatsCache.lastSentHeartbeatDate!==Rn&&!Ue._heartbeatsCache.heartbeats.some(dn=>dn.date===Rn))return Ue._heartbeatsCache.heartbeats.push({date:Rn,agent:bn}),Ue._heartbeatsCache.heartbeats=Ue._heartbeatsCache.heartbeats.filter(dn=>{const Ni=new Date(dn.date).valueOf();return Date.now()-Ni<=2592e6}),Ue._storage.overwrite(Ue._heartbeatsCache)})()}getHeartbeatsHeader(){var Ue=this;return(0,l.Z)(function*(){if(null===Ue._heartbeatsCache&&(yield Ue._heartbeatsCachePromise),null===Ue._heartbeatsCache||0===Ue._heartbeatsCache.heartbeats.length)return"";const Lt=Ci(),{heartbeatsToSend:bn,unsentEntries:Rn}=function Ms(ut,Ue=1024){const Lt=[];let bn=ut.slice();for(const Rn of ut){const dn=Lt.find(Ni=>Ni.agent===Rn.agent);if(dn){if(dn.dates.push(Rn.date),Rl(Lt)>Ue){dn.dates.pop();break}}else if(Lt.push({agent:Rn.agent,dates:[Rn.date]}),Rl(Lt)>Ue){Lt.pop();break}bn=bn.slice(1)}return{heartbeatsToSend:Lt,unsentEntries:bn}}(Ue._heartbeatsCache.heartbeats),dn=(0,He.L)(JSON.stringify({version:2,heartbeats:bn}));return Ue._heartbeatsCache.lastSentHeartbeatDate=Lt,Rn.length>0?(Ue._heartbeatsCache.heartbeats=Rn,yield Ue._storage.overwrite(Ue._heartbeatsCache)):(Ue._heartbeatsCache.heartbeats=[],Ue._storage.overwrite(Ue._heartbeatsCache)),dn})()}}function Ci(){return(new Date).toISOString().substring(0,10)}class Io{constructor(Ue){this.app=Ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,He.hl)()&&(0,He.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ue=this;return(0,l.Z)(function*(){return(yield Ue._canUseIndexedDBPromise)&&(yield function Et(ut){return Ze.apply(this,arguments)}(Ue.app))||{heartbeats:[]}})()}overwrite(Ue){var Lt=this;return(0,l.Z)(function*(){var bn;if(yield Lt._canUseIndexedDBPromise){const dn=yield Lt.read();return gn(Lt.app,{lastSentHeartbeatDate:null!==(bn=Ue.lastSentHeartbeatDate)&&void 0!==bn?bn:dn.lastSentHeartbeatDate,heartbeats:Ue.heartbeats})}})()}add(Ue){var Lt=this;return(0,l.Z)(function*(){var bn;if(yield Lt._canUseIndexedDBPromise){const dn=yield Lt.read();return gn(Lt.app,{lastSentHeartbeatDate:null!==(bn=Ue.lastSentHeartbeatDate)&&void 0!==bn?bn:dn.lastSentHeartbeatDate,heartbeats:[...dn.heartbeats,...Ue.heartbeats]})}})()}}function Rl(ut){return(0,He.L)(JSON.stringify({version:2,heartbeats:ut})).length}!function qd(ut){$i(new Fe.wA("platform-logger",Ue=>new pi(Ue),"PRIVATE")),$i(new Fe.wA("heartbeat",Ue=>new Jn(Ue),"PRIVATE")),gs(xo,"0.9.13",ut),gs(xo,"0.9.13","esm2017"),gs("fire-js","")}("")},4537:(An,xt,Q)=>{Q.d(xt,{H0:()=>Ft,wA:()=>ee,zt:()=>We});var l=Q(5861),Fe=Q(9058);class ee{constructor(ue,_e,Be){this.name=ue,this.instanceFactory=_e,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const He="[DEFAULT]";class We{constructor(ue,_e){this.name=ue,this.container=_e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const _e=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(_e)){const Be=new Fe.BH;if(this.instancesDeferred.set(_e,Be),this.isInitialized(_e)||this.shouldAutoInitialize())try{const zt=this.getOrInitializeService({instanceIdentifier:_e});zt&&Be.resolve(zt)}catch{}}return this.instancesDeferred.get(_e).promise}getImmediate(ue){var _e;const Be=this.normalizeInstanceIdentifier(ue?.identifier),zt=null!==(_e=ue?.optional)&&void 0!==_e&&_e;if(!this.isInitialized(Be)&&!this.shouldAutoInitialize()){if(zt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(Mt){if(zt)return null;throw Mt}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function pt(at){return"EAGER"===at.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(const[_e,Be]of this.instancesDeferred.entries()){const zt=this.normalizeInstanceIdentifier(_e);try{const Mt=this.getOrInitializeService({instanceIdentifier:zt});Be.resolve(Mt)}catch{}}}}clearInstance(ue=He){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,l.Z)(function*(){const _e=Array.from(ue.instances.values());yield Promise.all([..._e.filter(Be=>"INTERNAL"in Be).map(Be=>Be.INTERNAL.delete()),..._e.filter(Be=>"_delete"in Be).map(Be=>Be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=He){return this.instances.has(ue)}getOptions(ue=He){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:_e={}}=ue,Be=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const zt=this.getOrInitializeService({instanceIdentifier:Be,options:_e});for(const[Mt,rn]of this.instancesDeferred.entries())Be===this.normalizeInstanceIdentifier(Mt)&&rn.resolve(zt);return zt}onInit(ue,_e){var Be;const zt=this.normalizeInstanceIdentifier(_e),Mt=null!==(Be=this.onInitCallbacks.get(zt))&&void 0!==Be?Be:new Set;Mt.add(ue),this.onInitCallbacks.set(zt,Mt);const rn=this.instances.get(zt);return rn&&ue(rn,zt),()=>{Mt.delete(ue)}}invokeOnInitCallbacks(ue,_e){const Be=this.onInitCallbacks.get(_e);if(Be)for(const zt of Be)try{zt(ue,_e)}catch{}}getOrInitializeService({instanceIdentifier:ue,options:_e={}}){let Be=this.instances.get(ue);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:(at=ue,at===He?void 0:at),options:_e}),this.instances.set(ue,Be),this.instancesOptions.set(ue,_e),this.invokeOnInitCallbacks(Be,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,Be)}catch{}var at;return Be||null}normalizeInstanceIdentifier(ue=He){return this.component?this.component.multipleInstances?ue:He:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ft{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const _e=this.getProvider(ue.name);if(_e.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);_e.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const _e=new We(ue,this);return this.providers.set(ue,_e),_e}getProviders(){return Array.from(this.providers.values())}}},7879:(An,xt,Q)=>{Q.d(xt,{Am:()=>at,Ub:()=>Ft,Yd:()=>pt,in:()=>Fe});const l=[];var Fe=function(ue){return ue[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",ue}(Fe||{});const ee={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},He=Fe.INFO,We={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},je=(ue,_e,...Be)=>{if(_e<ue.logLevel)return;const zt=(new Date).toISOString(),Mt=We[_e];if(!Mt)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[Mt](`[${zt}]  ${ue.name}:`,...Be)};class pt{constructor(_e){this.name=_e,this._logLevel=He,this._logHandler=je,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in Fe))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?ee[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,..._e),this._logHandler(this,Fe.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,..._e),this._logHandler(this,Fe.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,..._e),this._logHandler(this,Fe.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,..._e),this._logHandler(this,Fe.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,..._e),this._logHandler(this,Fe.ERROR,..._e)}}function Ft(ue){l.forEach(_e=>{_e.setLogLevel(ue)})}function at(ue,_e){for(const Be of l){let zt=null;_e&&_e.level&&(zt=ee[_e.level]),Be.userLogHandler=null===ue?null:(Mt,rn,...Ot)=>{const Qt=Ot.map(Ut=>{if(null==Ut)return null;if("string"==typeof Ut)return Ut;if("number"==typeof Ut||"boolean"==typeof Ut)return Ut.toString();if(Ut instanceof Error)return Ut.message;try{return JSON.stringify(Ut)}catch{return null}}).filter(Ut=>Ut).join(" ");rn>=(zt??Mt.logLevel)&&ue({level:Fe[rn].toLowerCase(),message:Qt,args:Ot,type:Mt.name})}}}},3182:(An,xt,Q)=>{Q.d(xt,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=Q(534);(0,l.registerVersion)("firebase","9.23.0","app")},7142:(An,xt,Q)=>{Q.d(xt,{Z:()=>l.Z});var l=Q(3106);l.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(An,xt,Q)=>{Q.r(xt);var l=Q(5861),Fe=Q(3106),ee=Q(9058),He=Q(534),We=Q(7582),je=Q(7879),pt=Q(4537);const at={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const rn=function zt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ot=function Mt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qt=new ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bn=new je.Yd("@firebase/auth");function $e(C,...g){Bn.logLevel<=je.in.ERROR&&Bn.error(`Auth (${He.SDK_VERSION}): ${C}`,...g)}function _t(C,...g){throw tn(C,...g)}function qe(C,...g){return tn(C,...g)}function It(C,g,v){const I=Object.assign(Object.assign({},Ot()),{[g]:v});return new ee.LL("auth","Firebase",I).create(g,{appName:C.name})}function Vt(C,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&_t(C,"argument-error"),It(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tn(C,...g){if("string"!=typeof C){const v=g[0],I=[...g.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(v,...I)}return Qt.create(C,...g)}function nt(C,g,...v){if(!C)throw tn(g,...v)}function Hn(C){const g="INTERNAL ASSERTION FAILED: "+C;throw $e(g),new Error(g)}function pi(C,g){C||Hn(g)}function As(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function xo(){return"http:"===Al()||"https:"===Al()}function Al(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Tl{constructor(g,v){this.shortDelay=g,this.longDelay=v,pi(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,ee.uI)()||(0,ee.b$)()}get(){return function Qr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xo()||(0,ee.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function it(C,g){pi(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class st{static initialize(g,v,I){this.fetchImpl=g,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bt=new Tl(3e4,6e4);function Ct(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Dt(C,g,v,I){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(C,g,v,I,L={}){return Xt(C,L,(0,l.Z)(function*(){let G={},me={};I&&("GET"===g?me=I:G={body:JSON.stringify(I)});const be=(0,ee.xO)(Object.assign({key:C.config.apiKey},me)).slice(1),Pt=yield C._getAdditionalHeaders();return Pt["Content-Type"]="application/json",C.languageCode&&(Pt["X-Firebase-Locale"]=C.languageCode),st.fetch()(ti(C,C.config.apiHost,v,be),Object.assign({method:g,headers:Pt,referrerPolicy:"no-referrer"},G))}))})).apply(this,arguments)}function Xt(C,g,v){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(C,g,v){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},yt),g);try{const L=new pr(C),G=yield Promise.race([v(),L.promise]);L.clearNetworkTimeout();const me=yield G.json();if("needConfirmation"in me)throw mr(C,"account-exists-with-different-credential",me);if(G.ok&&!("errorMessage"in me))return me;{const be=G.ok?me.errorMessage:me.error.message,[Pt,Gt]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pt)throw mr(C,"credential-already-in-use",me);if("EMAIL_EXISTS"===Pt)throw mr(C,"email-already-in-use",me);if("USER_DISABLED"===Pt)throw mr(C,"user-disabled",me);const hn=I[Pt]||Pt.toLowerCase().replace(/[_\s]+/g,"-");if(Gt)throw It(C,hn,Gt);_t(C,hn)}}catch(L){if(L instanceof ee.ZR)throw L;_t(C,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function On(C,g,v,I){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(C,g,v,I,L={}){const G=yield Dt(C,g,v,I,L);return"mfaPendingCredential"in G&&_t(C,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function ti(C,g,v,I){const L=`${g}${v}?${I}`;return C.config.emulator?it(C.config,L):`${C.config.apiScheme}://${L}`}class pr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(qe(this.auth,"network-request-failed")),bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mr(C,g,v){const I={appName:C.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const L=qe(C,g,I);return L.customData._tokenResponse=v,L}function Ki(){return(Ki=(0,l.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ko(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Fn(){return(Fn=(0,l.Z)(function*(C,g=!1){const v=(0,ee.m9)(C),I=yield v.getIdToken(g),L=Kn(I);nt(L&&L.exp&&L.auth_time&&L.iat,v.auth,"internal-error");const G="object"==typeof L.firebase?L.firebase:void 0,me=G?.sign_in_provider;return{claims:L,token:I,authTime:Ko(mi(L.auth_time)),issuedAtTime:Ko(mi(L.iat)),expirationTime:Ko(mi(L.exp)),signInProvider:me||null,signInSecondFactor:G?.sign_in_second_factor||null}})).apply(this,arguments)}function mi(C){return 1e3*Number(C)}function Kn(C){const[g,v,I]=C.split(".");if(void 0===g||void 0===v||void 0===I)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,ee.tV)(v);return L?JSON.parse(L):($e("Failed to decode base64 JWT payload"),null)}catch(L){return $e("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Ir(C,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(C,g,v=!1){if(v)return g;try{return yield g}catch(I){throw I instanceof ee.ZR&&function $i({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}class Ts{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const L=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield v.iteration()}),I)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class zu{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ko(this.lastLoginAt),this.creationTime=Ko(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dn(C){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,l.Z)(function*(C){var g;const v=C.auth,I=yield C.getIdToken(),L=yield Ir(C,function vc(C,g){return Zo.apply(this,arguments)}(v,{idToken:I}));nt(L?.users.length,v,"internal-error");const G=L.users[0];C._notifyReloadListener(G);const me=null!==(g=G.providerUserInfo)&&void 0!==g&&g.length?function qu(C){return C.map(g=>{var{providerId:v}=g,I=(0,We._T)(g,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(G.providerUserInfo):[],be=function tl(C,g){return[...C.filter(I=>!g.some(L=>L.providerId===I.providerId)),...g]}(C.providerData,me),hn=!!C.isAnonymous&&!(C.email&&G.passwordHash||be?.length),$t={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:be,metadata:new zu(G.createdAt,G.lastLoginAt),isAnonymous:hn};Object.assign(C,$t)}),Eo.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(C){const g=(0,ee.m9)(C);yield Dn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function bc(){return(bc=(0,l.Z)(function*(C,g){const v=yield Xt(C,{},(0,l.Z)(function*(){const I=(0,ee.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:L,apiKey:G}=C.config,me=ti(C,L,"/v1/token",`key=${G}`),be=yield C._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",st.fetch()(me,{method:"POST",headers:be,body:I})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){nt(g.idToken,"internal-error"),nt(typeof g.idToken<"u","internal-error"),nt(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ji(C){const g=Kn(C);return nt(g,"internal-error"),nt(typeof g.exp<"u","internal-error"),nt(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var I=this;return(0,l.Z)(function*(){return nt(!I.accessToken||I.refreshToken,g,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(g,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var I=this;return(0,l.Z)(function*(){const{accessToken:L,refreshToken:G,expiresIn:me}=yield function oo(C,g){return bc.apply(this,arguments)}(g,v);I.updateTokensAndExpiration(L,G,Number(me))})()}updateTokensAndExpiration(g,v,I){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(g,v){const{refreshToken:I,accessToken:L,expirationTime:G}=v,me=new ja;return I&&(nt("string"==typeof I,"internal-error",{appName:g}),me.refreshToken=I),L&&(nt("string"==typeof L,"internal-error",{appName:g}),me.accessToken=L),G&&(nt("number"==typeof G,"internal-error",{appName:g}),me.expirationTime=G),me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Hn("not implemented")}}function ms(C,g){nt("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class gs{constructor(g){var{uid:v,auth:I,stsTokenManager:L}=g,G=(0,We._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ts(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new zu(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,l.Z)(function*(){const I=yield Ir(v,v.stsTokenManager.getToken(v.auth,g));return nt(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(g){return function zd(C){return Fn.apply(this,arguments)}(this,g)}reload(){return function ci(C){return Ml.apply(this,arguments)}(this)}_assign(g){this!==g&&(nt(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new gs(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var I=this;return(0,l.Z)(function*(){let L=!1;g.idToken&&g.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(g),L=!0),v&&(yield Dn(I)),yield I.auth._persistUserIfCurrent(I),L&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var g=this;return(0,l.Z)(function*(){const v=yield g.getIdToken();return yield Ir(g,function ps(C,g){return Ki.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var I,L,G,me,be,Pt,Gt,hn;const $t=null!==(I=v.displayName)&&void 0!==I?I:void 0,Sr=null!==(L=v.email)&&void 0!==L?L:void 0,dl=null!==(G=v.phoneNumber)&&void 0!==G?G:void 0,vh=null!==(me=v.photoURL)&&void 0!==me?me:void 0,K_=null!==(be=v.tenantId)&&void 0!==be?be:void 0,Ya=null!==(Pt=v._redirectEventId)&&void 0!==Pt?Pt:void 0,bu=null!==(Gt=v.createdAt)&&void 0!==Gt?Gt:void 0,yh=null!==(hn=v.lastLoginAt)&&void 0!==hn?hn:void 0,{uid:Hm,emailVerified:bh,isAnonymous:Yf,providerData:h0,stsTokenManager:zm}=v;nt(Hm&&zm,g,"internal-error");const bI=ja.fromJSON(this.name,zm);nt("string"==typeof Hm,g,"internal-error"),ms($t,g.name),ms(Sr,g.name),nt("boolean"==typeof bh,g,"internal-error"),nt("boolean"==typeof Yf,g,"internal-error"),ms(dl,g.name),ms(vh,g.name),ms(K_,g.name),ms(Ya,g.name),ms(bu,g.name),ms(yh,g.name);const f0=new gs({uid:Hm,auth:g,email:Sr,emailVerified:bh,displayName:$t,isAnonymous:Yf,photoURL:vh,phoneNumber:dl,tenantId:K_,stsTokenManager:bI,createdAt:bu,lastLoginAt:yh});return h0&&Array.isArray(h0)&&(f0.providerData=h0.map(wI=>Object.assign({},wI))),Ya&&(f0._redirectEventId=Ya),f0}static _fromIdTokenResponse(g,v,I=!1){return(0,l.Z)(function*(){const L=new ja;L.updateFromServerResponse(v);const G=new gs({uid:v.localId,auth:g,stsTokenManager:L,isAnonymous:I});return yield Dn(G),G})()}}const kl=new Map;function Nr(C){pi(C instanceof Function,"Expected a class definition");let g=kl.get(C);return g?(pi(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,kl.set(C,g),g)}const ao=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(v,I){var L=this;return(0,l.Z)(function*(){L.storage[v]=I})()}_get(v){var I=this;return(0,l.Z)(function*(){const L=I.storage[v];return void 0===L?null:L})()}_remove(v){var I=this;return(0,l.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return C.type="NONE",C})();function ge(C,g,v){return`firebase:${C}:${g}:${v}`}class fe{constructor(g,v,I){this.persistence=g,this.auth=v,this.userKey=I;const{config:L,name:G}=this.auth;this.fullUserKey=ge(this.userKey,L.apiKey,G),this.fullPersistenceKey=ge("persistence",L.apiKey,G),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?gs._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,l.Z)(function*(){if(v.persistence===g)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,I="authUser"){return(0,l.Z)(function*(){if(!v.length)return new fe(Nr(ao),g,I);const L=(yield Promise.all(v.map(function(){var Gt=(0,l.Z)(function*(hn){if(yield hn._isAvailable())return hn});return function(hn){return Gt.apply(this,arguments)}}()))).filter(Gt=>Gt);let G=L[0]||Nr(ao);const me=ge(I,g.config.apiKey,g.name);let be=null;for(const Gt of v)try{const hn=yield Gt._get(me);if(hn){const $t=gs._fromJSON(g,hn);Gt!==G&&(be=$t),G=Gt;break}}catch{}const Pt=L.filter(Gt=>Gt._shouldAllowMigration);return G._shouldAllowMigration&&Pt.length?(G=Pt[0],be&&(yield G._set(me,be.toJSON())),yield Promise.all(v.map(function(){var Gt=(0,l.Z)(function*(hn){if(hn!==G)try{yield hn._remove(me)}catch{}});return function(hn){return Gt.apply(this,arguments)}}())),new fe(G,g,I)):new fe(G,g,I)})()}}function Te(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Vn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Et(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Bi(g))return"Blackberry";if(Xr(g))return"Webos";if(Ze(g))return"Safari";if((g.includes("chrome/")||gn(g))&&!g.includes("edge/"))return"Chrome";if(Ai(g))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Et(C=(0,ee.z$)()){return/firefox\//i.test(C)}function Ze(C=(0,ee.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function gn(C=(0,ee.z$)()){return/crios\//i.test(C)}function Vn(C=(0,ee.z$)()){return/iemobile/i.test(C)}function Ai(C=(0,ee.z$)()){return/android/i.test(C)}function Bi(C=(0,ee.z$)()){return/blackberry/i.test(C)}function Xr(C=(0,ee.z$)()){return/webos/i.test(C)}function Jn(C=(0,ee.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Rl(C=(0,ee.z$)()){return Jn(C)||Ai(C)||Xr(C)||Bi(C)||/windows phone/i.test(C)||Vn(C)}function ut(C,g=[]){let v;switch(C){case"Browser":v=Te((0,ee.z$)());break;case"Worker":v=`${Te((0,ee.z$)())}-${C}`;break;default:v=C}const I=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${He.SDK_VERSION}/${I}`}function Lt(){return(Lt=(0,l.Z)(function*(C){return(yield Dt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bn(C,g){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(C,g){return Dt(C,"GET","/v2/recaptchaConfig",Ct(C,g))})).apply(this,arguments)}function dn(C){return void 0!==C&&void 0!==C.getResponse}function Ni(C){return void 0!==C&&void 0!==C.enterprise}class Jr{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function nl(C){return new Promise((g,v)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=g,I.onerror=L=>{const G=qe("internal-error");G.customData=L,v(G)},I.type="text/javascript",I.charset="UTF-8",function Hr(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(I)})}function Do(C){return`__${C}${Math.floor(1e6*Math.random())}`}class lf{constructor(g){this.type="recaptcha-enterprise",this.auth=zr(g)}verify(g="verify",v=!1){var I=this;return(0,l.Z)(function*(){function G(){return G=(0,l.Z)(function*(be){if(!v){if(null==be.tenantId&&null!=be._agentRecaptchaConfig)return be._agentRecaptchaConfig.siteKey;if(null!=be.tenantId&&void 0!==be._tenantRecaptchaConfigs[be.tenantId])return be._tenantRecaptchaConfigs[be.tenantId].siteKey}return new Promise(function(){var Pt=(0,l.Z)(function*(Gt,hn){bn(be,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($t=>{if(void 0!==$t.recaptchaKey){const Sr=new Jr($t);return null==be.tenantId?be._agentRecaptchaConfig=Sr:be._tenantRecaptchaConfigs[be.tenantId]=Sr,Gt(Sr.siteKey)}hn(new Error("recaptcha Enterprise site key undefined"))}).catch($t=>{hn($t)})});return function(Gt,hn){return Pt.apply(this,arguments)}}())}),G.apply(this,arguments)}function me(be,Pt,Gt){const hn=window.grecaptcha;Ni(hn)?hn.enterprise.ready(()=>{hn.enterprise.execute(be,{action:g}).then($t=>{Pt($t)}).catch(()=>{Pt("NO_RECAPTCHA")})}):Gt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((be,Pt)=>{(function L(be){return G.apply(this,arguments)})(I.auth).then(Gt=>{if(!v&&Ni(window.grecaptcha))me(Gt,be,Pt);else{if(typeof window>"u")return void Pt(new Error("RecaptchaVerifier is only supported in browser"));nl("https://www.google.com/recaptcha/enterprise.js?render="+Gt).then(()=>{me(Gt,be,Pt)}).catch(hn=>{Pt(hn)})}}).catch(Gt=>{Pt(Gt)})})})()}}function pa(C,g,v){return cf.apply(this,arguments)}function cf(){return(cf=(0,l.Z)(function*(C,g,v,I=!1){const L=new lf(C);let G;try{G=yield L.verify(v)}catch{G=yield L.verify(v,!0)}const me=Object.assign({},g);return Object.assign(me,I?{captchaResp:G}:{captchaResponse:G}),Object.assign(me,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(me,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),me})).apply(this,arguments)}class zs{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const I=G=>new Promise((me,be)=>{try{me(g(G))}catch(Pt){be(Pt)}});I.onAbort=v,this.queue.push(I);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,l.Z)(function*(){if(v.auth.currentUser===g)return;const I=[];try{for(const L of v.queue)yield L(g),L.onAbort&&I.push(L.onAbort)}catch(L){I.reverse();for(const G of I)try{G()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class Yp{constructor(g,v,I,L){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=I,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ma(this),this.idTokenSubscription=new ma(this),this.beforeStateQueue=new zs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(g,v){var I=this;return v&&(this._popupRedirectResolver=Nr(v)),this._initializationPromise=this.queue((0,l.Z)(function*(){var L,G;if(!I._deleted&&(I.persistenceManager=yield fe.create(I,g),!I._deleted)){if(null!==(L=I._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(v),I.lastNotifiedUid=(null===(G=I.currentUser)||void 0===G?void 0:G.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,l.Z)(function*(){var I;const L=yield v.assertedPersistence.getCurrentUser();let G=L,me=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const be=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,Pt=G?._redirectEventId,Gt=yield v.tryRedirectSignIn(g);(!be||be===Pt)&&Gt?.user&&(G=Gt.user,me=!0)}if(!G)return v.directlySetCurrentUser(null);if(!G._redirectEventId){if(me)try{yield v.beforeStateQueue.runMiddleware(G)}catch(be){G=L,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(be))}return G?v.reloadAndSetCurrentUserOrClear(G):v.directlySetCurrentUser(null)}return nt(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===G._redirectEventId?v.directlySetCurrentUser(G):v.reloadAndSetCurrentUserOrClear(G)})()}tryRedirectSignIn(g){var v=this;return(0,l.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,l.Z)(function*(){try{yield Dn(g)}catch(I){if("auth/network-request-failed"!==I?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Xc(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,l.Z)(function*(){const I=g?(0,ee.m9)(g):null;return I&&nt(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(g,v=!1){var I=this;return(0,l.Z)(function*(){if(!I._deleted)return g&&nt(I.tenantId===g.tenantId,I,"tenant-id-mismatch"),v||(yield I.beforeStateQueue.runMiddleware(g)),I.queue((0,l.Z)(function*(){yield I.directlySetCurrentUser(g),I.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,l.Z)(function*(){yield v.assertedPersistence.setPersistence(Nr(g))}))}initializeRecaptchaConfig(){var g=this;return(0,l.Z)(function*(){const v=yield bn(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new Jr(v);null==g.tenantId?g._agentRecaptchaConfig=I:g._tenantRecaptchaConfigs[g.tenantId]=I,I.emailPasswordEnabled&&new lf(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new ee.LL("auth","Firebase",g())}onAuthStateChanged(g,v,I){return this.registerStateListener(this.authStateSubscription,g,v,I)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,I){return this.registerStateListener(this.idTokenSubscription,g,v,I)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var I=this;return(0,l.Z)(function*(){const L=yield I.getOrInitRedirectPersistenceManager(v);return null===g?L.removeCurrentUser():L.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,l.Z)(function*(){if(!v.redirectPersistenceManager){const I=g&&Nr(g)||v._popupRedirectResolver;nt(I,v,"argument-error"),v.redirectPersistenceManager=yield fe.create(v,[Nr(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,l.Z)(function*(){var I,L;return v._isInitialized&&(yield v.queue((0,l.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===g?v._currentUser:(null===(L=v.redirectUser)||void 0===L?void 0:L._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,l.Z)(function*(){if(g===v.currentUser)return v.queue((0,l.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,I,L){if(this._deleted)return()=>{};const G="function"==typeof v?v:v.next.bind(v),me=this._isInitialized?Promise.resolve():this._initializationPromise;return nt(me,this,"internal-error"),me.then(()=>G(this.currentUser)),"function"==typeof v?g.addObserver(v,I,L):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,l.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ut(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var v;const I={"X-Client-Version":g.clientVersion};g.app.options.appId&&(I["X-Firebase-gmpid"]=g.app.options.appId);const L=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();L&&(I["X-Firebase-Client"]=L);const G=yield g._getAppCheckToken();return G&&(I["X-Firebase-AppCheck"]=G),I})()}_getAppCheckToken(){var g=this;return(0,l.Z)(function*(){var v;const I=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return I?.error&&function Mn(C,...g){Bn.logLevel<=je.in.WARN&&Bn.warn(`Auth (${He.SDK_VERSION}): ${C}`,...g)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function zr(C){return(0,ee.m9)(C)}class ma{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,ee.ne)(v=>this.observer=v)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ss(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function df(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class eu{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return Hn("not implemented")}_getIdTokenResponse(g){return Hn("not implemented")}_linkToIdToken(g,v){return Hn("not implemented")}_getReauthenticationResolver(g){return Hn("not implemented")}}function h_(C,g){return $d.apply(this,arguments)}function $d(){return($d=(0,l.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:resetPassword",Ct(C,g))})).apply(this,arguments)}function Wd(C,g){return f_.apply(this,arguments)}function f_(){return(f_=(0,l.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Zp(){return(Zp=(0,l.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:update",Ct(C,g))})).apply(this,arguments)}function ks(C,g){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,l.Z)(function*(C,g){return On(C,"POST","/v1/accounts:signInWithPassword",Ct(C,g))})).apply(this,arguments)}function hf(C,g){return ff.apply(this,arguments)}function ff(){return(ff=(0,l.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:sendOobCode",Ct(C,g))})).apply(this,arguments)}function Qp(){return(Qp=(0,l.Z)(function*(C,g){return hf(C,g)})).apply(this,arguments)}function Gu(C,g){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,l.Z)(function*(C,g){return hf(C,g)})).apply(this,arguments)}function mf(C,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(C,g){return hf(C,g)})).apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(C,g){return hf(C,g)})).apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(C,g){return On(C,"POST","/v1/accounts:signInWithEmailLink",Ct(C,g))})).apply(this,arguments)}function Jp(){return(Jp=(0,l.Z)(function*(C,g){return On(C,"POST","/v1/accounts:signInWithEmailLink",Ct(C,g))})).apply(this,arguments)}class tu extends eu{constructor(g,v,I,L=null){super("password",I),this._email=g,this._password=v,this._tenantId=L}static _fromEmailAndPassword(g,v){return new tu(g,v,"password")}static _fromEmailAndCode(g,v,I=null){return new tu(g,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,l.Z)(function*(){var I;switch(v.signInMethod){case"password":const L={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=g._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const G=yield pa(g,L,"signInWithPassword");return ks(g,G)}return ks(g,L).catch(function(){var G=(0,l.Z)(function*(me){if("auth/missing-recaptcha-token"===me.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const be=yield pa(g,L,"signInWithPassword");return ks(g,be)}return Promise.reject(me)});return function(me){return G.apply(this,arguments)}}());case"emailLink":return function wc(C,g){return So.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:_t(g,"internal-error")}})()}_linkToIdToken(g,v){var I=this;return(0,l.Z)(function*(){switch(I.signInMethod){case"password":return Wd(g,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Gy(C,g){return Jp.apply(this,arguments)}(g,{idToken:v,email:I._email,oobCode:I._password});default:_t(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function _a(C,g){return em.apply(this,arguments)}function em(){return(em=(0,l.Z)(function*(C,g){return On(C,"POST","/v1/accounts:signInWithIdp",Ct(C,g))})).apply(this,arguments)}class Jt extends eu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Jt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):_t("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:L}=v,G=(0,We._T)(v,["providerId","signInMethod"]);if(!I||!L)return null;const me=new Jt(I,L);return me.idToken=G.idToken||void 0,me.accessToken=G.accessToken||void 0,me.secret=G.secret,me.nonce=G.nonce,me.pendingToken=G.pendingToken||null,me}_getIdTokenResponse(g){return _a(g,this.buildRequest())}_linkToIdToken(g,v){const I=this.buildRequest();return I.idToken=v,_a(g,I)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,_a(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,ee.xO)(v)}return g}}function Qi(){return(Qi=(0,l.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:sendVerificationCode",Ct(C,g))})).apply(this,arguments)}function $u(){return($u=(0,l.Z)(function*(C,g){return On(C,"POST","/v1/accounts:signInWithPhoneNumber",Ct(C,g))})).apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(C,g){const v=yield On(C,"POST","/v1/accounts:signInWithPhoneNumber",Ct(C,g));if(v.temporaryProof)throw mr(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Or={USER_NOT_FOUND:"user-not-found"};function za(){return(za=(0,l.Z)(function*(C,g){return On(C,"POST","/v1/accounts:signInWithPhoneNumber",Ct(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Or)})).apply(this,arguments)}class Nn extends eu{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Nn({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Nn({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function Qo(C,g){return $u.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function lo(C,g){return qs.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function xc(C,g){return za.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:I,verificationCode:L}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:I,code:L}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:I,phoneNumber:L,temporaryProof:G}=g;return I||v||L||G?new Nn({verificationId:v,verificationCode:I,phoneNumber:L,temporaryProof:G}):null}}class Pl{constructor(g){var v,I,L,G,me,be;const Pt=(0,ee.zd)((0,ee.pd)(g)),Gt=null!==(v=Pt.apiKey)&&void 0!==v?v:null,hn=null!==(I=Pt.oobCode)&&void 0!==I?I:null,$t=function Yd(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Pt.mode)&&void 0!==L?L:null);nt(Gt&&hn&&$t,"argument-error"),this.apiKey=Gt,this.operation=$t,this.code=hn,this.continueUrl=null!==(G=Pt.continueUrl)&&void 0!==G?G:null,this.languageCode=null!==(me=Pt.languageCode)&&void 0!==me?me:null,this.tenantId=null!==(be=Pt.tenantId)&&void 0!==be?be:null}static parseLink(g){const v=function Zd(C){const g=(0,ee.zd)((0,ee.pd)(C)).link,v=g?(0,ee.zd)((0,ee.pd)(g)).deep_link_id:null,I=(0,ee.zd)((0,ee.pd)(C)).deep_link_id;return(I?(0,ee.zd)((0,ee.pd)(I)).link:null)||I||v||g||C}(g);try{return new Pl(v)}catch{return null}}}let Wu=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,I){return tu._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const L=Pl.parseLink(I);return nt(L,"argument-error"),tu._fromEmailAndCode(v,L.code,L.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Ao{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class To extends Ao{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class va extends To{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return nt("providerId"in v&&"signInMethod"in v,"argument-error"),Jt._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return nt(g.idToken||g.accessToken,"argument-error"),Jt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return va.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return va.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:L,pendingToken:G,nonce:me,providerId:be}=g;if(!I&&!L&&!v&&!G||!be)return null;try{return new va(be)._credential({idToken:v,accessToken:I,nonce:me,pendingToken:G})}catch{return null}}}let p_=(()=>{class C extends To{constructor(){super("facebook.com")}static credential(v){return Jt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),qa=(()=>{class C extends To{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return Jt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:L}=v;if(!I&&!L)return null;try{return C.credential(I,L)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ol=(()=>{class C extends To{constructor(){super("github.com")}static credential(v){return Jt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class il extends eu{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return _a(g,this.buildRequest())}_linkToIdToken(g,v){const I=this.buildRequest();return I.idToken=v,_a(g,I)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,_a(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:L,pendingToken:G}=v;return I&&L&&G&&I===L?new il(I,G):null}static _create(g,v){return new il(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class tm extends Ao{constructor(g){nt(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return tm.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return tm.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=il.fromJSON(g);return nt(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:I}=g;if(!v||!I)return null;try{return il._create(I,v)}catch{return null}}}let Kd=(()=>{class C extends To{constructor(){super("twitter.com")}static credential(v,I){return Jt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:L}=v;if(!I||!L)return null;try{return C.credential(I,L)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function rl(C,g){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,l.Z)(function*(C,g){return On(C,"POST","/v1/accounts:signUp",Ct(C,g))})).apply(this,arguments)}class Gs{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,I,L=!1){return(0,l.Z)(function*(){const G=yield gs._fromIdTokenResponse(g,I,L),me=Fl(I);return new Gs({user:G,providerId:me,_tokenResponse:I,operationType:v})})()}static _forOperation(g,v,I){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(I,!0);const L=Fl(I);return new Gs({user:g,providerId:L,_tokenResponse:I,operationType:v})})()}}function Fl(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function vs(){return(vs=(0,l.Z)(function*(C){var g;const v=zr(C);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Gs({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield rl(v,{returnSecureToken:!0}),L=yield Gs._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(L.user),L})).apply(this,arguments)}class gf extends ee.ZR{constructor(g,v,I,L){var G;super(v.code,v.message),this.operationType=I,this.user=L,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:g.name,tenantId:null!==(G=g.tenantId)&&void 0!==G?G:void 0,_serverResponse:v.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(g,v,I,L){return new gf(g,v,I,L)}}function co(C,g,v,I){return("reauthenticate"===g?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?gf._fromErrorAndOperation(C,G,g,I):G})}function $s(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function Ws(){return Ws=(0,l.Z)(function*(C,g){const v=(0,ee.m9)(C);yield Ec(!0,v,g);const{providerUserInfo:I}=yield function Hs(C,g){return Yo.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),L=$s(I||[]);return v.providerData=v.providerData.filter(G=>L.has(G.providerId)),L.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Ws.apply(this,arguments)}function nu(C,g){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(C,g,v=!1){const I=yield Ir(C,g._linkToIdToken(C.auth,yield C.getIdToken()),v);return Gs._forOperation(C,"link",I)})).apply(this,arguments)}function Ec(C,g,v){return im.apply(this,arguments)}function im(){return(im=(0,l.Z)(function*(C,g,v){yield Dn(g);const L=!1===C?"provider-already-linked":"no-such-provider";nt($s(g.providerData).has(v)===C,g.auth,L)})).apply(this,arguments)}function $y(C,g){return rm.apply(this,arguments)}function rm(){return(rm=(0,l.Z)(function*(C,g,v=!1){const{auth:I}=C,L="reauthenticate";try{const G=yield Ir(C,co(I,L,g,C),v);nt(G.idToken,I,"internal-error");const me=Kn(G.idToken);nt(me,I,"internal-error");const{sub:be}=me;return nt(C.uid===be,I,"user-mismatch"),Gs._forOperation(C,L,G)}catch(G){throw"auth/user-not-found"===G?.code&&_t(I,"user-mismatch"),G}})).apply(this,arguments)}function sm(C,g){return om.apply(this,arguments)}function om(){return(om=(0,l.Z)(function*(C,g,v=!1){const I="signIn",L=yield co(C,I,g),G=yield Gs._fromIdTokenResponse(C,I,L);return v||(yield C._updateCurrentUser(G.user)),G})).apply(this,arguments)}function am(C,g){return m_.apply(this,arguments)}function m_(){return(m_=(0,l.Z)(function*(C,g){return sm(zr(C),g)})).apply(this,arguments)}function Nw(C,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(C,g){const v=(0,ee.m9)(C);return yield Ec(!1,v,g.providerId),nu(v,g)})).apply(this,arguments)}function Pw(C,g){return Wy.apply(this,arguments)}function Wy(){return(Wy=(0,l.Z)(function*(C,g){return $y((0,ee.m9)(C),g)})).apply(this,arguments)}function Yy(){return(Yy=(0,l.Z)(function*(C,g){return On(C,"POST","/v1/accounts:signInWithCustomToken",Ct(C,g))})).apply(this,arguments)}function Ll(){return Ll=(0,l.Z)(function*(C,g){const v=zr(C),I=yield function uI(C,g){return Yy.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),L=yield Gs._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(L.user),L}),Ll.apply(this,arguments)}class lm{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?_f._fromServerResponse(g,v):"totpInfo"in v?cm._fromServerResponse(g,v):_t(g,"internal-error")}}class _f extends lm{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new _f(v)}}class cm extends lm{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new cm(v)}}function iu(C,g,v){var I;nt((null===(I=v.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),nt(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(nt(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(nt(v.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Xd(){return Xd=(0,l.Z)(function*(C,g,v){var I;const L=zr(C),G={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=L._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const me=yield pa(L,G,"getOobCode",!0);v&&iu(L,me,v),yield Gu(L,me)}else v&&iu(L,G,v),yield Gu(L,G).catch(function(){var me=(0,l.Z)(function*(be){if("auth/missing-recaptcha-token"!==be.code)return Promise.reject(be);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pt=yield pa(L,G,"getOobCode",!0);v&&iu(L,Pt,v),yield Gu(L,Pt)}});return function(be){return me.apply(this,arguments)}}())}),Xd.apply(this,arguments)}function Bl(){return(Bl=(0,l.Z)(function*(C,g,v){yield h_((0,ee.m9)(C),{oobCode:g,newPassword:v})})).apply(this,arguments)}function ya(){return ya=(0,l.Z)(function*(C,g){yield function ga(C,g){return Zp.apply(this,arguments)}((0,ee.m9)(C),{oobCode:g})}),ya.apply(this,arguments)}function __(C,g){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(C,g){const v=(0,ee.m9)(C),I=yield h_(v,{oobCode:g}),L=I.requestType;switch(nt(L,v,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nt(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nt(I.mfaInfo,v,"internal-error");default:nt(I.email,v,"internal-error")}let G=null;return I.mfaInfo&&(G=lm._fromServerResponse(zr(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:G},operation:L}})).apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(C,g){const{data:v}=yield __((0,ee.m9)(C),g);return v.email})).apply(this,arguments)}function Jd(){return Jd=(0,l.Z)(function*(C,g,v){var I;const L=zr(C),G={returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"};let me;if(null!==(I=L._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Gt=yield pa(L,G,"signUpPassword");me=rl(L,Gt)}else me=rl(L,G).catch(function(){var Gt=(0,l.Z)(function*(hn){if("auth/missing-recaptcha-token"===hn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const $t=yield pa(L,G,"signUpPassword");return rl(L,$t)}return Promise.reject(hn)});return function(hn){return Gt.apply(this,arguments)}}());const be=yield me.catch(Gt=>Promise.reject(Gt)),Pt=yield Gs._fromIdTokenResponse(L,"signIn",be);return yield L._updateCurrentUser(Pt.user),Pt}),Jd.apply(this,arguments)}function Zu(){return Zu=(0,l.Z)(function*(C,g,v){var I;const L=zr(C),G={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function me(be,Pt){nt(Pt.handleCodeInApp,L,"argument-error"),Pt&&iu(L,be,Pt)}if(null!==(I=L._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const be=yield pa(L,G,"getOobCode",!0);me(be,v),yield mf(L,be)}else me(G,v),yield mf(L,G).catch(function(){var be=(0,l.Z)(function*(Pt){if("auth/missing-recaptcha-token"!==Pt.code)return Promise.reject(Pt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Gt=yield pa(L,G,"getOobCode",!0);me(Gt,v),yield mf(L,Gt)}});return function(Pt){return be.apply(this,arguments)}}())}),Zu.apply(this,arguments)}function vf(){return(vf=(0,l.Z)(function*(C,g,v){const I=(0,ee.m9)(C),L=Wu.credentialWithLink(g,v||As());return nt(L._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),am(I,L)})).apply(this,arguments)}function hm(){return(hm=(0,l.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:createAuthUri",Ct(C,g))})).apply(this,arguments)}function Ku(){return Ku=(0,l.Z)(function*(C,g){const I={identifier:g,continueUri:xo()?As():"http://localhost"},{signinMethods:L}=yield function dm(C,g){return hm.apply(this,arguments)}((0,ee.m9)(C),I);return L||[]}),Ku.apply(this,arguments)}function Vl(){return Vl=(0,l.Z)(function*(C,g){const v=(0,ee.m9)(C),L={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&iu(v.auth,L,g);const{email:G}=yield function pf(C,g){return Qp.apply(this,arguments)}(v.auth,L);G!==C.email&&(yield C.reload())}),Vl.apply(this,arguments)}function bf(){return bf=(0,l.Z)(function*(C,g,v){const I=(0,ee.m9)(C),G={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};v&&iu(I.auth,G,v);const{email:me}=yield function Rs(C,g){return _s.apply(this,arguments)}(I.auth,G);me!==C.email&&(yield C.reload())}),bf.apply(this,arguments)}function Ky(){return(Ky=(0,l.Z)(function*(C,g){return Dt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function wf(){return wf=(0,l.Z)(function*(C,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const I=(0,ee.m9)(C),G={idToken:yield I.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},me=yield Ir(I,function Fw(C,g){return Ky.apply(this,arguments)}(I.auth,G));I.displayName=me.displayName||null,I.photoURL=me.photoUrl||null;const be=I.providerData.find(({providerId:Pt})=>"password"===Pt);be&&(be.displayName=I.displayName,be.photoURL=I.photoURL),yield I._updateTokensIfNecessary(me)}),wf.apply(this,arguments)}function mm(C,g,v){return xf.apply(this,arguments)}function xf(){return(xf=(0,l.Z)(function*(C,g,v){const{auth:I}=C,G={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(G.email=g),v&&(G.password=v);const me=yield Ir(C,Wd(I,G));yield C._updateTokensIfNecessary(me,!0)})).apply(this,arguments)}class Qu{constructor(g,v,I={}){this.isNewUser=g,this.providerId=v,this.profile=I}}class Cf extends Qu{constructor(g,v,I,L){super(g,v,I),this.username=L}}class y_ extends Qu{constructor(g,v){super(g,"facebook.com",v)}}class b_ extends Cf{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class th extends Qu{constructor(g,v){super(g,"google.com",v)}}class nh extends Cf{constructor(g,v,I){super(g,"twitter.com",v,I)}}function Qy(C){const{user:g,_tokenResponse:v}=C;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function gm(C){var g,v;if(!C)return null;const{providerId:I}=C,L=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},G=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&C?.idToken){const me=null===(v=null===(g=Kn(C.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(me)return new Qu(G,"anonymous"!==me&&"custom"!==me?me:null)}if(!I)return null;switch(I){case"facebook.com":return new y_(G,L);case"github.com":return new b_(G,L);case"google.com":return new th(G,L);case"twitter.com":return new nh(G,L,C.screenName||null);case"custom":case"anonymous":return new Qu(G,null);default:return new Qu(G,I,L)}}(v)}class Ul{constructor(g,v,I){this.type=g,this.credential=v,this.auth=I}static _fromIdtoken(g,v){return new Ul("enroll",g,v)}static _fromMfaPendingCredential(g){return new Ul("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,I;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ul._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(I=g.multiFactorSession)&&void 0!==I&&I.idToken)return Ul._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ou{constructor(g,v,I){this.session=g,this.hints=v,this.signInResolver=I}static _fromError(g,v){const I=zr(g),L=v.customData._serverResponse,G=(L.mfaInfo||[]).map(be=>lm._fromServerResponse(I,be));nt(L.mfaPendingCredential,I,"internal-error");const me=Ul._fromMfaPendingCredential(L.mfaPendingCredential);return new ou(me,G,function(){var be=(0,l.Z)(function*(Pt){const Gt=yield Pt._process(I,me);delete L.mfaInfo,delete L.mfaPendingCredential;const hn=Object.assign(Object.assign({},L),{idToken:Gt.idToken,refreshToken:Gt.refreshToken});switch(v.operationType){case"signIn":const $t=yield Gs._fromIdTokenResponse(I,v.operationType,hn);return yield I._updateCurrentUser($t.user),$t;case"reauthenticate":return nt(v.user,I,"internal-error"),Gs._forOperation(v.user,v.operationType,hn);default:_t(I,"internal-error")}});return function(Pt){return be.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,l.Z)(function*(){return v.signInResolver(g)})()}}class au{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>lm._fromServerResponse(g.auth,I)))})}static _fromUser(g){return new au(g)}getSession(){var g=this;return(0,l.Z)(function*(){return Ul._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var I=this;return(0,l.Z)(function*(){const L=g,G=yield I.getSession(),me=yield Ir(I.user,L._process(I.user.auth,G,v));return yield I.user._updateTokensIfNecessary(me),I.user.reload()})()}unenroll(g){var v=this;return(0,l.Z)(function*(){const I="string"==typeof g?g:g.uid,L=yield v.user.getIdToken();try{const G=yield Ir(v.user,function D_(C,g){return Dt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(C,g))}(v.user.auth,{idToken:L,mfaEnrollmentId:I}));v.enrolledFactors=v.enrolledFactors.filter(({uid:me})=>me!==I),yield v.user._updateTokensIfNecessary(G),yield v.user.reload()}catch(G){throw G}})()}}const ji=new WeakMap,lu="__sak";class ko{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(lu,"1"),this.storage.removeItem(lu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ed=(()=>{class C extends ko{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,I)=>this.onStorageEvent(v,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function S_(){const C=(0,ee.z$)();return Ze(C)||Jn(C)}()&&function qd(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Rl(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const L=this.storage.getItem(I),G=this.localCache[I];L!==G&&v(I,G,L)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((be,Pt,Gt)=>{this.notifyListeners(be,Gt)});const L=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(L);if(v.newValue!==be)null!==v.newValue?this.storage.setItem(L,v.newValue):this.storage.removeItem(L);else if(this.localCache[L]===v.newValue&&!I)return}const G=()=>{const be=this.storage.getItem(L);!I&&this.localCache[L]===be||this.notifyListeners(L,be)},me=this.storage.getItem(L);!function Io(){return(0,ee.w1)()&&10===document.documentMode}()||me===v.newValue||v.newValue===v.oldValue?G():setTimeout(G,10)}notifyListeners(v,I){this.localCache[v]=I;const L=this.listeners[v];if(L)for(const G of Array.from(L))G(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var L=()=>super._set,G=this;return(0,l.Z)(function*(){yield L().call(G,v,I),G.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,L=this;return(0,l.Z)(function*(){const G=yield I().call(L,v);return L.localCache[v]=JSON.stringify(G),G})()}_remove(v){var I=()=>super._remove,L=this;return(0,l.Z)(function*(){yield I().call(L,v),delete L.localCache[v]})()}}return C.type="LOCAL",C})(),cu=(()=>{class C extends ko{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return C.type="SESSION",C})();let If=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(G=>G.isListeningto(v));if(I)return I;const L=new C(v);return this.receivers.push(L),L}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,l.Z)(function*(){const L=v,{eventId:G,eventType:me,data:be}=L.data,Pt=I.handlersMap[me];if(!Pt?.size)return;L.ports[0].postMessage({status:"ack",eventId:G,eventType:me});const Gt=Array.from(Pt).map(function(){var $t=(0,l.Z)(function*(Sr){return Sr(L.origin,be)});return function(Sr){return $t.apply(this,arguments)}}()),hn=yield function uu(C){return Promise.all(C.map(function(){var g=(0,l.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return g.apply(this,arguments)}}()))}(Gt);L.ports[0].postMessage({status:"done",eventId:G,eventType:me,response:hn})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function xm(C="",g=10){let v="";for(let I=0;I<g;I++)v+=Math.floor(10*Math.random());return C+v}class jw{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,I=50){var L=this;return(0,l.Z)(function*(){const G=typeof MessageChannel<"u"?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let me,be;return new Promise((Pt,Gt)=>{const hn=xm("",20);G.port1.start();const $t=setTimeout(()=>{Gt(new Error("unsupported_event"))},I);be={messageChannel:G,onMessage(Sr){const dl=Sr;if(dl.data.eventId===hn)switch(dl.data.status){case"ack":clearTimeout($t),me=setTimeout(()=>{Gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(me),Pt(dl.data.response);break;default:clearTimeout($t),clearTimeout(me),Gt(new Error("invalid_response"))}}},L.handlers.add(be),G.port1.addEventListener("message",be.onMessage),L.target.postMessage({eventType:g,eventId:hn,data:v},[G.port2])}).finally(()=>{be&&L.removeMessageHandler(be)})})()}}function ur(){return window}function Cm(){return typeof ur().WorkerGlobalScope<"u"&&"function"==typeof ur().importScripts}function Df(){return(Df=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const A_="firebaseLocalStorageDb",td="firebaseLocalStorage",jl="fbase_key";class Sf{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Af(C,g){return C.transaction([td],g?"readwrite":"readonly").objectStore(td)}function Im(){const C=indexedDB.open(A_,1);return new Promise((g,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(td,{keyPath:jl})}catch(L){v(L)}}),C.addEventListener("success",(0,l.Z)(function*(){const I=C.result;I.objectStoreNames.contains(td)?g(I):(I.close(),yield function Hw(){const C=indexedDB.deleteDatabase(A_);return new Sf(C).toPromise()}(),g(yield Im()))}))})}function ih(C,g,v){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(C,g,v){const I=Af(C,!0).put({[jl]:g,value:v});return new Sf(I).toPromise()})).apply(this,arguments)}function Tf(){return(Tf=(0,l.Z)(function*(C,g){const v=Af(C,!1).get(g),I=yield new Sf(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Dm(C,g){const v=Af(C,!0).delete(g);return new Sf(v).toPromise()}const Ro=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,l.Z)(function*(){return v.db||(v.db=yield Im()),v.db})()}_withRetries(v){var I=this;return(0,l.Z)(function*(){let L=0;for(;;)try{const G=yield I._openDb();return yield v(G)}catch(G){if(L++>3)throw G;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,l.Z)(function*(){return Cm()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,l.Z)(function*(){v.receiver=If._getInstance(function bs(){return Cm()?self:null}()),v.receiver._subscribe("keyChanged",function(){var I=(0,l.Z)(function*(L,G){return{keyProcessed:(yield v._poll()).includes(G.key)}});return function(L,G){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,l.Z)(function*(L,G){return["keyChanged"]});return function(L,G){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,l.Z)(function*(){var I,L;if(v.activeServiceWorker=yield function $n(){return Df.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new jw(v.activeServiceWorker);const G=yield v.sender._send("ping",{},800);G&&null!==(I=G[0])&&void 0!==I&&I.fulfilled&&null!==(L=G[0])&&void 0!==L&&L.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,l.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Em(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Im();return yield ih(v,lu,"1"),yield Dm(v,lu),!0}catch{}return!1})()}_withPendingWrite(v){var I=this;return(0,l.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var L=this;return(0,l.Z)(function*(){return L._withPendingWrite((0,l.Z)(function*(){return yield L._withRetries(G=>ih(G,v,I)),L.localCache[v]=I,L.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,l.Z)(function*(){const L=yield I._withRetries(G=>function si(C,g){return Tf.apply(this,arguments)}(G,v));return I.localCache[v]=L,L})()}_remove(v){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(L=>Dm(L,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,l.Z)(function*(){const I=yield v._withRetries(me=>{const be=Af(me,!1).getAll();return new Sf(be).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const L=[],G=new Set;for(const{fbase_key:me,value:be}of I)G.add(me),JSON.stringify(v.localCache[me])!==JSON.stringify(be)&&(v.notifyListeners(me,be),L.push(me));for(const me of Object.keys(v.localCache))v.localCache[me]&&!G.has(me)&&(v.notifyListeners(me,null),L.push(me));return L})()}notifyListeners(v,I){this.localCache[v]=I;const L=this.listeners[v];if(L)for(const G of Array.from(L))G(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),ls=1e12;class Hl{constructor(g){this.auth=g,this.counter=ls,this._widgets=new Map}render(g,v){const I=this.counter;return this._widgets.set(I,new km(g,this.auth.name,v||{})),this.counter++,I}reset(g){var v;const I=g||ls;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(g){var v;return(null===(v=this._widgets.get(g||ls))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,l.Z)(function*(){var I;return null===(I=v._widgets.get(g||ls))||void 0===I||I.execute(),""})()}}class km{constructor(g,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof g?document.getElementById(g):g;nt(L,"argument-error",{appName:v}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ic(C){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<C;I++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ga=Do("rcb"),T_=new Tl(3e4,6e4);class qw{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ur().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return nt(function M_(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&dn(ur().grecaptcha)?Promise.resolve(ur().grecaptcha):new Promise((I,L)=>{const G=ur().setTimeout(()=>{L(qe(g,"network-request-failed"))},T_.get());ur()[Ga]=()=>{ur().clearTimeout(G),delete ur()[Ga];const be=ur().grecaptcha;if(!be||!dn(be))return void L(qe(g,"internal-error"));const Pt=be.render;be.render=(Gt,hn)=>{const $t=Pt(Gt,hn);return this.counter++,$t},this.hostLanguage=v,I(be)},nl(`https://www.google.com/recaptcha/api.js??${(0,ee.xO)({onload:Ga,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(G),L(qe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=ur().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class k_{load(g){return(0,l.Z)(function*(){return new Hl(g)})()}clearedOneInstance(){}}const sh="recaptcha",n0={theme:"light",type:"image"};class Mf{constructor(g,v=Object.assign({},n0),I){this.parameters=v,this.type=sh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zr(I),this.isInvisible="invisible"===this.parameters.size,nt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof g?document.getElementById(g):g;nt(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new k_:new qw,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),I=g.getAssertedRecaptcha();return I.getResponse(v)||new Promise(G=>{const me=be=>{be&&(g.tokenChangeListeners.delete(me),G(be))};g.tokenChangeListeners.add(me),g.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){nt(!this.parameters.sitekey,this.auth,"argument-error"),nt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),nt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof g)g(v);else if("string"==typeof g){const I=ur()[g];"function"==typeof I&&I(v)}}}assertNotDestroyed(){nt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){nt(xo()&&!Cm(),g.auth,"internal-error"),yield function Gw(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Ue(C){return Lt.apply(this,arguments)}(g.auth);nt(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return nt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _r{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Nn._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function qr(){return(qr=(0,l.Z)(function*(C,g,v){const I=zr(C),L=yield ir(I,g,(0,ee.m9)(v));return new _r(L,G=>am(I,G))})).apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(C,g,v){const I=(0,ee.m9)(C);yield Ec(!1,I,"phone");const L=yield ir(I.auth,g,(0,ee.m9)(v));return new _r(L,G=>Nw(I,G))})).apply(this,arguments)}function Dc(){return(Dc=(0,l.Z)(function*(C,g,v){const I=(0,ee.m9)(C),L=yield ir(I.auth,g,(0,ee.m9)(v));return new _r(L,G=>Pw(I,G))})).apply(this,arguments)}function ir(C,g,v){return ts.apply(this,arguments)}function ts(){return ts=(0,l.Z)(function*(C,g,v){var I;const L=yield v.verify();try{let G;if(nt("string"==typeof L,C,"argument-error"),nt(v.type===sh,C,"argument-error"),G="string"==typeof g?{phoneNumber:g}:g,"session"in G){const me=G.session;if("phoneNumber"in G)return nt("enroll"===me.type,C,"internal-error"),(yield function ym(C,g){return Dt(C,"POST","/v2/accounts/mfaEnrollment:start",Ct(C,g))}(C,{idToken:me.credential,phoneEnrollmentInfo:{phoneNumber:G.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{nt("signin"===me.type,C,"internal-error");const be=(null===(I=G.multiFactorHint)||void 0===I?void 0:I.uid)||G.multiFactorUid;return nt(be,C,"missing-multi-factor-info"),(yield function Tm(C,g){return Dt(C,"POST","/v2/accounts/mfaSignIn:start",Ct(C,g))}(C,{mfaPendingCredential:me.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:me}=yield function ei(C,g){return Qi.apply(this,arguments)}(C,{phoneNumber:G.phoneNumber,recaptchaToken:L});return me}}finally{v._reset()}}),ts.apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(C,g){yield nu((0,ee.m9)(C),g)})).apply(this,arguments)}let Pi=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=zr(v)}verifyPhoneNumber(v,I){return ir(this.auth,v,(0,ee.m9)(I))}static credential(v,I){return Nn._fromVerification(v,I)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:L}=v;return I&&L?Nn._fromTokenResponse(I,L):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function $a(C,g){return g?Nr(g):(nt(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class ws extends eu{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return _a(g,this._buildIdpRequest())}_linkToIdToken(g,v){return _a(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return _a(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function hu(C){return sm(C.auth,new ws(C),C.bypassAuthState)}function Rm(C){const{auth:g,user:v}=C;return nt(v,g,"internal-error"),$y(v,new ws(C),C.bypassAuthState)}function ll(C){return oh.apply(this,arguments)}function oh(){return(oh=(0,l.Z)(function*(C){const{auth:g,user:v}=C;return nt(v,g,"internal-error"),nu(v,new ws(C),C.bypassAuthState)})).apply(this,arguments)}class nd{constructor(g,v,I,L,G=!1){this.auth=g,this.resolver=I,this.user=L,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,l.Z)(function*(I,L){g.pendingPromise={resolve:I,reject:L};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(G){g.reject(G)}});return function(I,L){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,l.Z)(function*(){const{urlResponse:I,sessionId:L,postBody:G,tenantId:me,error:be,type:Pt}=g;if(be)return void v.reject(be);const Gt={auth:v.auth,requestUri:I,sessionId:L,tenantId:me||void 0,postBody:G||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Pt)(Gt))}catch(hn){v.reject(hn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return hu;case"linkViaPopup":case"linkViaRedirect":return ll;case"reauthViaPopup":case"reauthViaRedirect":return Rm;default:_t(this.auth,"internal-error")}}resolve(g){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yn=new Tl(2e3,1e4);function fu(){return(fu=(0,l.Z)(function*(C,g,v){const I=zr(C);Vt(C,g,Ao);const L=$a(I,v);return new Po(I,"signInViaPopup",g,L).executeNotNull()})).apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(C,g,v){const I=(0,ee.m9)(C);Vt(I.auth,g,Ao);const L=$a(I.auth,v);return new Po(I.auth,"reauthViaPopup",g,L,I).executeNotNull()})).apply(this,arguments)}function J(){return(J=(0,l.Z)(function*(C,g,v){const I=(0,ee.m9)(C);Vt(I.auth,g,Ao);const L=$a(I.auth,v);return new Po(I.auth,"linkViaPopup",g,L,I).executeNotNull()})).apply(this,arguments)}let Po=(()=>{class C extends nd{constructor(v,I,L,G,me){super(v,I,G,me),this.provider=L,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,l.Z)(function*(){const I=yield v.execute();return nt(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,l.Z)(function*(){pi(1===v.filter.length,"Popup operations only handle one event");const I=xm();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(L=>{v.reject(L)}),v.resolver._isIframeWebStorageSupported(v.auth,L=>{L||v.reject(qe(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,L;this.pollId=null!==(L=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(qe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Yn.get())};v()}}return C.currentPopupAction=null,C})();const kf="pendingRedirect",cl=new Map;class id extends nd{constructor(g,v,I=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,l.Z)(function*(){let I=cl.get(v.auth._key());if(!I){try{const G=(yield function Rf(C,g){return r0.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;I=()=>Promise.resolve(G)}catch(L){I=()=>Promise.reject(L)}cl.set(v.auth._key(),I)}return v.bypassAuthState||cl.set(v.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,I=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(I,g);if("unknown"!==g.type){if(g.eventId){const L=yield I.auth._redirectUserForId(g.eventId);if(L)return I.user=L,v().call(I,g);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function r0(){return(r0=(0,l.Z)(function*(C,g){const v=Nm(g),I=lh(C);if(!(yield I._isAvailable()))return!1;const L="true"===(yield I._get(v));return yield I._remove(v),L})).apply(this,arguments)}function Nf(C,g){return N_.apply(this,arguments)}function N_(){return(N_=(0,l.Z)(function*(C,g){return lh(C)._set(Nm(g),"true")})).apply(this,arguments)}function ah(C,g){cl.set(C._key(),g)}function lh(C){return Nr(C._redirectPersistence)}function Nm(C){return ge(kf,C.config.apiKey,C.name)}function ch(C,g,v){return function ql(C,g,v){return Gl.apply(this,arguments)}(C,g,v)}function Gl(){return(Gl=(0,l.Z)(function*(C,g,v){const I=zr(C);Vt(C,g,Ao),yield I._initializationPromise;const L=$a(I,v);return yield Nf(L,I),L._openRedirect(I,g,"signInViaRedirect")})).apply(this,arguments)}function sd(C,g,v){return function Pf(C,g,v){return Dr.apply(this,arguments)}(C,g,v)}function Dr(){return(Dr=(0,l.Z)(function*(C,g,v){const I=(0,ee.m9)(C);Vt(I.auth,g,Ao),yield I.auth._initializationPromise;const L=$a(I.auth,v);yield Nf(L,I.auth);const G=yield na(I);return L._openRedirect(I.auth,g,"reauthViaRedirect",G)})).apply(this,arguments)}function Of(C,g,v){return function Pm(C,g,v){return ea.apply(this,arguments)}(C,g,v)}function ea(){return(ea=(0,l.Z)(function*(C,g,v){const I=(0,ee.m9)(C);Vt(I.auth,g,Ao),yield I.auth._initializationPromise;const L=$a(I.auth,v);yield Ec(!1,I,g.providerId),yield Nf(L,I.auth);const G=yield na(I);return L._openRedirect(I.auth,g,"linkViaRedirect",G)})).apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(C,g){return yield zr(C)._initializationPromise,pu(C,g,!1)})).apply(this,arguments)}function pu(C,g){return od.apply(this,arguments)}function od(){return(od=(0,l.Z)(function*(C,g,v=!1){const I=zr(C),L=$a(I,g),me=yield new id(I,L,v).execute();return me&&!v&&(delete me.user._redirectEventId,yield I._persistUserIfCurrent(me.user),yield I._setRedirectUser(null,g)),me})).apply(this,arguments)}function na(C){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(C){const g=xm(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class ad{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(g,I)&&(v=!0,this.sendToConsumer(g,I),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function uh(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mu(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var I;if(g.error&&!mu(g)){const L=(null===(I=g.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(qe(this.auth,L))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const I=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&I}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sc(g))}saveEventToCache(g){this.cachedEventUids.add(Sc(g)),this.lastProcessedEventTime=Date.now()}}function Sc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function mu({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function cs(C){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,l.Z)(function*(C,g={}){return Dt(C,"GET","/v1/projects",g)})).apply(this,arguments)}const $w=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lf=/^https?/;function Ac(){return(Ac=(0,l.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield cs(C);for(const v of g)try{if(Om(v))return}catch{}_t(C,"unauthorized-domain")})).apply(this,arguments)}function Om(C){const g=As(),{protocol:v,hostname:I}=new URL(g);if(C.startsWith("chrome-extension://")){const me=new URL(C);return""===me.hostname&&""===I?"chrome-extension:"===v&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&me.hostname===I}if(!Lf.test(v))return!1;if($w.test(C))return I===C;const L=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(I)}const P_=new Tl(3e4,6e4);function _u(){const C=ur().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let xs=null;const O_=new Tl(5e3,15e3),F_="__/auth/iframe",ld="emulator/auth/iframe",dh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cd(C){const g=C.config;nt(g.authDomain,C,"auth-domain-config-required");const v=g.emulator?it(g,ld):`https://${C.config.authDomain}/${F_}`,I={apiKey:g.apiKey,appName:C.name,v:He.SDK_VERSION},L=Bf.get(C.config.apiHost);L&&(I.eid=L);const G=C._getFrameworks();return G.length&&(I.fw=G.join(",")),`${v}?${(0,ee.xO)(I).slice(1)}`}function N(){return N=(0,l.Z)(function*(C){const g=yield function Wa(C){return xs=xs||function wa(C){return new Promise((g,v)=>{var I,L,G;function me(){_u(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{_u(),v(qe(C,"network-request-failed"))},timeout:P_.get()})}if(null!==(L=null===(I=ur().gapi)||void 0===I?void 0:I.iframes)&&void 0!==L&&L.Iframe)g(gapi.iframes.getContext());else{if(null===(G=ur().gapi)||void 0===G||!G.load){const be=Do("iframefcb");return ur()[be]=()=>{gapi.load?me():v(qe(C,"network-request-failed"))},nl(`https://apis.google.com/js/api.js?onload=${be}`).catch(Pt=>v(Pt))}me()}}).catch(g=>{throw xs=null,g})}(C),xs}(C),v=ur().gapi;return nt(v,C,"internal-error"),g.open({where:document.body,url:cd(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dh,dontclear:!0},I=>new Promise(function(){var L=(0,l.Z)(function*(G,me){yield I.restyle({setHideOnLeave:!1});const be=qe(C,"network-request-failed"),Pt=ur().setTimeout(()=>{me(be)},O_.get());function Gt(){ur().clearTimeout(Pt),G(I)}I.ping(Gt).then(Gt,()=>{me(be)})});return function(G,me){return L.apply(this,arguments)}}()))}),N.apply(this,arguments)}const V={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nn{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qn="__/auth/handler",ni="emulator/auth/handler",ia=encodeURIComponent("fac");function rr(C,g,v,I,L,G){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,l.Z)(function*(C,g,v,I,L,G){nt(C.config.authDomain,C,"auth-domain-config-required"),nt(C.config.apiKey,C,"invalid-api-key");const me={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:I,v:He.SDK_VERSION,eventId:L};if(g instanceof Ao){g.setDefaultLanguage(C.languageCode),me.providerId=g.providerId||"",(0,ee.xb)(g.getCustomParameters())||(me.customParameters=JSON.stringify(g.getCustomParameters()));for(const[hn,$t]of Object.entries(G||{}))me[hn]=$t}if(g instanceof To){const hn=g.getScopes().filter($t=>""!==$t);hn.length>0&&(me.scopes=hn.join(","))}C.tenantId&&(me.tid=C.tenantId);const be=me;for(const hn of Object.keys(be))void 0===be[hn]&&delete be[hn];const Pt=yield C._getAppCheckToken(),Gt=Pt?`#${ia}=${encodeURIComponent(Pt)}`:"";return`${function Fm({config:C}){return C.emulator?it(C,ni):`https://${C.authDomain}/${Qn}`}(C)}?${(0,ee.xO)(be).slice(1)}${Gt}`})).apply(this,arguments)}const dr="webStorageSupport",ra=class xa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cu,this._completeRedirectFn=pu,this._overrideRedirectResult=ah}_openPopup(g,v,I,L){var G=this;return(0,l.Z)(function*(){var me;pi(null===(me=G.eventManagers[g._key()])||void 0===me?void 0:me.manager,"_initialize() not called before _openPopup()");const be=yield rr(g,v,I,As(),L);return function Zt(C,g,v,I=500,L=600){const G=Math.max((window.screen.availHeight-L)/2,0).toString(),me=Math.max((window.screen.availWidth-I)/2,0).toString();let be="";const Pt=Object.assign(Object.assign({},V),{width:I.toString(),height:L.toString(),top:G,left:me}),Gt=(0,ee.z$)().toLowerCase();v&&(be=gn(Gt)?"_blank":v),Et(Gt)&&(g=g||"http://localhost",Pt.scrollbars="yes");const hn=Object.entries(Pt).reduce((Sr,[dl,vh])=>`${Sr}${dl}=${vh},`,"");if(function Ms(C=(0,ee.z$)()){var g;return Jn(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Gt)&&"_self"!==be)return function Tn(C,g){const v=document.createElement("a");v.href=C,v.target=g;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(g||"",be),new nn(null);const $t=window.open(g||"",be,hn);nt($t,C,"popup-blocked");try{$t.focus()}catch{}return new nn($t)}(g,be,xm())})()}_openRedirect(g,v,I,L){var G=this;return(0,l.Z)(function*(){return yield G._originValidation(g),function Jy(C){ur().location.href=C}(yield rr(g,v,I,As(),L)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:L,promise:G}=this.eventManagers[v];return L?Promise.resolve(L):(pi(G,"If manager is not set, promise should be"),G)}const I=this.initAndGetManager(g);return this.eventManagers[v]={promise:I},I.catch(()=>{delete this.eventManagers[v]}),I}initAndGetManager(g){var v=this;return(0,l.Z)(function*(){const I=yield function A(C){return N.apply(this,arguments)}(g),L=new ad(g);return I.register("authEvent",G=>(nt(G?.authEvent,g,"invalid-auth-event"),{status:L.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:L},v.iframes[g._key()]=I,L})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(dr,{type:dr},L=>{var G;const me=null===(G=L?.[0])||void 0===G?void 0:G[dr];void 0!==me&&v(!!me),_t(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function gu(C){return Ac.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return Rl()||Ze()||Jn()}};class L_{constructor(g){this.factorId=g}_process(g,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,I);case"signin":return this._finalizeSignIn(g,v.credential);default:return Hn("unexpected MultiFactorSessionType")}}}class Ca extends L_{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ca(g)}_finalizeEnroll(g,v,I){return function bm(C,g){return Dt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Ct(C,g))}(g,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function Mm(C,g){return Dt(C,"POST","/v2/accounts/mfaSignIn:finalize",Ct(C,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hh=(()=>{class C{constructor(){}static assertion(v){return Ca._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var hI="@firebase/auth";class TT{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,l.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(I=>{g(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ph(){return window}(0,ee.Pz)("authIdTokenMaxAge"),function V_(C){(0,He._registerComponent)(new pt.wA("auth",(g,{options:v})=>{const I=g.getProvider("app").getImmediate(),L=g.getProvider("heartbeat"),G=g.getProvider("app-check-internal"),{apiKey:me,authDomain:be}=I.options;nt(me&&!me.includes(":"),"invalid-api-key",{appName:I.name});const Pt={apiKey:me,authDomain:be,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ut(C)},Gt=new Yp(I,L,G,Pt);return function qy(C,g){const v=g?.persistence||[],I=(Array.isArray(v)?v:[v]).map(Nr);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(I,g?.popupRedirectResolver)}(Gt,v),Gt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,I)=>{g.getProvider("auth-internal").initialize()})),(0,He._registerComponent)(new pt.wA("auth-internal",g=>{const v=zr(g.getProvider("auth").getImmediate());return new TT(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,He.registerVersion)(hI,"0.23.2",function Ea(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,He.registerVersion)(hI,"0.23.2","esm2017")}("Browser");function dd(){return dd=(0,l.Z)(function*(C,g,v){var I;const{BuildInfo:L}=ph();pi(g.sessionId,"AuthEvent did not contain a session ID");const G=yield function Kw(C){return z_.apply(this,arguments)}(g.sessionId),me={};return Jn()?me.ibi=L.packageName:Ai()?me.apn=L.packageName:_t(C,"operation-not-supported-in-this-environment"),L.displayName&&(me.appDisplayName=L.displayName),me.sessionId=G,rr(C,v,g.type,void 0,null!==(I=g.eventId)&&void 0!==I?I:void 0,me)}),dd.apply(this,arguments)}function jf(){return(jf=(0,l.Z)(function*(C){const{BuildInfo:g}=ph(),v={};Jn()?v.iosBundleId=g.packageName:Ai()?v.androidPackageName=g.packageName:_t(C,"operation-not-supported-in-this-environment"),yield cs(C,v)})).apply(this,arguments)}function o0(){return(o0=(0,l.Z)(function*(C,g,v){const{cordova:I}=ph();let L=()=>{};try{yield new Promise((G,me)=>{let be=null;function Pt(){var $t;G();const Sr=null===($t=I.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof Sr&&Sr(),"function"==typeof v?.close&&v.close()}function Gt(){be||(be=window.setTimeout(()=>{me(qe(C,"redirect-cancelled-by-user"))},2e3))}function hn(){"visible"===document?.visibilityState&&Gt()}g.addPassiveListener(Pt),document.addEventListener("resume",Gt,!1),Ai()&&document.addEventListener("visibilitychange",hn,!1),L=()=>{g.removePassiveListener(Pt),document.removeEventListener("resume",Gt,!1),document.removeEventListener("visibilitychange",hn,!1),be&&window.clearTimeout(be)}})}finally{L()}})).apply(this,arguments)}function z_(){return(z_=(0,l.Z)(function*(C){const g=function q_(C){if(pi(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const g=new ArrayBuffer(C.length),v=new Uint8Array(g);for(let I=0;I<C.length;I++)v[I]=C.charCodeAt(I);return v}(C),v=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(v)).map(L=>L.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class a0 extends ad{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(g)),super.onEvent(g)}initialized(){var g=this;return(0,l.Z)(function*(){yield g.initPromise})()}}function hd(C){return mh.apply(this,arguments)}function mh(){return(mh=(0,l.Z)(function*(C){const g=yield Lm()._get(zf(C));return g&&(yield Lm()._remove(zf(C))),g})).apply(this,arguments)}function mI(){const C=[];for(let v=0;v<20;v++){const I=Math.floor(62*Math.random());C.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return C.join("")}function Lm(){return Nr(ed)}function zf(C){return ge("authEvent",C.config.apiKey,C.name)}function Hi(C){if(!C?.includes("?"))return{};const[g,...v]=C.split("?");return(0,ee.zd)(v.join("?"))}const vu=class hi{constructor(){this._redirectPersistence=cu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pu,this._overrideRedirectResult=ah}_initialize(g){var v=this;return(0,l.Z)(function*(){const I=g._key();let L=v.eventManagers.get(I);return L||(L=new a0(g),v.eventManagers.set(I,L),v.attachCallbackListeners(g,L)),L})()}_openPopup(g){_t(g,"operation-not-supported-in-this-environment")}_openRedirect(g,v,I,L){var G=this;return(0,l.Z)(function*(){!function Hf(C){var g,v,I,L,G,me,be,Pt,Gt,hn;const $t=ph();nt("function"==typeof(null===(g=$t?.universalLinks)||void 0===g?void 0:g.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),nt(typeof(null===(v=$t?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),nt("function"==typeof(null===(G=null===(L=null===(I=$t?.cordova)||void 0===I?void 0:I.plugins)||void 0===L?void 0:L.browsertab)||void 0===G?void 0:G.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nt("function"==typeof(null===(Pt=null===(be=null===(me=$t?.cordova)||void 0===me?void 0:me.plugins)||void 0===be?void 0:be.browsertab)||void 0===Pt?void 0:Pt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nt("function"==typeof(null===(hn=null===(Gt=$t?.cordova)||void 0===Gt?void 0:Gt.InAppBrowser)||void 0===hn?void 0:hn.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const me=yield G._initialize(g);yield me.initialized(),me.resetRedirect(),function rd(){cl.clear()}(),yield G._originValidation(g);const be=function Qw(C,g,v=null){return{type:g,eventId:v,urlResponse:null,sessionId:mI(),postBody:null,tenantId:C.tenantId,error:qe(C,"no-auth-event")}}(g,I,L);yield function Xw(C,g){return Lm()._set(zf(C),g)}(g,be);const Pt=yield function U_(C,g,v){return dd.apply(this,arguments)}(g,be,v),Gt=yield function pI(C){const{cordova:g}=ph();return new Promise(v=>{g.plugins.browsertab.isAvailable(I=>{let L=null;I?g.plugins.browsertab.openUrl(C):L=g.InAppBrowser.open(C,function Ci(C=(0,ee.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),v(L)})})}(Pt);return function H_(C,g,v){return o0.apply(this,arguments)}(g,me,Gt)})()}_isIframeWebStorageSupported(g,v){throw new Error("Method not implemented.")}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function j_(C){return jf.apply(this,arguments)}(g)),this.originValidationPromises[v]}attachCallbackListeners(g,v){const{universalLinks:I,handleOpenURL:L,BuildInfo:G}=ph(),me=setTimeout((0,l.Z)(function*(){yield hd(g),v.onEvent(sr())}),500),be=function(){var hn=(0,l.Z)(function*($t){clearTimeout(me);const Sr=yield hd(g);let dl=null;Sr&&$t?.url&&(dl=function Jw(C,g){var v,I;const L=function e1(C){const g=Hi(C),v=g.link?decodeURIComponent(g.link):void 0,I=Hi(v).link,L=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Hi(L).link||L||I||v||C}(g);if(L.includes("/__/auth/callback")){const G=Hi(L),me=G.firebaseError?function gI(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(G.firebaseError)):null,be=null===(I=null===(v=me?.code)||void 0===v?void 0:v.split("auth/"))||void 0===I?void 0:I[1],Pt=be?qe(be):null;return Pt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:L,postBody:null}}return null}(Sr,$t.url)),v.onEvent(dl||sr())});return function(Sr){return hn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,be);const Pt=L,Gt=`${G.packageName.toLowerCase()}://`;ph().handleOpenURL=function(){var hn=(0,l.Z)(function*($t){if($t.toLowerCase().startsWith(Gt)&&be({url:$t}),"function"==typeof Pt)try{Pt($t)}catch(Sr){console.error(Sr)}});return function($t){return hn.apply(this,arguments)}}()}};function sr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:qe("no-auth-event")}}function or(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function Qs(C=(0,ee.z$)()){return!("file:"!==or()&&"ionic:"!==or()&&"capacitor:"!==or()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function vI(){try{const C=self.localStorage,g=xm();if(C)return C.setItem(g,"1"),C.removeItem(g),!function NT(C=(0,ee.z$)()){return function t1(){return(0,ee.w1)()&&11===document?.documentMode}()||function Ia(C=(0,ee.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,ee.hl)()}catch{return n1()&&(0,ee.hl)()}return!1}function n1(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function l0(){return(function Ii(){return"http:"===or()||"https:"===or()}()||(0,ee.ru)()||Qs())&&!function RT(){return(0,ee.b$)()||(0,ee.UG)()}()&&vI()&&!n1()}function gh(){return Qs()&&typeof document<"u"}function Mc(){return(Mc=(0,l.Z)(function*(){return!!gh()&&new Promise(C=>{const g=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),C(!0)})})})).apply(this,arguments)}const sa={LOCAL:"local",NONE:"none",SESSION:"session"},Gf=nt,u0="persistence";function Bm(C){return kc.apply(this,arguments)}function kc(){return(kc=(0,l.Z)(function*(C){yield C._initializationPromise;const g=fd(),v=ge(u0,C.config.apiKey,C.name);g&&g.setItem(v,C._getPersistence())})).apply(this,arguments)}function fd(){var C;try{return(null===(C=function W_(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const _h=nt;class yu{constructor(){this.browserResolver=Nr(ra),this.cordovaResolver=Nr(vu),this.underlyingResolver=null,this._redirectPersistence=cu,this._completeRedirectFn=pu,this._overrideRedirectResult=ah}_initialize(g){var v=this;return(0,l.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,v,I,L){var G=this;return(0,l.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._openPopup(g,v,I,L)})()}_openRedirect(g,v,I,L){var G=this;return(0,l.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._openRedirect(g,v,I,L)})()}_isIframeWebStorageSupported(g,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,v)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return gh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _h(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,l.Z)(function*(){if(g.underlyingResolver)return;const v=yield function c0(){return Mc.apply(this,arguments)}();g.underlyingResolver=v?g.cordovaResolver:g.browserResolver})()}}function $l(C){return C.unwrap()}function ul(C){return oa(C)}function oa(C){const{_tokenResponse:g}=C instanceof ee.ZR?C.customData:C;if(!g)return null;if(!(C instanceof ee.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Pi.credentialFromResult(C);const v=g.providerId;if(!v||v===at.PASSWORD)return null;let I;switch(v){case at.GOOGLE:I=qa;break;case at.FACEBOOK:I=p_;break;case at.GITHUB:I=Ol;break;case at.TWITTER:I=Kd;break;default:const{oauthIdToken:L,oauthAccessToken:G,oauthTokenSecret:me,pendingToken:be,nonce:Pt}=g;return G||me||L||be?be?v.startsWith("saml.")?il._create(v,be):Jt._fromParams({providerId:v,signInMethod:v,pendingToken:be,idToken:L,accessToken:G}):new va(v).credential({idToken:L,accessToken:G,rawNonce:Pt}):null}return C instanceof ee.ZR?I.credentialFromError(C):I.credentialFromResult(C)}function Da(C,g){return g.catch(v=>{throw v instanceof ee.ZR&&function d0(C,g){var v;const I=null===(v=g.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new yI(C,function vm(C,g){var v;const I=(0,ee.m9)(C),L=g;return nt(g.customData.operationType,I,"argument-error"),nt(null===(v=L.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),ou._fromError(I,L)}(C,g));else if(I){const L=oa(g),G=g;L&&(G.credential=L,G.tenantId=I.tenantId||void 0,G.email=I.email||void 0,G.phoneNumber=I.phoneNumber||void 0)}}(C,v),v}).then(v=>{const L=v.user;return{operationType:v.operationType,credential:ul(v),additionalUserInfo:Qy(v),user:Rc.getOrCreate(L)}})}function Vm(C,g){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,l.Z)(function*(C,g){const v=yield g;return{verificationId:v.verificationId,confirm:I=>Da(C,v.confirm(I))}})).apply(this,arguments)}class yI{constructor(g,v){this.resolver=v,this.auth=function Y_(C){return C.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Da($l(this.auth),this.resolver.resolveSignIn(g))}}class Rc{constructor(g){this._delegate=g,this.multiFactor=function Ju(C){const g=(0,ee.m9)(C);return ji.has(g)||ji.set(g,au._fromUser(g)),ji.get(g)}(g)}static getOrCreate(g){return Rc.USER_MAP.has(g)||Rc.USER_MAP.set(g,new Rc(g)),Rc.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var v=this;return(0,l.Z)(function*(){return Da(v.auth,Nw(v._delegate,g))})()}linkWithPhoneNumber(g,v){var I=this;return(0,l.Z)(function*(){return Vm(I.auth,function _n(C,g,v){return Ps.apply(this,arguments)}(I._delegate,g,v))})()}linkWithPopup(g){var v=this;return(0,l.Z)(function*(){return Da(v.auth,function Zs(C,g,v){return J.apply(this,arguments)}(v._delegate,g,yu))})()}linkWithRedirect(g){var v=this;return(0,l.Z)(function*(){return yield Bm(zr(v.auth)),Of(v._delegate,g,yu)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var v=this;return(0,l.Z)(function*(){return Da(v.auth,Pw(v._delegate,g))})()}reauthenticateWithPhoneNumber(g,v){return Vm(this.auth,function En(C,g,v){return Dc.apply(this,arguments)}(this._delegate,g,v))}reauthenticateWithPopup(g){return Da(this.auth,function No(C,g,v){return lt.apply(this,arguments)}(this._delegate,g,yu))}reauthenticateWithRedirect(g){var v=this;return(0,l.Z)(function*(){return yield Bm(zr(v.auth)),sd(v._delegate,g,yu)})()}sendEmailVerification(g){return function ru(C,g){return Vl.apply(this,arguments)}(this._delegate,g)}unlink(g){var v=this;return(0,l.Z)(function*(){return yield function nm(C,g){return Ws.apply(this,arguments)}(v._delegate,g),v})()}updateEmail(g){return function Bw(C,g){return mm((0,ee.m9)(C),g,null)}(this._delegate,g)}updatePassword(g){return function pm(C,g){return mm((0,ee.m9)(C),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Ti(C,g){return zl.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Lw(C,g){return wf.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,v){return function yf(C,g,v){return bf.apply(this,arguments)}(this._delegate,g,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Rc.USER_MAP=new WeakMap;const Os=nt;let Um=(()=>{class C{constructor(v,I){if(this.app=v,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:L}=v.options;Os(L,"invalid-api-key",{appName:v.name}),Os(L,"invalid-api-key",{appName:v.name});const G=typeof window<"u"?yu:void 0;this._delegate=I.initialize({options:{persistence:Z_(L,v.name),popupRedirectResolver:G}}),this._delegate._updateErrorMap(rn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,I){!function uf(C,g,v){const I=zr(C);nt(I._canInitEmulator,I,"emulator-config-failed"),nt(/^https?:\/\//.test(g),I,"invalid-emulator-scheme");const L=!!v?.disableWarnings,G=ss(g),{host:me,port:be}=function Gd(C){const g=ss(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(I);if(L){const G=L[1];return{host:G,port:df(I.substr(G.length+1))}}{const[G,me]=I.split(":");return{host:G,port:df(me)}}}(g);I.config.emulator={url:`${G}//${me}${null===be?"":`:${be}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:me,port:be,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Rw(){function C(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,v,I)}applyActionCode(v){return function sl(C,g){return ya.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return __(this._delegate,v)}confirmPasswordReset(v,I){return function Ow(C,g,v){return Bl.apply(this,arguments)}(this._delegate,v,I)}createUserWithEmailAndPassword(v,I){var L=this;return(0,l.Z)(function*(){return Da(L._delegate,function um(C,g,v){return Jd.apply(this,arguments)}(L._delegate,v,I))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function fm(C,g){return Ku.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function Zy(C,g){const v=Pl.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}(0,v)}getRedirectResult(){var v=this;return(0,l.Z)(function*(){Os(l0(),v._delegate,"operation-not-supported-in-this-environment");const I=yield function Ks(C,g){return ta.apply(this,arguments)}(v._delegate,yu);return I?Da(v._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function $_(C,g){zr(C)._logFramework(g)}(this._delegate,v)}onAuthStateChanged(v,I,L){const{next:G,error:me,complete:be}=pd(v,I,L);return this._delegate.onAuthStateChanged(G,me,be)}onIdTokenChanged(v,I,L){const{next:G,error:me,complete:be}=pd(v,I,L);return this._delegate.onIdTokenChanged(G,me,be)}sendSignInLinkToEmail(v,I){return function eh(C,g,v){return Zu.apply(this,arguments)}(this._delegate,v,I)}sendPasswordResetEmail(v,I){return function dI(C,g,v){return Xd.apply(this,arguments)}(this._delegate,v,I||void 0)}setPersistence(v){var I=this;return(0,l.Z)(function*(){let L;switch(function $f(C,g){Gf(Object.values(sa).includes(g),C,"invalid-persistence-type"),(0,ee.b$)()?Gf(g!==sa.SESSION,C,"unsupported-persistence-type"):(0,ee.UG)()?Gf(g===sa.NONE,C,"unsupported-persistence-type"):n1()?Gf(g===sa.NONE||g===sa.LOCAL&&(0,ee.hl)(),C,"unsupported-persistence-type"):Gf(g===sa.NONE||vI(),C,"unsupported-persistence-type")}(I._delegate,v),v){case sa.SESSION:L=cu;break;case sa.LOCAL:L=(yield Nr(Ro)._isAvailable())?Ro:ed;break;case sa.NONE:L=ao;break;default:return _t("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(L)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Da(this._delegate,function Qd(C){return vs.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Da(this._delegate,am(this._delegate,v))}signInWithCustomToken(v){return Da(this._delegate,function g_(C,g){return Ll.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,I){return Da(this._delegate,function v_(C,g,v){return am((0,ee.m9)(C),Wu.credential(g,v))}(this._delegate,v,I))}signInWithEmailLink(v,I){return Da(this._delegate,function ys(C,g,v){return vf.apply(this,arguments)}(this._delegate,v,I))}signInWithPhoneNumber(v,I){return Vm(this._delegate,function du(C,g,v){return qr.apply(this,arguments)}(this._delegate,v,I))}signInWithPopup(v){var I=this;return(0,l.Z)(function*(){return Os(l0(),I._delegate,"operation-not-supported-in-this-environment"),Da(I._delegate,function R_(C,g,v){return fu.apply(this,arguments)}(I._delegate,v,yu))})()}signInWithRedirect(v){var I=this;return(0,l.Z)(function*(){return Os(l0(),I._delegate,"operation-not-supported-in-this-environment"),yield Bm(I._delegate),ch(I._delegate,v,yu)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function Yu(C,g){return Ns.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=sa,C})();function pd(C,g,v){let I=C;"function"!=typeof C&&({next:I,error:g,complete:v}=C);const L=I;return{next:me=>L(me&&Rc.getOrCreate(me)),error:g,complete:v}}function Z_(C,g){const v=function gi(C,g){const v=fd();if(!v)return[];const I=ge(u0,C,g);switch(v.getItem(I)){case sa.NONE:return[ao];case sa.LOCAL:return[Ro,cu];case sa.SESSION:return[cu];default:return[]}}(C,g);if(typeof self<"u"&&!v.includes(Ro)&&v.push(Ro),typeof window<"u")for(const I of[ed,cu])v.includes(I)||v.push(I);return v.includes(ao)||v.push(ao),v}class Fs{constructor(){this.providerId="phone",this._delegate=new Pi($l(Fe.Z.auth()))}static credential(g,v){return Pi.credential(g,v)}verifyPhoneNumber(g,v){return this._delegate.verifyPhoneNumber(g,v)}unwrap(){return this._delegate}}Fs.PHONE_SIGN_IN_METHOD=Pi.PHONE_SIGN_IN_METHOD,Fs.PROVIDER_ID=Pi.PROVIDER_ID;const jm=nt;class r1{constructor(g,v,I=Fe.Z.app()){var L;jm(null===(L=I.options)||void 0===L?void 0:L.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Mf(g,v,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vr(C){C.INTERNAL.registerComponent(new pt.wA("auth-compat",g=>{const v=g.getProvider("app-compat").getImmediate(),I=g.getProvider("auth");return new Um(v,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Wu,FacebookAuthProvider:p_,GithubAuthProvider:Ol,GoogleAuthProvider:qa,OAuthProvider:va,SAMLAuthProvider:tm,PhoneAuthProvider:Fs,PhoneMultiFactorGenerator:hh,RecaptchaVerifier:r1,TwitterAuthProvider:Kd,Auth:Um,AuthCredential:eu,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.2")}(Fe.Z)},5861:(An,xt,Q)=>{function l(ee,He,We,je,pt,Ft,at){try{var ue=ee[Ft](at),_e=ue.value}catch(Be){return void We(Be)}ue.done?He(_e):Promise.resolve(_e).then(je,pt)}function Fe(ee){return function(){var He=this,We=arguments;return new Promise(function(je,pt){var Ft=ee.apply(He,We);function at(_e){l(Ft,je,pt,at,ue,"next",_e)}function ue(_e){l(Ft,je,pt,at,ue,"throw",_e)}at(void 0)})}}Q.d(xt,{Z:()=>Fe})},1002:(An,xt,Q)=>{function l(Fe){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(Fe)}Q.d(xt,{Z:()=>l})},7582:(An,xt,Q)=>{function He(it,st){var yt={};for(var bt in it)Object.prototype.hasOwnProperty.call(it,bt)&&st.indexOf(bt)<0&&(yt[bt]=it[bt]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(bt=Object.getOwnPropertySymbols(it);Ct<bt.length;Ct++)st.indexOf(bt[Ct])<0&&Object.prototype.propertyIsEnumerable.call(it,bt[Ct])&&(yt[bt[Ct]]=it[bt[Ct]])}return yt}function Be(it,st,yt,bt){return new(yt||(yt=Promise))(function(Dt,fn){function Xt(Li){try{On(bt.next(Li))}catch(ti){fn(ti)}}function Rr(Li){try{On(bt.throw(Li))}catch(ti){fn(ti)}}function On(Li){Li.done?Dt(Li.value):function Ct(Dt){return Dt instanceof yt?Dt:new yt(function(fn){fn(Dt)})}(Li.value).then(Xt,Rr)}On((bt=bt.apply(it,st||[])).next())})}function $e(it){return this instanceof $e?(this.v=it,this):new $e(it)}function _t(it,st,yt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,bt=yt.apply(it,st||[]),Dt=[];return Ct={},fn("next"),fn("throw"),fn("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct;function fn(pr){bt[pr]&&(Ct[pr]=function(mr){return new Promise(function(ps,Ki){Dt.push([pr,mr,ps,Ki])>1||Xt(pr,mr)})})}function Xt(pr,mr){try{!function Rr(pr){pr.value instanceof $e?Promise.resolve(pr.value.v).then(On,Li):ti(Dt[0][2],pr)}(bt[pr](mr))}catch(ps){ti(Dt[0][3],ps)}}function On(pr){Xt("next",pr)}function Li(pr){Xt("throw",pr)}function ti(pr,mr){pr(mr),Dt.shift(),Dt.length&&Xt(Dt[0][0],Dt[0][1])}}function It(it){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,st=it[Symbol.asyncIterator];return st?st.call(it):(it=function Ot(it){var st="function"==typeof Symbol&&Symbol.iterator,yt=st&&it[st],bt=0;if(yt)return yt.call(it);if(it&&"number"==typeof it.length)return{next:function(){return it&&bt>=it.length&&(it=void 0),{value:it&&it[bt++],done:!it}}};throw new TypeError(st?"Object is not iterable.":"Symbol.iterator is not defined.")}(it),yt={},bt("next"),bt("throw"),bt("return"),yt[Symbol.asyncIterator]=function(){return this},yt);function bt(Dt){yt[Dt]=it[Dt]&&function(fn){return new Promise(function(Xt,Rr){!function Ct(Dt,fn,Xt,Rr){Promise.resolve(Rr).then(function(On){Dt({value:On,done:Xt})},fn)}(Xt,Rr,(fn=it[Dt](fn)).done,fn.value)})}}}Q.d(xt,{FC:()=>_t,KL:()=>It,_T:()=>He,mG:()=>Be,qq:()=>$e}),"function"==typeof SuppressedError&&SuppressedError}},An=>{An(An.s=4117)}]);